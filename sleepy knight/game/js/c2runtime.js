// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';
var da, ea, fa, ga, ha, ia, ja, ka, ma, na, oa, pa, qa, ra, sa, B, ta, ua, wa, xa, ya, za, Aa, U, Ca, Da, Ea, Fa, Ga, V, Ha, Ia, Ka, La, Ma, Na, Oa, Pa, Qa, Ra, Sa, Ta, Ua, Va, Wa, Xa, Ya, Za, $a, ab, bb, eb, fb, gb, hb, ib, jb, kb, lb, mb, nb, ob, rb, sb, tb, ub, vb, wb, xb, yb, zb, Ab, Bb, Cb, Db, Eb, Fb, Kb, Lb, Mb, Nb, Ob, Pb, Qb, Rb, Sb, Tb, Ub, Vb, Wb, Xb, Yb, Zb, $b, ac, bc, cc, dc, ec, fc, gc = {};
"function" !== typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" === typeof "test".__proto__ ? function(d) {
    return d.__proto__
}
: function(d) {
    return d.constructor.prototype
}
);
(function() {
    function d(a, c, b, f) {
        this.set(a, c, b, f)
    }
    function m() {
        this.Kb = this.Jb = this.Mb = this.Lb = this.$b = this.Zb = this.qb = this.pb = 0
    }
    function p(a, c, b, f) {
        a < c ? b < f ? (y = a < b ? a : b,
        I = c > f ? c : f) : (y = a < f ? a : f,
        I = c > b ? c : b) : b < f ? (y = c < b ? c : b,
        I = a > f ? a : f) : (y = c < f ? c : f,
        I = a > b ? a : b)
    }
    function r() {
        this.items = this.pe = null;
        this.cj = 0;
        A && (this.pe = new Set);
        this.gi = [];
        this.qf = !0
    }
    function n(a) {
        v[Y++] = a
    }
    function t() {
        this.R = this.Tm = this.y = this.wi = 0
    }
    function l(a) {
        this.Ka = [];
        this.Ek = this.Gk = this.Hk = this.Fk = 0;
        this.Uj(a)
    }
    function a(a, c) {
        this.rb = a;
        this.Eb = c;
        this.cells = {}
    }
    function b(a, c) {
        this.rb = a;
        this.Eb = c;
        this.cells = {}
    }
    function e(a, c, b) {
        var f;
        return P.length ? (f = P.pop(),
        f.uo = a,
        f.x = c,
        f.y = b,
        f) : new ea(a,c,b)
    }
    function c(a, c, b) {
        this.uo = a;
        this.x = c;
        this.y = b;
        this.Gb = new fa
    }
    function f(a, c, b) {
        var f;
        return M.length ? (f = M.pop(),
        f.uo = a,
        f.x = c,
        f.y = b,
        f) : new ga(a,c,b)
    }
    function g(a, c, b) {
        this.uo = a;
        this.x = c;
        this.y = b;
        this.Gb = [];
        this.xh = !0;
        this.me = new fa;
        this.si = !1
    }
    function h(a, c) {
        return a.Vd - c.Vd
    }
    ha = function(a) {
        window.console && window.console.log && window.console.log(a)
    }
    ;
    ia = function(a) {
        window.console && window.console.error && window.console.error(a)
    }
    ;
    da = function(a) {
        return a
    }
    ;
    ja = function(a) {
        return "undefined" === typeof a
    }
    ;
    ka = function(a) {
        return "number" === typeof a
    }
    ;
    ma = function(a) {
        return "string" === typeof a
    }
    ;
    na = function(a) {
        return 0 < a && 0 === (a - 1 & a)
    }
    ;
    oa = function(a) {
        --a;
        for (var c = 1; 32 > c; c <<= 1)
            a = a | a >> c;
        return a + 1
    }
    ;
    pa = function(a) {
        return 0 > a ? -a : a
    }
    ;
    qa = function(a, c) {
        return a > c ? a : c
    }
    ;
    ra = function(a, c) {
        return a < c ? a : c
    }
    ;
    sa = Math.PI;
    B = function(a) {
        return 0 <= a ? a | 0 : (a | 0) - 1
    }
    ;
    ta = function(a) {
        var c = a | 0;
        return c === a ? c : c + 1
    }
    ;
    ua = function(a, c, b, f, e, k, g, h) {
        var u, z, w, q;
        a < b ? (z = a,
        u = b) : (z = b,
        u = a);
        e < g ? (q = e,
        w = g) : (q = g,
        w = e);
        if (u < q || z > w)
            return !1;
        c < f ? (z = c,
        u = f) : (z = f,
        u = c);
        k < h ? (q = k,
        w = h) : (q = h,
        w = k);
        if (u < q || z > w)
            return !1;
        u = e - a + g - b;
        z = k - c + h - f;
        a = b - a;
        c = f - c;
        e = g - e;
        k = h - k;
        h = pa(c * e - k * a);
        return pa(e * z - k * u) > h ? !1 : pa(a * z - c * u) <= h
    }
    ;
    d.prototype.set = function(a, c, b, f) {
        this.left = a;
        this.top = c;
        this.right = b;
        this.bottom = f
    }
    ;
    d.prototype.$g = function(a) {
        this.left = a.left;
        this.top = a.top;
        this.right = a.right;
        this.bottom = a.bottom
    }
    ;
    d.prototype.width = function() {
        return this.right - this.left
    }
    ;
    d.prototype.height = function() {
        return this.bottom - this.top
    }
    ;
    d.prototype.offset = function(a, c) {
        this.left += a;
        this.top += c;
        this.right += a;
        this.bottom += c;
        return this
    }
    ;
    d.prototype.normalize = function() {
        var a = 0;
        this.left > this.right && (a = this.left,
        this.left = this.right,
        this.right = a);
        this.top > this.bottom && (a = this.top,
        this.top = this.bottom,
        this.bottom = a)
    }
    ;
    d.prototype.az = function(a) {
        return !(a.right < this.left || a.bottom < this.top || a.left > this.right || a.top > this.bottom)
    }
    ;
    d.prototype.bz = function(a, c, b) {
        return !(a.right + c < this.left || a.bottom + b < this.top || a.left + c > this.right || a.top + b > this.bottom)
    }
    ;
    d.prototype.ec = function(a, c) {
        return a >= this.left && a <= this.right && c >= this.top && c <= this.bottom
    }
    ;
    d.prototype.Fi = function(a) {
        return this.left === a.left && this.top === a.top && this.right === a.right && this.bottom === a.bottom
    }
    ;
    wa = d;
    m.prototype.Zh = function(a) {
        this.pb = a.left;
        this.qb = a.top;
        this.Zb = a.right;
        this.$b = a.top;
        this.Lb = a.right;
        this.Mb = a.bottom;
        this.Jb = a.left;
        this.Kb = a.bottom
    }
    ;
    m.prototype.St = function(a, c) {
        if (0 === c)
            this.Zh(a);
        else {
            var b = Math.sin(c)
              , f = Math.cos(c)
              , e = a.left * b
              , k = a.top * b
              , g = a.right * b
              , b = a.bottom * b
              , h = a.left * f
              , u = a.top * f
              , z = a.right * f
              , f = a.bottom * f;
            this.pb = h - k;
            this.qb = u + e;
            this.Zb = z - k;
            this.$b = u + g;
            this.Lb = z - b;
            this.Mb = f + g;
            this.Jb = h - b;
            this.Kb = f + e
        }
    }
    ;
    m.prototype.offset = function(a, c) {
        this.pb += a;
        this.qb += c;
        this.Zb += a;
        this.$b += c;
        this.Lb += a;
        this.Mb += c;
        this.Jb += a;
        this.Kb += c;
        return this
    }
    ;
    var y = 0
      , I = 0;
    m.prototype.dr = function(a) {
        p(this.pb, this.Zb, this.Lb, this.Jb);
        a.left = y;
        a.right = I;
        p(this.qb, this.$b, this.Mb, this.Kb);
        a.top = y;
        a.bottom = I
    }
    ;
    m.prototype.ec = function(a, c) {
        var b = this.pb
          , f = this.qb
          , e = this.Zb - b
          , k = this.$b - f
          , g = this.Lb - b
          , h = this.Mb - f
          , u = a - b
          , z = c - f
          , w = e * e + k * k
          , q = e * g + k * h
          , k = e * u + k * z
          , A = g * g + h * h
          , d = g * u + h * z
          , l = 1 / (w * A - q * q)
          , e = (A * k - q * d) * l
          , w = (w * d - q * k) * l;
        if (0 <= e && 0 < w && 1 > e + w)
            return !0;
        e = this.Jb - b;
        k = this.Kb - f;
        w = e * e + k * k;
        q = e * g + k * h;
        k = e * u + k * z;
        l = 1 / (w * A - q * q);
        e = (A * k - q * d) * l;
        w = (w * d - q * k) * l;
        return 0 <= e && 0 < w && 1 > e + w
    }
    ;
    m.prototype.nf = function(a, c) {
        if (c)
            switch (a) {
            case 0:
                return this.pb;
            case 1:
                return this.Zb;
            case 2:
                return this.Lb;
            case 3:
                return this.Jb;
            case 4:
                return this.pb;
            default:
                return this.pb
            }
        else
            switch (a) {
            case 0:
                return this.qb;
            case 1:
                return this.$b;
            case 2:
                return this.Mb;
            case 3:
                return this.Kb;
            case 4:
                return this.qb;
            default:
                return this.qb
            }
    }
    ;
    m.prototype.Ps = function() {
        return (this.pb + this.Zb + this.Lb + this.Jb) / 4
    }
    ;
    m.prototype.Qs = function() {
        return (this.qb + this.$b + this.Mb + this.Kb) / 4
    }
    ;
    m.prototype.as = function(a) {
        var c = a.Ps()
          , b = a.Qs();
        if (this.ec(c, b))
            return !0;
        c = this.Ps();
        b = this.Qs();
        if (a.ec(c, b))
            return !0;
        var f, e, k, g, h, u, z, w;
        for (z = 0; 4 > z; z++)
            for (w = 0; 4 > w; w++)
                if (c = this.nf(z, !0),
                b = this.nf(z, !1),
                f = this.nf(z + 1, !0),
                e = this.nf(z + 1, !1),
                k = a.nf(w, !0),
                g = a.nf(w, !1),
                h = a.nf(w + 1, !0),
                u = a.nf(w + 1, !1),
                ua(c, b, f, e, k, g, h, u))
                    return !0;
        return !1
    }
    ;
    xa = m;
    ya = function(a, c) {
        for (var b in c)
            c.hasOwnProperty(b) && (a[b] = c[b]);
        return a
    }
    ;
    za = function(a, c) {
        var b, f;
        c = B(c);
        if (!(0 > c || c >= a.length)) {
            b = c;
            for (f = a.length - 1; b < f; b++)
                a[b] = a[b + 1];
            Aa(a, f)
        }
    }
    ;
    Aa = function(a, c) {
        a.length = c
    }
    ;
    U = function(a) {
        Aa(a, 0)
    }
    ;
    Ca = function(a, c) {
        U(a);
        var b, f;
        b = 0;
        for (f = c.length; b < f; ++b)
            a[b] = c[b]
    }
    ;
    Da = function(a, c) {
        a.push.apply(a, c)
    }
    ;
    Ea = function(a, c) {
        var b, f;
        b = 0;
        for (f = a.length; b < f; ++b)
            if (a[b] === c)
                return b;
        return -1
    }
    ;
    Fa = function(a, c) {
        var b = Ea(a, c);
        -1 !== b && za(a, b)
    }
    ;
    Ga = function(a, c, b) {
        return a < c ? c : a > b ? b : a
    }
    ;
    V = function(a) {
        return a / (180 / sa)
    }
    ;
    Ha = function(a) {
        return 180 / sa * a
    }
    ;
    Ia = function(a) {
        a %= 360;
        0 > a && (a += 360);
        return a
    }
    ;
    Ka = function(a) {
        a %= 2 * sa;
        0 > a && (a += 2 * sa);
        return a
    }
    ;
    La = function(a) {
        return Ia(Ha(a))
    }
    ;
    Ma = function(a) {
        return Ka(V(a))
    }
    ;
    Na = function(a, c, b, f) {
        return Math.atan2(f - c, b - a)
    }
    ;
    Oa = function(a, c) {
        if (a === c)
            return 0;
        var b = Math.sin(a)
          , f = Math.cos(a)
          , e = Math.sin(c)
          , k = Math.cos(c)
          , b = b * e + f * k;
        return 1 <= b ? 0 : -1 >= b ? sa : Math.acos(b)
    }
    ;
    Pa = function(a, c, b) {
        var f = Math.sin(a)
          , e = Math.cos(a)
          , k = Math.sin(c)
          , g = Math.cos(c);
        return Math.acos(f * k + e * g) > b ? 0 < e * k - f * g ? Ka(a + b) : Ka(a - b) : Ka(c)
    }
    ;
    Qa = function(a, c) {
        var b = Math.sin(a)
          , f = Math.cos(a)
          , e = Math.sin(c)
          , k = Math.cos(c);
        return 0 >= f * e - b * k
    }
    ;
    Ra = function(a, c, b, f, e, k) {
        if (0 === b)
            return k ? a : c;
        var g = Math.sin(b);
        b = Math.cos(b);
        a -= f;
        c -= e;
        var h = a * g;
        a = a * b - c * g;
        c = c * b + h;
        return k ? a + f : c + e
    }
    ;
    Sa = function(a, c, b, f) {
        a = b - a;
        c = f - c;
        return Math.sqrt(a * a + c * c)
    }
    ;
    Ta = function(a, c) {
        return !a !== !c
    }
    ;
    Ua = function(a) {
        for (var c in a)
            if (a.hasOwnProperty(c))
                return !0;
        return !1
    }
    ;
    Va = function(a) {
        for (var c in a)
            a.hasOwnProperty(c) && delete a[c]
    }
    ;
    var q = +new Date;
    Wa = function() {
        if ("undefined" !== typeof window.performance) {
            var a = window.performance;
            if ("undefined" !== typeof a.now)
                return a.now();
            if ("undefined" !== typeof a.webkitNow)
                return a.webkitNow();
            if ("undefined" !== typeof a.mozNow)
                return a.mozNow();
            if ("undefined" !== typeof a.msNow)
                return a.msNow()
        }
        return Date.now() - q
    }
    ;
    var k = !1
      , u = k = !1
      , T = !1;
    "undefined" !== typeof window && (k = /chrome/i.test(navigator.userAgent) || /chromium/i.test(navigator.userAgent),
    k = !k && /safari/i.test(navigator.userAgent),
    u = /(iphone|ipod|ipad)/i.test(navigator.userAgent),
    T = window.c2ejecta);
    var A = !k && !T && !u && "undefined" !== typeof Set && "undefined" !== typeof Set.prototype.forEach;
    r.prototype.contains = function(a) {
        return this.Ee() ? !1 : A ? this.pe.has(a) : this.items && this.items.hasOwnProperty(a)
    }
    ;
    r.prototype.add = function(a) {
        if (A)
            this.pe.has(a) || (this.pe.add(a),
            this.qf = !1);
        else {
            var c = a.toString()
              , b = this.items;
            b ? b.hasOwnProperty(c) || (b[c] = a,
            this.cj++,
            this.qf = !1) : (this.items = {},
            this.items[c] = a,
            this.cj = 1,
            this.qf = !1)
        }
    }
    ;
    r.prototype.remove = function(a) {
        if (!this.Ee())
            if (A)
                this.pe.has(a) && (this.pe["delete"](a),
                this.qf = !1);
            else if (this.items) {
                a = a.toString();
                var c = this.items;
                c.hasOwnProperty(a) && (delete c[a],
                this.cj--,
                this.qf = !1)
            }
    }
    ;
    r.prototype.clear = function() {
        this.Ee() || (A ? this.pe.clear() : (this.items = null,
        this.cj = 0),
        U(this.gi),
        this.qf = !0)
    }
    ;
    r.prototype.Ee = function() {
        return 0 === this.count()
    }
    ;
    r.prototype.count = function() {
        return A ? this.pe.size : this.cj
    }
    ;
    var v = null
      , Y = 0;
    r.prototype.DA = function() {
        if (!this.qf) {
            if (A)
                U(this.gi),
                v = this.gi,
                Y = 0,
                this.pe.forEach(n),
                v = null,
                Y = 0;
            else {
                var a = this.gi;
                U(a);
                var c, b = 0, f = this.items;
                if (f)
                    for (c in f)
                        f.hasOwnProperty(c) && (a[b++] = f[c])
            }
            this.qf = !0
        }
    }
    ;
    r.prototype.bf = function() {
        this.DA();
        return this.gi
    }
    ;
    fa = r;
    new fa;
    Xa = function(a, c) {
        A ? Ya(a, c.pe) : Za(a, c.bf())
    }
    ;
    Ya = function(a, c) {
        var b, f, e, k;
        f = b = 0;
        for (e = a.length; b < e; ++b)
            k = a[b],
            c.has(k) || (a[f++] = k);
        Aa(a, f)
    }
    ;
    Za = function(a, c) {
        var b, f, e, k;
        f = b = 0;
        for (e = a.length; b < e; ++b)
            k = a[b],
            -1 === Ea(c, k) && (a[f++] = k);
        Aa(a, f)
    }
    ;
    t.prototype.add = function(a) {
        this.y = a - this.wi;
        this.Tm = this.R + this.y;
        this.wi = this.Tm - this.R - this.y;
        this.R = this.Tm
    }
    ;
    t.prototype.reset = function() {
        this.R = this.Tm = this.y = this.wi = 0
    }
    ;
    $a = t;
    ab = function(a) {
        return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
    }
    ;
    l.prototype.Uj = function(a) {
        this.zt = a;
        this.Tc = a.length / 2;
        this.Ka.length = a.length;
        this.Kk = this.Lk = -1;
        this.hr = 0
    }
    ;
    l.prototype.uh = function() {
        return !this.zt.length
    }
    ;
    l.prototype.Ha = function() {
        for (var a = this.Ka, c = a[0], b = c, f = a[1], e = f, k, g, h = 1, u = this.Tc; h < u; ++h)
            g = 2 * h,
            k = a[g],
            g = a[g + 1],
            k < c && (c = k),
            k > b && (b = k),
            g < f && (f = g),
            g > e && (e = g);
        this.Fk = c;
        this.Gk = b;
        this.Hk = f;
        this.Ek = e
    }
    ;
    l.prototype.Zh = function(a, c, b) {
        this.Ka.length = 8;
        this.Tc = 4;
        var f = this.Ka;
        f[0] = a.left - c;
        f[1] = a.top - b;
        f[2] = a.right - c;
        f[3] = a.top - b;
        f[4] = a.right - c;
        f[5] = a.bottom - b;
        f[6] = a.left - c;
        f[7] = a.bottom - b;
        this.Lk = a.right - a.left;
        this.Kk = a.bottom - a.top;
        this.Ha()
    }
    ;
    l.prototype.Yh = function(a, c, b, f, e) {
        this.Ka.length = 8;
        this.Tc = 4;
        var k = this.Ka;
        k[0] = a.pb - c;
        k[1] = a.qb - b;
        k[2] = a.Zb - c;
        k[3] = a.$b - b;
        k[4] = a.Lb - c;
        k[5] = a.Mb - b;
        k[6] = a.Jb - c;
        k[7] = a.Kb - b;
        this.Lk = f;
        this.Kk = e;
        this.Ha()
    }
    ;
    l.prototype.Rt = function(a) {
        this.Tc = a.Tc;
        Ca(this.Ka, a.Ka);
        this.Fk = a.Fk;
        this.Hk - a.Hk;
        this.Gk = a.Gk;
        this.Ek = a.Ek
    }
    ;
    l.prototype.Wf = function(a, c, b) {
        if (this.Lk !== a || this.Kk !== c || this.hr !== b) {
            this.Lk = a;
            this.Kk = c;
            this.hr = b;
            var f, e, k, g, h, u = 0, z = 1, w = this.zt, q = this.Ka;
            0 !== b && (u = Math.sin(b),
            z = Math.cos(b));
            b = 0;
            for (k = this.Tc; b < k; b++)
                f = 2 * b,
                e = f + 1,
                g = w[f] * a,
                h = w[e] * c,
                q[f] = g * z - h * u,
                q[e] = h * z + g * u;
            this.Ha()
        }
    }
    ;
    l.prototype.ec = function(a, c) {
        var b = this.Ka;
        if (a === b[0] && c === b[1])
            return !0;
        var f, e, k, g = this.Tc, h = this.Fk - 110, u = this.Hk - 101, z = this.Gk + 131, w = this.Ek + 120, q, A, d = 0, l = 0;
        for (f = 0; f < g; f++)
            e = 2 * f,
            k = (f + 1) % g * 2,
            q = b[e],
            e = b[e + 1],
            A = b[k],
            k = b[k + 1],
            ua(h, u, a, c, q, e, A, k) && d++,
            ua(z, w, a, c, q, e, A, k) && l++;
        return 1 === d % 2 || 1 === l % 2
    }
    ;
    l.prototype.Ti = function(a, c, b) {
        var f = a.Ka
          , e = this.Ka;
        if (this.ec(f[0] + c, f[1] + b) || a.ec(e[0] - c, e[1] - b))
            return !0;
        var k, g, h, u, z, w, q, A, d, l, y, v;
        k = 0;
        for (u = this.Tc; k < u; k++)
            for (g = 2 * k,
            h = (k + 1) % u * 2,
            A = e[g],
            g = e[g + 1],
            d = e[h],
            l = e[h + 1],
            h = 0,
            q = a.Tc; h < q; h++)
                if (z = 2 * h,
                w = (h + 1) % q * 2,
                y = f[z] + c,
                z = f[z + 1] + b,
                v = f[w] + c,
                w = f[w + 1] + b,
                ua(A, g, d, l, y, z, v, w))
                    return !0;
        return !1
    }
    ;
    l.prototype.yz = function(a) {
        var c, b, f;
        c = 0;
        for (b = this.Tc; c < b; ++c)
            f = 2 * c,
            this.Ka[f] = 2 * a - this.Ka[f]
    }
    ;
    l.prototype.ky = function(a) {
        var c, b, f;
        c = 0;
        for (b = this.Tc; c < b; ++c)
            f = 2 * c + 1,
            this.Ka[f] = 2 * a - this.Ka[f]
    }
    ;
    l.prototype.Xw = function() {
        var a, c, b, f, e;
        a = 0;
        for (c = this.Tc; a < c; ++a)
            b = 2 * a,
            f = b + 1,
            e = this.Ka[b],
            this.Ka[b] = this.Ka[f],
            this.Ka[f] = e
    }
    ;
    bb = l;
    a.prototype.yf = function(a, c, b) {
        var f;
        f = this.cells[a];
        return f ? (f = f[c]) ? f : b ? (f = e(this, a, c),
        this.cells[a][c] = f) : null : b ? (f = e(this, a, c),
        this.cells[a] = {},
        this.cells[a][c] = f) : null
    }
    ;
    a.prototype.wc = function(a) {
        return B(a / this.rb)
    }
    ;
    a.prototype.xc = function(a) {
        return B(a / this.Eb)
    }
    ;
    a.prototype.update = function(a, c, b) {
        var f, e, k, g, h;
        if (c)
            for (f = c.left,
            e = c.right; f <= e; ++f)
                for (k = c.top,
                g = c.bottom; k <= g; ++k)
                    if (!b || !b.ec(f, k))
                        if (h = this.yf(f, k, !1))
                            h.remove(a),
                            h.Ee() && (h.Gb.clear(),
                            1E3 > P.length && P.push(h),
                            this.cells[f][k] = null);
        if (b)
            for (f = b.left,
            e = b.right; f <= e; ++f)
                for (k = b.top,
                g = b.bottom; k <= g; ++k)
                    c && c.ec(f, k) || this.yf(f, k, !0).Go(a)
    }
    ;
    a.prototype.ym = function(a, c) {
        var b, f, e, k, g, h;
        b = this.wc(a.left);
        e = this.xc(a.top);
        f = this.wc(a.right);
        for (g = this.xc(a.bottom); b <= f; ++b)
            for (k = e; k <= g; ++k)
                (h = this.yf(b, k, !1)) && h.dump(c)
    }
    ;
    eb = a;
    b.prototype.yf = function(a, c, b) {
        var e;
        e = this.cells[a];
        return e ? (e = e[c]) ? e : b ? (e = f(this, a, c),
        this.cells[a][c] = e) : null : b ? (e = f(this, a, c),
        this.cells[a] = {},
        this.cells[a][c] = e) : null
    }
    ;
    b.prototype.wc = function(a) {
        return B(a / this.rb)
    }
    ;
    b.prototype.xc = function(a) {
        return B(a / this.Eb)
    }
    ;
    b.prototype.update = function(a, c, b) {
        var f, e, k, g, h;
        if (c)
            for (f = c.left,
            e = c.right; f <= e; ++f)
                for (k = c.top,
                g = c.bottom; k <= g; ++k)
                    if (!b || !b.ec(f, k))
                        if (h = this.yf(f, k, !1))
                            h.remove(a),
                            h.Ee() && (h.reset(),
                            1E3 > M.length && M.push(h),
                            this.cells[f][k] = null);
        if (b)
            for (f = b.left,
            e = b.right; f <= e; ++f)
                for (k = b.top,
                g = b.bottom; k <= g; ++k)
                    c && c.ec(f, k) || this.yf(f, k, !0).Go(a)
    }
    ;
    b.prototype.ym = function(a, c, b, f, e) {
        var k, g;
        a = this.wc(a);
        c = this.xc(c);
        b = this.wc(b);
        for (k = this.xc(f); a <= b; ++a)
            for (f = c; f <= k; ++f)
                (g = this.yf(a, f, !1)) && g.dump(e)
    }
    ;
    b.prototype.vz = function(a) {
        var c, b, f, e, k;
        c = a.left;
        f = a.top;
        b = a.right;
        for (e = a.bottom; c <= b; ++c)
            for (a = f; a <= e; ++a)
                if (k = this.yf(c, a, !1))
                    k.xh = !1
    }
    ;
    fb = b;
    var P = [];
    c.prototype.Ee = function() {
        return this.Gb.Ee()
    }
    ;
    c.prototype.Go = function(a) {
        this.Gb.add(a)
    }
    ;
    c.prototype.remove = function(a) {
        this.Gb.remove(a)
    }
    ;
    c.prototype.dump = function(a) {
        Da(a, this.Gb.bf())
    }
    ;
    ea = c;
    var M = [];
    g.prototype.Ee = function() {
        if (!this.Gb.length)
            return !0;
        if (this.Gb.length > this.me.count())
            return !1;
        this.$n();
        return !0
    }
    ;
    g.prototype.Go = function(a) {
        this.me.contains(a) ? (this.me.remove(a),
        this.me.Ee() && (this.si = !1)) : this.Gb.length ? (this.Gb[this.Gb.length - 1].he() > a.he() && (this.xh = !1),
        this.Gb.push(a)) : (this.Gb.push(a),
        this.xh = !0)
    }
    ;
    g.prototype.remove = function(a) {
        this.me.add(a);
        this.si = !0;
        30 <= this.me.count() && this.$n()
    }
    ;
    g.prototype.$n = function() {
        this.si && (this.me.count() === this.Gb.length ? this.reset() : (Xa(this.Gb, this.me),
        this.me.clear(),
        this.si = !1))
    }
    ;
    g.prototype.Cx = function() {
        this.xh || (this.Gb.sort(h),
        this.xh = !0)
    }
    ;
    g.prototype.reset = function() {
        U(this.Gb);
        this.xh = !0;
        this.me.clear();
        this.si = !1
    }
    ;
    g.prototype.dump = function(a) {
        this.$n();
        this.Cx();
        this.Gb.length && a.push(this.Gb)
    }
    ;
    ga = g;
    var x = "lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
    gb = function(a) {
        return 0 >= a || 11 <= a ? "source-over" : x[a - 1]
    }
    ;
    hb = function(a, c, b) {
        if (b)
            switch (a.hc = b.ONE,
            a.fc = b.ONE_MINUS_SRC_ALPHA,
            c) {
            case 1:
                a.hc = b.ONE;
                a.fc = b.ONE;
                break;
            case 3:
                a.hc = b.ONE;
                a.fc = b.ZERO;
                break;
            case 4:
                a.hc = b.ONE_MINUS_DST_ALPHA;
                a.fc = b.ONE;
                break;
            case 5:
                a.hc = b.DST_ALPHA;
                a.fc = b.ZERO;
                break;
            case 6:
                a.hc = b.ZERO;
                a.fc = b.SRC_ALPHA;
                break;
            case 7:
                a.hc = b.ONE_MINUS_DST_ALPHA;
                a.fc = b.ZERO;
                break;
            case 8:
                a.hc = b.ZERO;
                a.fc = b.ONE_MINUS_SRC_ALPHA;
                break;
            case 9:
                a.hc = b.DST_ALPHA;
                a.fc = b.ONE_MINUS_SRC_ALPHA;
                break;
            case 10:
                a.hc = b.ONE_MINUS_DST_ALPHA,
                a.fc = b.SRC_ALPHA
            }
    }
    ;
    ib = function(a) {
        return Math.round(1E6 * a) / 1E6
    }
    ;
    jb = function(a, c) {
        return "string" !== typeof a || "string" !== typeof c || a.length !== c.length ? !1 : a === c ? !0 : a.toLowerCase() === c.toLowerCase()
    }
    ;
    kb = function(a) {
        a = a.target;
        return !a || a === document || a === window || document && document.body && a === document.body || jb(a.tagName, "canvas") ? !0 : !1
    }
}
)();
var hc = "undefined" !== typeof Float32Array ? Float32Array : Array;
function ic(d) {
    var m = new hc(3);
    d && (m[0] = d[0],
    m[1] = d[1],
    m[2] = d[2]);
    return m
}
function jc(d) {
    var m = new hc(16);
    d && (m[0] = d[0],
    m[1] = d[1],
    m[2] = d[2],
    m[3] = d[3],
    m[4] = d[4],
    m[5] = d[5],
    m[6] = d[6],
    m[7] = d[7],
    m[8] = d[8],
    m[9] = d[9],
    m[10] = d[10],
    m[11] = d[11],
    m[12] = d[12],
    m[13] = d[13],
    m[14] = d[14],
    m[15] = d[15]);
    return m
}
function kc(d, m) {
    m[0] = d[0];
    m[1] = d[1];
    m[2] = d[2];
    m[3] = d[3];
    m[4] = d[4];
    m[5] = d[5];
    m[6] = d[6];
    m[7] = d[7];
    m[8] = d[8];
    m[9] = d[9];
    m[10] = d[10];
    m[11] = d[11];
    m[12] = d[12];
    m[13] = d[13];
    m[14] = d[14];
    m[15] = d[15]
}
function lc(d, m) {
    var p = m[0]
      , r = m[1];
    m = m[2];
    d[0] *= p;
    d[1] *= p;
    d[2] *= p;
    d[3] *= p;
    d[4] *= r;
    d[5] *= r;
    d[6] *= r;
    d[7] *= r;
    d[8] *= m;
    d[9] *= m;
    d[10] *= m;
    d[11] *= m
}
function mc(d, m, p, r) {
    r || (r = jc());
    var n, t, l, a, b, e, c, f, g = d[0], h = d[1];
    d = d[2];
    t = p[0];
    l = p[1];
    n = p[2];
    p = m[1];
    e = m[2];
    g === m[0] && h === p && d === e ? (d = r,
    d[0] = 1,
    d[1] = 0,
    d[2] = 0,
    d[3] = 0,
    d[4] = 0,
    d[5] = 1,
    d[6] = 0,
    d[7] = 0,
    d[8] = 0,
    d[9] = 0,
    d[10] = 1,
    d[11] = 0,
    d[12] = 0,
    d[13] = 0,
    d[14] = 0,
    d[15] = 1) : (p = g - m[0],
    e = h - m[1],
    c = d - m[2],
    f = 1 / Math.sqrt(p * p + e * e + c * c),
    p *= f,
    e *= f,
    c *= f,
    m = l * c - n * e,
    n = n * p - t * c,
    t = t * e - l * p,
    (f = Math.sqrt(m * m + n * n + t * t)) ? (f = 1 / f,
    m *= f,
    n *= f,
    t *= f) : t = n = m = 0,
    l = e * t - c * n,
    a = c * m - p * t,
    b = p * n - e * m,
    (f = Math.sqrt(l * l + a * a + b * b)) ? (f = 1 / f,
    l *= f,
    a *= f,
    b *= f) : b = a = l = 0,
    r[0] = m,
    r[1] = l,
    r[2] = p,
    r[3] = 0,
    r[4] = n,
    r[5] = a,
    r[6] = e,
    r[7] = 0,
    r[8] = t,
    r[9] = b,
    r[10] = c,
    r[11] = 0,
    r[12] = -(m * g + n * h + t * d),
    r[13] = -(l * g + a * h + b * d),
    r[14] = -(p * g + e * h + c * d),
    r[15] = 1)
}
(function() {
    function d(a, b, e) {
        this.Fe = /msie/i.test(navigator.userAgent) || /trident/i.test(navigator.userAgent);
        this.height = this.width = 0;
        this.Ja = !!e;
        this.Il = this.Ui = !1;
        this.Vk = 0;
        this.nn = 1;
        this.sq = 1E3;
        this.LA = (this.sq - this.nn) / 32768;
        this.Fn = ic([0, 0, 100]);
        this.zs = ic([0, 0, 0]);
        this.qu = ic([0, 1, 0]);
        this.ok = ic([1, 1, 1]);
        this.ur = !0;
        this.em = jc();
        this.bd = jc();
        this.So = jc();
        this.Pn = jc();
        this.D = a;
        this.version = 0 === this.D.getParameter(this.D.VERSION).indexOf("WebGL 2") ? 2 : 1;
        this.Xr()
    }
    function m(a, b, e) {
        this.D = a;
        this.Vj = b;
        this.name = e;
        this.od = a.getAttribLocation(b, "aPos");
        this.Gf = a.getAttribLocation(b, "aTex");
        this.xs = a.getUniformLocation(b, "matP");
        this.Xl = a.getUniformLocation(b, "matMV");
        this.Ih = a.getUniformLocation(b, "opacity");
        this.Xo = a.getUniformLocation(b, "colorFill");
        this.ys = a.getUniformLocation(b, "samplerFront");
        this.qj = a.getUniformLocation(b, "samplerBack");
        this.Bg = a.getUniformLocation(b, "destStart");
        this.Ag = a.getUniformLocation(b, "destEnd");
        this.sj = a.getUniformLocation(b, "seconds");
        this.Zo = a.getUniformLocation(b, "pixelWidth");
        this.Yo = a.getUniformLocation(b, "pixelHeight");
        this.pj = a.getUniformLocation(b, "layerScale");
        this.oj = a.getUniformLocation(b, "layerAngle");
        this.tj = a.getUniformLocation(b, "viewOrigin");
        this.rj = a.getUniformLocation(b, "scrollPos");
        this.Wy = !!(this.Zo || this.Yo || this.sj || this.qj || this.Bg || this.Ag || this.pj || this.oj || this.tj || this.rj);
        this.Hs = this.Is = -999;
        this.cm = 1;
        this.Ds = this.Cs = 0;
        this.Fs = this.Bs = this.As = 1;
        this.Ls = this.Ks = this.Js = this.Ns = this.Ms = this.Es = 0;
        this.Ro = [];
        this.Gs = jc();
        this.Ih && a.uniform1f(this.Ih, 1);
        this.Xo && a.uniform4f(this.Xo, 1, 1, 1, 1);
        this.ys && a.uniform1i(this.ys, 0);
        this.qj && a.uniform1i(this.qj, 1);
        this.Bg && a.uniform2f(this.Bg, 0, 0);
        this.Ag && a.uniform2f(this.Ag, 1, 1);
        this.pj && a.uniform1f(this.pj, 1);
        this.oj && a.uniform1f(this.oj, 0);
        this.tj && a.uniform2f(this.tj, 0, 0);
        this.rj && a.uniform2f(this.rj, 0, 0);
        this.sj && a.uniform1f(this.sj, 0);
        this.ng = !1
    }
    function p(a, b) {
        return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15]
    }
    function r(a, b) {
        this.type = a;
        this.B = b;
        this.D = b.D;
        this.Dc = this.Yb = this.gt = 0;
        this.ca = this.yd = null;
        this.Tt = []
    }
    var n = jc();
    d.prototype.Xr = function() {
        var a = this.D, b;
        this.rs = 1;
        this.wg = this.Df = null;
        this.Uk = 1;
        a.clearColor(0, 0, 0, 0);
        a.clear(a.COLOR_BUFFER_BIT);
        a.enable(a.BLEND);
        a.blendFunc(a.ONE, a.ONE_MINUS_SRC_ALPHA);
        a.disable(a.CULL_FACE);
        a.disable(a.STENCIL_TEST);
        a.disable(a.DITHER);
        this.Ja ? (a.enable(a.DEPTH_TEST),
        a.depthFunc(a.LEQUAL)) : a.disable(a.DEPTH_TEST);
        this.ts = a.ONE;
        this.qs = a.ONE_MINUS_SRC_ALPHA;
        this.mk = new Float32Array(8E3 * (this.Ja ? 3 : 2));
        this.bk = new Float32Array(16E3);
        this.wp = new Float32Array(32E3);
        this.vp = a.createBuffer();
        a.bindBuffer(a.ARRAY_BUFFER, this.vp);
        a.bufferData(a.ARRAY_BUFFER, this.wp.byteLength, a.DYNAMIC_DRAW);
        this.lk = Array(4);
        this.ak = Array(4);
        for (b = 0; 4 > b; b++)
            this.lk[b] = a.createBuffer(),
            a.bindBuffer(a.ARRAY_BUFFER, this.lk[b]),
            a.bufferData(a.ARRAY_BUFFER, this.mk.byteLength, a.DYNAMIC_DRAW),
            this.ak[b] = a.createBuffer(),
            a.bindBuffer(a.ARRAY_BUFFER, this.ak[b]),
            a.bufferData(a.ARRAY_BUFFER, this.bk.byteLength, a.DYNAMIC_DRAW);
        this.xe = 0;
        this.Zy = a.createBuffer();
        a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.Zy);
        for (var e = new Uint16Array(12E3), c = b = 0; 12E3 > b; )
            e[b++] = c,
            e[b++] = c + 1,
            e[b++] = c + 2,
            e[b++] = c,
            e[b++] = c + 2,
            e[b++] = c + 3,
            c += 4;
        a.bufferData(a.ELEMENT_ARRAY_BUFFER, e, a.STATIC_DRAW);
        this.Th = this.Pf = this.Ad = 0;
        this.Wa = [];
        b = this.Ja ? "attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}" : "attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";
        e = this.Bi({
            src: "varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"
        }, b, "<default>");
        this.Wa.push(e);
        e = this.Bi({
            src: "uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"
        }, "attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}", "<point>");
        this.Wa.push(e);
        e = this.Bi({
            src: "varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"
        }, b, "<earlyz>");
        this.Wa.push(e);
        e = this.Bi({
            src: "uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"
        }, b, "<fill>");
        this.Wa.push(e);
        for (var f in nc)
            nc.hasOwnProperty(f) && this.Wa.push(this.Bi(nc[f], b, f));
        a.activeTexture(a.TEXTURE0);
        a.bindTexture(a.TEXTURE_2D, null);
        this.Fd = [];
        this.hd = 0;
        this.Rb = this.ub = !1;
        this.nr = this.hj = -1;
        this.ah = null;
        this.Yn = a.createFramebuffer();
        this.Zk = this.Am = null;
        this.br = !1;
        this.Ja && (this.Zk = a.createRenderbuffer());
        this.Qf = ic([0, 0, 0]);
        a = a.getParameter(a.ALIASED_POINT_SIZE_RANGE);
        this.xz = a[0];
        this.dp = a[1];
        2048 < this.dp && (this.dp = 2048);
        this.Hc(0)
    }
    ;
    m.prototype.lq = function(a) {
        p(this.Gs, a) || (kc(a, this.Gs),
        this.D.uniformMatrix4fv(this.Xl, !1, a))
    }
    ;
    d.prototype.Bi = function(a, b, e) {
        var c = this.D
          , f = c.createShader(c.FRAGMENT_SHADER);
        c.shaderSource(f, a.src);
        c.compileShader(f);
        if (!c.getShaderParameter(f, c.COMPILE_STATUS))
            throw a = c.getShaderInfoLog(f),
            c.deleteShader(f),
            Error("error compiling fragment shader: " + a);
        var g = c.createShader(c.VERTEX_SHADER);
        c.shaderSource(g, b);
        c.compileShader(g);
        if (!c.getShaderParameter(g, c.COMPILE_STATUS))
            throw a = c.getShaderInfoLog(g),
            c.deleteShader(f),
            c.deleteShader(g),
            Error("error compiling vertex shader: " + a);
        b = c.createProgram();
        c.attachShader(b, f);
        c.attachShader(b, g);
        c.linkProgram(b);
        if (!c.getProgramParameter(b, c.LINK_STATUS))
            throw a = c.getProgramInfoLog(b),
            c.deleteShader(f),
            c.deleteShader(g),
            c.deleteProgram(b),
            Error("error linking shader program: " + a);
        c.useProgram(b);
        c.deleteShader(f);
        c.deleteShader(g);
        f = new m(c,b,e);
        f.dl = a.dl || 0;
        f.el = a.el || 0;
        f.On = !!a.On;
        f.td = !!a.td;
        f.Cn = !!a.Cn;
        f.aa = a.aa || [];
        a = 0;
        for (g = f.aa.length; a < g; a++)
            f.aa[a][1] = c.getUniformLocation(b, f.aa[a][0]),
            f.Ro.push(0),
            c.uniform1f(f.aa[a][1], 0);
        return f
    }
    ;
    d.prototype.qo = function(a) {
        var b, e;
        b = 0;
        for (e = this.Wa.length; b < e; b++)
            if (this.Wa[b].name === a)
                return b;
        return -1
    }
    ;
    d.prototype.yt = function(a, b, e) {
        var c = this.bd
          , f = this.em
          , g = [0, 0, 0, 0, 0, 0, 0, 0];
        g[0] = c[0] * a + c[4] * b + c[12];
        g[1] = c[1] * a + c[5] * b + c[13];
        g[2] = c[2] * a + c[6] * b + c[14];
        g[3] = c[3] * a + c[7] * b + c[15];
        g[4] = f[0] * g[0] + f[4] * g[1] + f[8] * g[2] + f[12] * g[3];
        g[5] = f[1] * g[0] + f[5] * g[1] + f[9] * g[2] + f[13] * g[3];
        g[6] = f[2] * g[0] + f[6] * g[1] + f[10] * g[2] + f[14] * g[3];
        g[7] = -g[2];
        0 !== g[7] && (g[7] = 1 / g[7],
        g[4] *= g[7],
        g[5] *= g[7],
        g[6] *= g[7],
        e[0] = (.5 * g[4] + .5) * this.width,
        e[1] = (.5 * g[5] + .5) * this.height)
    }
    ;
    d.prototype.Kg = function(a, b, e) {
        if (this.width !== a || this.height !== b || e) {
            this.de();
            e = this.D;
            this.width = a;
            this.height = b;
            e.viewport(0, 0, a, b);
            mc(this.Fn, this.zs, this.qu, this.bd);
            if (this.Ja) {
                var c = -a / 2;
                a = a / 2;
                var f = b / 2;
                b = -b / 2;
                var g = this.nn
                  , h = this.sq
                  , d = this.em;
                d || (d = jc());
                var l = a - c
                  , q = b - f
                  , k = h - g;
                d[0] = 2 / l;
                d[1] = 0;
                d[2] = 0;
                d[3] = 0;
                d[4] = 0;
                d[5] = 2 / q;
                d[6] = 0;
                d[7] = 0;
                d[8] = 0;
                d[9] = 0;
                d[10] = -2 / k;
                d[11] = 0;
                d[12] = -(c + a) / l;
                d[13] = -(b + f) / q;
                d[14] = -(h + g) / k;
                d[15] = 1;
                this.ok[0] = 1;
                this.ok[1] = 1
            } else
                b = a / b,
                c = this.nn,
                a = this.sq,
                d = this.em,
                h = c * Math.tan(45 * Math.PI / 360),
                b *= h,
                f = -b,
                g = -h,
                d || (d = jc()),
                l = b - f,
                q = h - g,
                k = a - c,
                d[0] = 2 * c / l,
                d[1] = 0,
                d[2] = 0,
                d[3] = 0,
                d[4] = 0,
                d[5] = 2 * c / q,
                d[6] = 0,
                d[7] = 0,
                d[8] = (b + f) / l,
                d[9] = (h + g) / q,
                d[10] = -(a + c) / k,
                d[11] = -1,
                d[12] = 0,
                d[13] = 0,
                d[14] = -(a * c * 2) / k,
                d[15] = 0,
                c = [0, 0],
                a = [0, 0],
                this.yt(0, 0, c),
                this.yt(1, 1, a),
                this.ok[0] = 1 / (a[0] - c[0]),
                this.ok[1] = -1 / (a[1] - c[1]);
            c = 0;
            for (a = this.Wa.length; c < a; c++)
                f = this.Wa[c],
                f.ng = !1,
                f.xs && (e.useProgram(f.Vj),
                e.uniformMatrix4fv(f.xs, !1, this.em));
            e.useProgram(this.Wa[this.hj].Vj);
            e.bindTexture(e.TEXTURE_2D, null);
            e.activeTexture(e.TEXTURE1);
            e.bindTexture(e.TEXTURE_2D, null);
            e.activeTexture(e.TEXTURE0);
            this.wg = this.Df = null;
            this.Zk && (e.bindFramebuffer(e.FRAMEBUFFER, this.Yn),
            e.bindRenderbuffer(e.RENDERBUFFER, this.Zk),
            e.renderbufferStorage(e.RENDERBUFFER, e.DEPTH_COMPONENT16, this.width, this.height),
            this.br || (e.framebufferRenderbuffer(e.FRAMEBUFFER, e.DEPTH_ATTACHMENT, e.RENDERBUFFER, this.Zk),
            this.br = !0),
            e.bindRenderbuffer(e.RENDERBUFFER, null),
            e.bindFramebuffer(e.FRAMEBUFFER, null),
            this.Am = null)
        }
    }
    ;
    d.prototype.oe = function() {
        mc(this.Fn, this.zs, this.qu, this.bd);
        lc(this.bd, this.ok)
    }
    ;
    d.prototype.translate = function(a, b) {
        if (0 !== a || 0 !== b) {
            this.Qf[0] = a;
            this.Qf[1] = b;
            this.Qf[2] = 0;
            var e = this.bd
              , c = this.Qf
              , f = c[0]
              , g = c[1]
              , c = c[2];
            e[12] = e[0] * f + e[4] * g + e[8] * c + e[12];
            e[13] = e[1] * f + e[5] * g + e[9] * c + e[13];
            e[14] = e[2] * f + e[6] * g + e[10] * c + e[14];
            e[15] = e[3] * f + e[7] * g + e[11] * c + e[15]
        }
    }
    ;
    d.prototype.scale = function(a, b) {
        if (1 !== a || 1 !== b)
            this.Qf[0] = a,
            this.Qf[1] = b,
            this.Qf[2] = 1,
            lc(this.bd, this.Qf)
    }
    ;
    d.prototype.Hp = function(a) {
        if (0 !== a) {
            var b = this.bd, e, c = Math.sin(a);
            a = Math.cos(a);
            var f = b[0]
              , g = b[1]
              , h = b[2]
              , d = b[3]
              , l = b[4]
              , q = b[5]
              , k = b[6]
              , u = b[7];
            e ? b !== e && (e[8] = b[8],
            e[9] = b[9],
            e[10] = b[10],
            e[11] = b[11],
            e[12] = b[12],
            e[13] = b[13],
            e[14] = b[14],
            e[15] = b[15]) : e = b;
            e[0] = f * a + l * c;
            e[1] = g * a + q * c;
            e[2] = h * a + k * c;
            e[3] = d * a + u * c;
            e[4] = f * -c + l * a;
            e[5] = g * -c + q * a;
            e[6] = h * -c + k * a;
            e[7] = d * -c + u * a
        }
    }
    ;
    d.prototype.Ud = function() {
        if (!p(this.So, this.bd)) {
            var a = this.pc();
            a.type = 5;
            a.ca ? kc(this.bd, a.ca) : a.ca = jc(this.bd);
            kc(this.bd, this.So);
            this.Rb = this.ub = !1
        }
    }
    ;
    d.prototype.Hm = function(a) {
        this.Ja && (32760 < a && (a = 32760),
        this.Vk = this.Fn[2] - this.nn - a * this.LA)
    }
    ;
    r.prototype.jx = function() {
        var a = this.D
          , b = this.B;
        0 !== this.Yb ? (a.depthMask(!0),
        a.colorMask(!1, !1, !1, !1),
        a.disable(a.BLEND),
        a.bindFramebuffer(a.FRAMEBUFFER, b.Yn),
        a.framebufferTexture2D(a.FRAMEBUFFER, a.COLOR_ATTACHMENT0, a.TEXTURE_2D, null, 0),
        a.clear(a.DEPTH_BUFFER_BIT),
        a.bindFramebuffer(a.FRAMEBUFFER, null),
        b.Il = !0) : (a.depthMask(!1),
        a.colorMask(!0, !0, !0, !0),
        a.enable(a.BLEND),
        b.Il = !1)
    }
    ;
    r.prototype.nx = function() {
        this.D.bindTexture(this.D.TEXTURE_2D, this.yd)
    }
    ;
    r.prototype.ox = function() {
        var a = this.D;
        a.activeTexture(a.TEXTURE1);
        a.bindTexture(a.TEXTURE_2D, this.yd);
        a.activeTexture(a.TEXTURE0)
    }
    ;
    r.prototype.kx = function() {
        var a = this.gt
          , b = this.B;
        b.Uk = a;
        b = b.ah;
        b.Ih && b.cm !== a && (b.cm = a,
        this.D.uniform1f(b.Ih, a))
    }
    ;
    r.prototype.bx = function() {
        this.D.drawElements(this.D.TRIANGLES, this.Dc, this.D.UNSIGNED_SHORT, this.Yb)
    }
    ;
    r.prototype.gx = function() {
        this.D.blendFunc(this.Yb, this.Dc)
    }
    ;
    r.prototype.rx = function() {
        var a, b, e, c = this.B.Wa, f = this.B.nr;
        a = 0;
        for (b = c.length; a < b; a++)
            e = c[a],
            a === f && e.Xl ? (e.lq(this.ca),
            e.ng = !0) : e.ng = !1;
        kc(this.ca, this.B.Pn)
    }
    ;
    r.prototype.cx = function() {
        var a = this.D
          , b = this.B;
        this.yd ? (b.wg === this.yd && (a.activeTexture(a.TEXTURE1),
        a.bindTexture(a.TEXTURE_2D, null),
        b.wg = null,
        a.activeTexture(a.TEXTURE0)),
        a.bindFramebuffer(a.FRAMEBUFFER, b.Yn),
        b.Il || a.framebufferTexture2D(a.FRAMEBUFFER, a.COLOR_ATTACHMENT0, a.TEXTURE_2D, this.yd, 0)) : (b.Ja || a.framebufferTexture2D(a.FRAMEBUFFER, a.COLOR_ATTACHMENT0, a.TEXTURE_2D, null, 0),
        a.bindFramebuffer(a.FRAMEBUFFER, null))
    }
    ;
    r.prototype.Zw = function() {
        var a = this.D
          , b = this.Yb;
        0 === b ? (a.clearColor(this.ca[0], this.ca[1], this.ca[2], this.ca[3]),
        a.clear(a.COLOR_BUFFER_BIT)) : 1 === b ? (a.enable(a.SCISSOR_TEST),
        a.scissor(this.ca[0], this.ca[1], this.ca[2], this.ca[3]),
        a.clearColor(0, 0, 0, 0),
        a.clear(a.COLOR_BUFFER_BIT),
        a.disable(a.SCISSOR_TEST)) : a.clear(a.DEPTH_BUFFER_BIT)
    }
    ;
    r.prototype.ix = function() {
        var a = this.D;
        0 !== this.Yb ? a.enable(a.DEPTH_TEST) : a.disable(a.DEPTH_TEST)
    }
    ;
    r.prototype.ax = function() {
        var a = this.D
          , b = this.B;
        b.Ja && a.disable(a.DEPTH_TEST);
        var e = b.Wa[1];
        a.useProgram(e.Vj);
        !e.ng && e.Xl && (e.lq(b.Pn),
        e.ng = !0);
        a.enableVertexAttribArray(e.od);
        a.bindBuffer(a.ARRAY_BUFFER, b.vp);
        a.vertexAttribPointer(e.od, 4, a.FLOAT, !1, 0, 0);
        a.drawArrays(a.POINTS, this.Yb / 4, this.Dc);
        e = b.ah;
        a.useProgram(e.Vj);
        0 <= e.od && (a.enableVertexAttribArray(e.od),
        a.bindBuffer(a.ARRAY_BUFFER, b.lk[b.xe]),
        a.vertexAttribPointer(e.od, b.Ja ? 3 : 2, a.FLOAT, !1, 0, 0));
        0 <= e.Gf && (a.enableVertexAttribArray(e.Gf),
        a.bindBuffer(a.ARRAY_BUFFER, b.ak[b.xe]),
        a.vertexAttribPointer(e.Gf, 2, a.FLOAT, !1, 0, 0));
        b.Ja && a.enable(a.DEPTH_TEST)
    }
    ;
    r.prototype.lx = function() {
        var a = this.D
          , b = this.B
          , e = b.Wa[this.Yb];
        b.nr = this.Yb;
        b.ah = e;
        a.useProgram(e.Vj);
        !e.ng && e.Xl && (e.lq(b.Pn),
        e.ng = !0);
        e.Ih && e.cm !== b.Uk && (e.cm = b.Uk,
        a.uniform1f(e.Ih, b.Uk));
        0 <= e.od && (a.enableVertexAttribArray(e.od),
        a.bindBuffer(a.ARRAY_BUFFER, b.lk[b.xe]),
        a.vertexAttribPointer(e.od, b.Ja ? 3 : 2, a.FLOAT, !1, 0, 0));
        0 <= e.Gf && (a.enableVertexAttribArray(e.Gf),
        a.bindBuffer(a.ARRAY_BUFFER, b.ak[b.xe]),
        a.vertexAttribPointer(e.Gf, 2, a.FLOAT, !1, 0, 0))
    }
    ;
    r.prototype.hx = function() {
        var a = this.ca;
        this.D.uniform4f(this.B.ah.Xo, a[0], a[1], a[2], a[3])
    }
    ;
    r.prototype.mx = function() {
        var a, b, e = this.B.ah, c = this.D;
        a = this.ca;
        e.qj && this.B.wg !== this.yd && (c.activeTexture(c.TEXTURE1),
        c.bindTexture(c.TEXTURE_2D, this.yd),
        this.B.wg = this.yd,
        c.activeTexture(c.TEXTURE0));
        var f = a[0];
        e.Zo && f !== e.Is && (e.Is = f,
        c.uniform1f(e.Zo, f));
        f = a[1];
        e.Yo && f !== e.Hs && (e.Hs = f,
        c.uniform1f(e.Yo, f));
        f = a[2];
        b = a[3];
        !e.Bg || f === e.Cs && b === e.Ds || (e.Cs = f,
        e.Ds = b,
        c.uniform2f(e.Bg, f, b));
        f = a[4];
        b = a[5];
        !e.Ag || f === e.As && b === e.Bs || (e.As = f,
        e.Bs = b,
        c.uniform2f(e.Ag, f, b));
        f = a[6];
        e.pj && f !== e.Fs && (e.Fs = f,
        c.uniform1f(e.pj, f));
        f = a[7];
        e.oj && f !== e.Es && (e.Es = f,
        c.uniform1f(e.oj, f));
        f = a[8];
        b = a[9];
        !e.tj || f === e.Ms && b === e.Ns || (e.Ms = f,
        e.Ns = b,
        c.uniform2f(e.tj, f, b));
        f = a[10];
        b = a[11];
        !e.rj || f === e.Js && b === e.Ks || (e.Js = f,
        e.Ks = b,
        c.uniform2f(e.rj, f, b));
        f = a[12];
        e.sj && f !== e.Ls && (e.Ls = f,
        c.uniform1f(e.sj, f));
        if (e.aa.length)
            for (a = 0,
            b = e.aa.length; a < b; a++)
                f = this.Tt[a],
                f !== e.Ro[a] && (e.Ro[a] = f,
                c.uniform1f(e.aa[a][1], f))
    }
    ;
    d.prototype.pc = function() {
        this.hd === this.Fd.length && this.Fd.push(new r(0,this));
        return this.Fd[this.hd++]
    }
    ;
    d.prototype.de = function() {
        if (0 !== this.hd && !this.D.isContextLost()) {
            var a = this.D;
            0 < this.Th && (a.bindBuffer(a.ARRAY_BUFFER, this.vp),
            a.bufferSubData(a.ARRAY_BUFFER, 0, this.wp.subarray(0, this.Th)),
            b && 0 <= b.od && "<point>" === b.name && a.vertexAttribPointer(b.od, 4, a.FLOAT, !1, 0, 0));
            if (0 < this.Ad) {
                var b = this.ah;
                a.bindBuffer(a.ARRAY_BUFFER, this.lk[this.xe]);
                a.bufferSubData(a.ARRAY_BUFFER, 0, this.mk.subarray(0, this.Ad));
                b && 0 <= b.od && "<point>" !== b.name && a.vertexAttribPointer(b.od, this.Ja ? 3 : 2, a.FLOAT, !1, 0, 0);
                a.bindBuffer(a.ARRAY_BUFFER, this.ak[this.xe]);
                a.bufferSubData(a.ARRAY_BUFFER, 0, this.bk.subarray(0, this.Pf));
                b && 0 <= b.Gf && "<point>" !== b.name && a.vertexAttribPointer(b.Gf, 2, a.FLOAT, !1, 0, 0)
            }
            for (var e, a = 0, b = this.hd; a < b; a++)
                switch (e = this.Fd[a],
                e.type) {
                case 1:
                    e.bx();
                    break;
                case 2:
                    e.nx();
                    break;
                case 3:
                    e.kx();
                    break;
                case 4:
                    e.gx();
                    break;
                case 5:
                    e.rx();
                    break;
                case 6:
                    e.cx();
                    break;
                case 7:
                    e.Zw();
                    break;
                case 8:
                    e.ax();
                    break;
                case 9:
                    e.lx();
                    break;
                case 10:
                    e.mx();
                    break;
                case 11:
                    e.ox();
                    break;
                case 12:
                    e.hx();
                    break;
                case 13:
                    e.ix();
                    break;
                case 14:
                    e.jx()
                }
            this.Th = this.Pf = this.Ad = this.hd = 0;
            this.Il = this.Rb = this.ub = !1;
            this.xe++;
            4 <= this.xe && (this.xe = 0)
        }
    }
    ;
    d.prototype.Nf = function(a) {
        if (a !== this.rs && !this.Ui) {
            var b = this.pc();
            b.type = 3;
            this.rs = b.gt = a;
            this.Rb = this.ub = !1
        }
    }
    ;
    d.prototype.Gc = function(a) {
        if (a !== this.Df) {
            var b = this.pc();
            b.type = 2;
            this.Df = b.yd = a;
            this.Rb = this.ub = !1
        }
    }
    ;
    d.prototype.Mf = function(a, b) {
        if ((a !== this.ts || b !== this.qs) && !this.Ui) {
            var e = this.pc();
            e.type = 4;
            e.Yb = a;
            e.Dc = b;
            this.ts = a;
            this.qs = b;
            this.Rb = this.ub = !1
        }
    }
    ;
    d.prototype.Gt = function() {
        this.Mf(this.D.ONE, this.D.ONE_MINUS_SRC_ALPHA)
    }
    ;
    d.prototype.Uh = function(a, b, e, c, f, g, h, d) {
        15992 <= this.Ad && this.de();
        var l = this.Ad
          , q = this.Pf
          , k = this.mk
          , u = this.bk
          , t = this.Vk;
        if (this.ub)
            this.Fd[this.hd - 1].Dc += 6;
        else {
            var A = this.pc();
            A.type = 1;
            A.Yb = this.Ja ? l : l / 2 * 3;
            A.Dc = 6;
            this.ub = !0;
            this.Rb = !1
        }
        this.Ja ? (k[l++] = a,
        k[l++] = b,
        k[l++] = t,
        k[l++] = e,
        k[l++] = c,
        k[l++] = t,
        k[l++] = f,
        k[l++] = g,
        k[l++] = t,
        k[l++] = h,
        k[l++] = d,
        k[l++] = t) : (k[l++] = a,
        k[l++] = b,
        k[l++] = e,
        k[l++] = c,
        k[l++] = f,
        k[l++] = g,
        k[l++] = h,
        k[l++] = d);
        u[q++] = 0;
        u[q++] = 0;
        u[q++] = 1;
        u[q++] = 0;
        u[q++] = 1;
        u[q++] = 1;
        u[q++] = 0;
        u[q++] = 1;
        this.Ad = l;
        this.Pf = q
    }
    ;
    d.prototype.Re = function(a, b, e, c, f, g, h, d, l) {
        15992 <= this.Ad && this.de();
        var q = this.Ad
          , k = this.Pf
          , u = this.mk
          , t = this.bk
          , A = this.Vk;
        if (this.ub)
            this.Fd[this.hd - 1].Dc += 6;
        else {
            var v = this.pc();
            v.type = 1;
            v.Yb = this.Ja ? q : q / 2 * 3;
            v.Dc = 6;
            this.ub = !0;
            this.Rb = !1
        }
        var v = l.left
          , m = l.top
          , n = l.right;
        l = l.bottom;
        this.Ja ? (u[q++] = a,
        u[q++] = b,
        u[q++] = A,
        u[q++] = e,
        u[q++] = c,
        u[q++] = A,
        u[q++] = f,
        u[q++] = g,
        u[q++] = A,
        u[q++] = h,
        u[q++] = d,
        u[q++] = A) : (u[q++] = a,
        u[q++] = b,
        u[q++] = e,
        u[q++] = c,
        u[q++] = f,
        u[q++] = g,
        u[q++] = h,
        u[q++] = d);
        t[k++] = v;
        t[k++] = m;
        t[k++] = n;
        t[k++] = m;
        t[k++] = n;
        t[k++] = l;
        t[k++] = v;
        t[k++] = l;
        this.Ad = q;
        this.Pf = k
    }
    ;
    d.prototype.aA = function(a, b, e, c, f, g, h, d, l, q, k, u, t, A, v, m) {
        15992 <= this.Ad && this.de();
        var n = this.Ad
          , r = this.Pf
          , p = this.mk
          , G = this.bk
          , C = this.Vk;
        if (this.ub)
            this.Fd[this.hd - 1].Dc += 6;
        else {
            var O = this.pc();
            O.type = 1;
            O.Yb = this.Ja ? n : n / 2 * 3;
            O.Dc = 6;
            this.ub = !0;
            this.Rb = !1
        }
        this.Ja ? (p[n++] = a,
        p[n++] = b,
        p[n++] = C,
        p[n++] = e,
        p[n++] = c,
        p[n++] = C,
        p[n++] = f,
        p[n++] = g,
        p[n++] = C,
        p[n++] = h,
        p[n++] = d,
        p[n++] = C) : (p[n++] = a,
        p[n++] = b,
        p[n++] = e,
        p[n++] = c,
        p[n++] = f,
        p[n++] = g,
        p[n++] = h,
        p[n++] = d);
        G[r++] = l;
        G[r++] = q;
        G[r++] = k;
        G[r++] = u;
        G[r++] = t;
        G[r++] = A;
        G[r++] = v;
        G[r++] = m;
        this.Ad = n;
        this.Pf = r
    }
    ;
    d.prototype.Oz = function(a, b, e, c) {
        7996 <= this.Th && this.de();
        var f = this.Th
          , g = this.wp;
        if (this.Rb)
            this.Fd[this.hd - 1].Dc++;
        else {
            var h = this.pc();
            h.type = 8;
            h.Yb = f;
            h.Dc = 1;
            this.Rb = !0;
            this.ub = !1
        }
        g[f++] = a;
        g[f++] = b;
        g[f++] = e;
        g[f++] = c;
        this.Th = f
    }
    ;
    d.prototype.Hc = function(a) {
        if (this.hj !== a) {
            if (!this.Wa[a]) {
                if (0 === this.hj)
                    return;
                a = 0
            }
            var b = this.pc();
            b.type = 9;
            this.hj = b.Yb = a;
            this.Rb = this.ub = !1
        }
    }
    ;
    d.prototype.Jj = function(a) {
        a = this.Wa[a];
        return !(!a.Bg && !a.Ag)
    }
    ;
    d.prototype.yp = function(a) {
        a = this.Wa[a];
        return !!(a.Bg || a.Ag || a.On)
    }
    ;
    d.prototype.xp = function(a) {
        return this.Wa[a].td
    }
    ;
    d.prototype.Xz = function(a) {
        a = this.Wa[a];
        return 0 !== a.dl || 0 !== a.el
    }
    ;
    d.prototype.Cy = function(a) {
        return this.Wa[a].dl
    }
    ;
    d.prototype.Dy = function(a) {
        return this.Wa[a].el
    }
    ;
    d.prototype.Ey = function(a, b) {
        return this.Wa[a].aa[b][2]
    }
    ;
    d.prototype.wm = function(a) {
        return this.Wa[a].Cn
    }
    ;
    d.prototype.Xh = function(a, b, e, c, f, g, h, d, l, q, k, u, t, A, v) {
        var m = this.Wa[this.hj], n, r;
        if (m.Wy || v.length) {
            n = this.pc();
            n.type = 10;
            n.ca ? kc(this.bd, n.ca) : n.ca = jc();
            r = n.ca;
            r[0] = b;
            r[1] = e;
            r[2] = c;
            r[3] = f;
            r[4] = g;
            r[5] = h;
            r[6] = d;
            r[7] = l;
            r[8] = q;
            r[9] = k;
            r[10] = u;
            r[11] = t;
            r[12] = A;
            m.qj ? n.yd = a : n.yd = null;
            if (v.length)
                for (e = n.Tt,
                e.length = v.length,
                a = 0,
                b = v.length; a < b; a++)
                    e[a] = v[a];
            this.Rb = this.ub = !1
        }
    }
    ;
    d.prototype.clear = function(a, b, e, c) {
        var f = this.pc();
        f.type = 7;
        f.Yb = 0;
        f.ca || (f.ca = jc());
        f.ca[0] = a;
        f.ca[1] = b;
        f.ca[2] = e;
        f.ca[3] = c;
        this.Rb = this.ub = !1
    }
    ;
    d.prototype.clearRect = function(a, b, e, c) {
        if (!(0 > e || 0 > c)) {
            var f = this.pc();
            f.type = 7;
            f.Yb = 1;
            f.ca || (f.ca = jc());
            f.ca[0] = a;
            f.ca[1] = b;
            f.ca[2] = e;
            f.ca[3] = c;
            this.Rb = this.ub = !1
        }
    }
    ;
    d.prototype.Kt = function(a) {
        if (this.Ja && (a = !!a,
        this.Ui !== a)) {
            var b = this.pc();
            b.type = 14;
            b.Yb = a ? 1 : 0;
            this.Rb = this.ub = !1;
            this.Ui = a;
            this.Am = null;
            this.Ui ? this.Hc(2) : this.Hc(0)
        }
    }
    ;
    d.prototype.It = function(a) {
        if (this.Ja) {
            var b = this.pc();
            b.type = 13;
            b.Yb = a ? 1 : 0;
            this.Rb = this.ub = !1
        }
    }
    ;
    d.prototype.Gr = function() {
        kc(this.So, n);
        this.oe();
        this.Ud();
        var a = this.width / 2
          , b = this.height / 2;
        this.Uh(-a, b, a, b, a, -b, -a, -b);
        kc(n, this.bd);
        this.Ud()
    }
    ;
    d.prototype.Ht = function(a, b, e) {
        this.Hc(3);
        var c = this.pc();
        c.type = 12;
        c.ca || (c.ca = jc());
        c.ca[0] = a;
        c.ca[1] = b;
        c.ca[2] = e;
        c.ca[3] = 1;
        this.Rb = this.ub = !1
    }
    ;
    d.prototype.uA = function() {
        this.Hc(0)
    }
    ;
    d.prototype.gA = function() {
        this.Hc(2)
    }
    ;
    d.prototype.Wz = function() {
        this.de();
        this.D.flush()
    }
    ;
    var t = []
      , l = {};
    d.prototype.Pw = function() {
        U(t);
        l = {}
    }
    ;
    d.prototype.Gh = function(a, b, e, c) {
        b = !!b;
        e = !!e;
        var f = a.src + "," + b + "," + e + (b ? ",undefined" : "")
          , g = null;
        if ("undefined" !== typeof a.src && l.hasOwnProperty(f))
            return g = l[f],
            g.Jk++,
            g;
        this.de();
        var h = this.D
          , d = na(a.width) && na(a.height)
          , g = h.createTexture();
        h.bindTexture(h.TEXTURE_2D, g);
        h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0);
        var m = h.RGBA
          , q = h.RGBA
          , k = h.UNSIGNED_BYTE;
        if (c && !this.Fe)
            switch (c) {
            case 1:
                q = m = h.RGB;
                break;
            case 2:
                k = h.UNSIGNED_SHORT_4_4_4_4;
                break;
            case 3:
                k = h.UNSIGNED_SHORT_5_5_5_1;
                break;
            case 4:
                q = m = h.RGB,
                k = h.UNSIGNED_SHORT_5_6_5
            }
        if (1 === this.version && !d && b) {
            c = document.createElement("canvas");
            c.width = oa(a.width);
            c.height = oa(a.height);
            var u = c.getContext("2d");
            "undefined" !== typeof u.imageSmoothingEnabled ? u.imageSmoothingEnabled = e : (u.webkitImageSmoothingEnabled = e,
            u.mozImageSmoothingEnabled = e,
            u.msImageSmoothingEnabled = e);
            u.drawImage(a, 0, 0, a.width, a.height, 0, 0, c.width, c.height);
            h.texImage2D(h.TEXTURE_2D, 0, m, q, k, c)
        } else
            h.texImage2D(h.TEXTURE_2D, 0, m, q, k, a);
        b ? (h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_S, h.REPEAT),
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_T, h.REPEAT)) : (h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_S, h.CLAMP_TO_EDGE),
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_T, h.CLAMP_TO_EDGE));
        e ? (h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MAG_FILTER, h.LINEAR),
        (d || 2 <= this.version) && this.ur ? (h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MIN_FILTER, h.LINEAR_MIPMAP_LINEAR),
        h.generateMipmap(h.TEXTURE_2D)) : h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MIN_FILTER, h.LINEAR)) : (h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MAG_FILTER, h.NEAREST),
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MIN_FILTER, h.NEAREST));
        h.bindTexture(h.TEXTURE_2D, null);
        this.Df = null;
        g.Vf = a.width;
        g.Uf = a.height;
        g.Jk = 1;
        g.fr = f;
        t.push(g);
        return l[f] = g
    }
    ;
    d.prototype.Wc = function(a, b, e, c, f) {
        this.de();
        var g = this.D;
        this.Fe && (c = !1);
        var h = g.createTexture();
        g.bindTexture(g.TEXTURE_2D, h);
        g.texImage2D(g.TEXTURE_2D, 0, g.RGBA, a, b, 0, g.RGBA, c ? g.UNSIGNED_SHORT_4_4_4_4 : g.UNSIGNED_BYTE, null);
        f ? (g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_S, g.REPEAT),
        g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_T, g.REPEAT)) : (g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_S, g.CLAMP_TO_EDGE),
        g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_T, g.CLAMP_TO_EDGE));
        g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MAG_FILTER, e ? g.LINEAR : g.NEAREST);
        g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MIN_FILTER, e ? g.LINEAR : g.NEAREST);
        g.bindTexture(g.TEXTURE_2D, null);
        this.Df = null;
        h.Vf = a;
        h.Uf = b;
        t.push(h);
        return h
    }
    ;
    d.prototype.GA = function(a, b) {
        var e;
        this.de();
        var c = this.D;
        this.Fe && (e = !1);
        c.bindTexture(c.TEXTURE_2D, b);
        c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0);
        try {
            c.texImage2D(c.TEXTURE_2D, 0, c.RGBA, c.RGBA, e ? c.UNSIGNED_SHORT_4_4_4_4 : c.UNSIGNED_BYTE, a)
        } catch (f) {
            console && console.error && console.error("Error updating WebGL texture: ", f)
        }
        c.bindTexture(c.TEXTURE_2D, null);
        this.Df = null
    }
    ;
    d.prototype.deleteTexture = function(a) {
        a && ("undefined" !== typeof a.Jk && 1 < a.Jk ? a.Jk-- : (this.de(),
        a === this.Df && (this.D.bindTexture(this.D.TEXTURE_2D, null),
        this.Df = null),
        a === this.wg && (this.D.activeTexture(this.D.TEXTURE1),
        this.D.bindTexture(this.D.TEXTURE_2D, null),
        this.D.activeTexture(this.D.TEXTURE0),
        this.wg = null),
        Fa(t, a),
        "undefined" !== typeof a.fr && delete l[a.fr],
        this.D.deleteTexture(a)))
    }
    ;
    d.prototype.vd = function(a) {
        if (a !== this.Am) {
            var b = this.pc();
            b.type = 6;
            this.Am = b.yd = a;
            this.Rb = this.ub = !1
        }
    }
    ;
    lb = d
}
)();
(function() {
    function d(a) {
        if (a && (a.getContext || a.dc) && !a.c2runtime) {
            a.c2runtime = this;
            var c = this;
            this.De = (this.Jl = /crosswalk/i.test(navigator.userAgent) || /xwalk/i.test(navigator.userAgent) || !("undefined" === typeof window.c2isCrosswalk || !window.c2isCrosswalk)) || "undefined" !== typeof window.device && ("undefined" !== typeof window.device.cordova || "undefined" !== typeof window.device.phonegap) || "undefined" !== typeof window.c2iscordova && window.c2iscordova;
            this.kc = !!a.dc;
            this.cs = "undefined" !== typeof window.AppMobi || this.kc;
            this.Kd = !!window.c2cocoonjs;
            this.Ld = !!window.c2ejecta;
            this.Kd && (CocoonJS.App.onSuspended.addEventListener(function() {
                c.setSuspended(!0)
            }),
            CocoonJS.App.onActivated.addEventListener(function() {
                c.setSuspended(!1)
            }));
            this.Ld && (document.addEventListener("pagehide", function() {
                c.setSuspended(!0)
            }),
            document.addEventListener("pageshow", function() {
                c.setSuspended(!1)
            }),
            document.addEventListener("resize", function() {
                c.setSize(window.innerWidth, window.innerHeight)
            }));
            this.hb = this.kc || this.Kd || this.Ld;
            this.Wi = /edge\//i.test(navigator.userAgent);
            this.Fe = (/msie/i.test(navigator.userAgent) || /trident/i.test(navigator.userAgent) || /iemobile/i.test(navigator.userAgent)) && !this.Wi;
            this.gs = /tizen/i.test(navigator.userAgent);
            this.Gl = /android/i.test(navigator.userAgent) && !this.gs && !this.Fe && !this.Wi;
            this.ns = (/iphone/i.test(navigator.userAgent) || /ipod/i.test(navigator.userAgent)) && !this.Fe && !this.Wi;
            this.mz = /ipad/i.test(navigator.userAgent);
            this.bj = this.ns || this.mz || this.Ld;
            this.Io = (/chrome/i.test(navigator.userAgent) || /chromium/i.test(navigator.userAgent)) && !this.Fe && !this.Wi;
            this.bs = /amazonwebappplatform/i.test(navigator.userAgent);
            this.fz = /firefox/i.test(navigator.userAgent);
            this.jz = /safari/i.test(navigator.userAgent) && !this.Io && !this.Fe && !this.Wi;
            this.kz = /windows/i.test(navigator.userAgent);
            this.Kl = "undefined" !== typeof window.c2nodewebkit || "undefined" !== typeof window.c2nwjs || /nodewebkit/i.test(navigator.userAgent) || /nwjs/i.test(navigator.userAgent);
            this.ks = !("undefined" === typeof window.c2isWindows8 || !window.c2isWindows8);
            this.lz = !("undefined" === typeof window.c2isWindows8Capable || !window.c2isWindows8Capable);
            this.Zi = !("undefined" === typeof window.c2isWindowsPhone8 || !window.c2isWindowsPhone8);
            this.Oo = !("undefined" === typeof window.c2isWindowsPhone81 || !window.c2isWindowsPhone81);
            this.No = !!window.cr_windows10;
            this.hs = this.ks || this.lz || this.Oo || this.No;
            this.dz = !("undefined" === typeof window.c2isBlackberry10 || !window.c2isBlackberry10);
            this.Hl = this.Gl && !this.Io && !this.Jl && !this.fz && !this.bs && !this.hb;
            this.devicePixelRatio = 1;
            this.qh = this.De || this.Jl || this.cs || this.Kd || this.Gl || this.bj || this.Zi || this.Oo || this.dz || this.gs || this.Ld;
            this.qh || (this.qh = /(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));
            this.Ll = !!(this.bj && this.De && window.webkit);
            "undefined" === typeof cr_is_preview || this.Kl || "?nw" !== window.location.search && !/nodewebkit/i.test(navigator.userAgent) && !/nwjs/i.test(navigator.userAgent) || (this.Kl = !0);
            this.canvas = a;
            this.ir = document.getElementById("c2canvasdiv");
            this.B = this.D = null;
            this.so = "(unavailable)";
            this.Ja = !1;
            this.eg = 0;
            this.Qa = null;
            this.kl = !1;
            this.bt = this.ct = 0;
            this.canvas.oncontextmenu = function(a) {
                a.preventDefault && a.preventDefault();
                return !1
            }
            ;
            this.canvas.onselectstart = function(a) {
                a.preventDefault && a.preventDefault();
                return !1
            }
            ;
            this.canvas.ontouchstart = function(a) {
                a.preventDefault && a.preventDefault();
                return !1
            }
            ;
            this.kc && (window.c2runtime = this);
            this.Kl && (window.ondragover = function(a) {
                a.preventDefault();
                return !1
            }
            ,
            window.ondrop = function(a) {
                a.preventDefault();
                return !1
            }
            ,
            window.nwgui && window.nwgui.App.clearCache && window.nwgui.App.clearCache());
            this.Hl && "undefined" !== typeof jQuery && jQuery("canvas").parents("*").css("overflow", "visible");
            this.width = a.width;
            this.height = a.height;
            this.N = this.width;
            this.M = this.height;
            this.Sk = this.width;
            this.Di = this.height;
            this.Dh = window.innerWidth;
            this.Ch = window.innerHeight;
            this.ba = !0;
            this.Yi = !1;
            Date.now || (Date.now = function() {
                return +new Date
            }
            );
            this.plugins = [];
            this.types = {};
            this.C = [];
            this.Ta = [];
            this.Fh = {};
            this.Qc = [];
            this.Xn = {};
            this.ze = [];
            this.ji = [];
            this.an = [];
            this.Cw = [];
            this.Dw = [];
            this.ps = this.Zt = null;
            this.$f = {};
            this.Ko = this.zf = !1;
            this.Md = 0;
            this.Jo = this.Mo = !1;
            this.Id = [];
            this.Vi = !1;
            this.Tl = this.Lp = "";
            this.zb = null;
            this.Ge = "";
            this.Zj = this.Wt = !1;
            this.jl = [];
            this.dg = this.bg = 0;
            this.Rs = 30;
            this.Ln = this.uj = 0;
            this.Qg = 1;
            this.ib = new $a;
            this.cf = new $a;
            this.jm = this.rl = this.hg = this.Pg = this.yg = this.ao = this.Ol = 0;
            this.Hd = null;
            this.al = [];
            this.Wn = [];
            this.cl = -1;
            this.$o = [[]];
            this.fq = this.Yl = 0;
            this.xm(null);
            this.cp = [];
            this.$l = -1;
            this.Vs = this.zj = 0;
            this.Uo = !0;
            this.Ii = 0;
            this.$j = [];
            this.bq = this.Ap = -1;
            this.Cf = !0;
            this.Hh = 0;
            this.Xi = !1;
            this.xA = 0;
            this.Wg = null;
            this.ad = this.Tr = !1;
            this.Zs = new fa;
            this.kp = new fa;
            this.$s = new fa;
            this.Gg = [];
            this.Qd = new bb([]);
            this.Xp = new bb([]);
            this.kf = [];
            this.yl = {};
            this.uf = {};
            this.hf = {};
            this.hi = {};
            this.cr = {};
            this.ws = this.Sl = this.jb = this.xb = this.vs = this.Rl = this.na = null;
            this.fi = this.Po = !1;
            this.co = [null, null];
            this.jg = 0;
            this.Zn = "";
            this.Me = {};
            this.Yj = this.Ef = null;
            this.Yt = "";
            this.im = [];
            this.fA()
        }
    }
    function m(a, c) {
        return 128 >= c ? a[3] : 256 >= c ? a[2] : 512 >= c ? a[1] : a[0]
    }
    function p() {
        try {
            return !!window.indexedDB
        } catch (a) {
            return !1
        }
    }
    function r(a) {
        a.target.result.createObjectStore("saves", {
            keyPath: "slot"
        })
    }
    function n(a, c, b, f) {
        try {
            var e = indexedDB.open("_C2SaveStates");
            e.onupgradeneeded = r;
            e.onerror = f;
            e.onsuccess = function(e) {
                e = e.target.result;
                e.onerror = f;
                e.transaction(["saves"], "readwrite").objectStore("saves").put({
                    slot: a,
                    data: c
                }).onsuccess = b
            }
        } catch (k) {
            f(k)
        }
    }
    function t(a, c, b) {
        try {
            var f = indexedDB.open("_C2SaveStates");
            f.onupgradeneeded = r;
            f.onerror = b;
            f.onsuccess = function(f) {
                f = f.target.result;
                f.onerror = b;
                var e = f.transaction(["saves"]).objectStore("saves").get(a);
                e.onsuccess = function() {
                    e.result ? c(e.result.data) : c(null)
                }
            }
        } catch (e) {
            b(e)
        }
    }
    function l() {
        ha("Reloading for continuous preview");
        window.c2cocoonjs ? CocoonJS.App.reload() : -1 < window.location.search.indexOf("continuous") ? window.location.reload(!0) : window.location = window.location + "?continuous"
    }
    function a(a) {
        var c, b = {};
        for (c in a)
            !a.hasOwnProperty(c) || a[c]instanceof fa || a[c] && "undefined" !== typeof a[c].JB || "spriteCreatedDestroyCallback" !== c && (b[c] = a[c]);
        return b
    }
    var b = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;
    d.prototype.fA = function() {
        var a = this;
        if (this.Ll)
            this.hy(function(c) {
                a.nj(JSON.parse(c))
            }, function() {
                alert("Error fetching data.js")
            });
        else {
            var c;
            this.Zi ? c = new ActiveXObject("Microsoft.XMLHTTP") : c = new XMLHttpRequest;
            var b = "data.js";
            if (this.ks || this.Zi || this.Oo || this.No)
                b = "data.json";
            c.open("GET", b, !0);
            var f = !1;
            if (!this.hb && "response"in c && "responseType"in c)
                try {
                    c.responseType = "json",
                    f = "json" === c.responseType
                } catch (e) {
                    f = !1
                }
            if (!f && "responseType"in c)
                try {
                    c.responseType = "text"
                } catch (k) {}
            if ("overrideMimeType"in c)
                try {
                    c.overrideMimeType("application/json; charset=utf-8")
                } catch (g) {}
            this.Zi ? c.onreadystatechange = function() {
                4 === c.readyState && a.nj(JSON.parse(c.responseText))
            }
            : (c.onload = function() {
                if (f)
                    a.nj(c.response);
                else if (a.Ld) {
                    var b = c.responseText
                      , b = b.substr(b.indexOf("{"));
                    a.nj(JSON.parse(b))
                } else
                    a.nj(JSON.parse(c.responseText))
            }
            ,
            c.onerror = function(a) {
                ia("Error requesting " + b + ":");
                ia(a)
            }
            );
            c.send()
        }
    }
    ;
    d.prototype.$y = function() {
        var a = this, c, b, f, e, k, g, h, u, q;
        this.sg = (!this.hb || this.Ld || this.De) && this.EA && !this.Hl;
        0 === this.zc && this.bj && (this.sg = !1);
        this.devicePixelRatio = this.sg ? window.devicePixelRatio || window.webkitDevicePixelRatio || window.mozDevicePixelRatio || window.msDevicePixelRatio || 1 : 1;
        this.ac();
        0 < this.zc && this.setSize(window.innerWidth, window.innerHeight, !0);
        this.canvas.addEventListener("webglcontextlost", function(c) {
            c.preventDefault();
            a.Bz();
            ha("[Construct 2] WebGL context lost");
            window.cr_setSuspended(!0)
        }, !1);
        this.canvas.addEventListener("webglcontextrestored", function() {
            a.B.Xr();
            a.B.Kg(a.B.width, a.B.height, !0);
            a.xb = null;
            a.jb = null;
            a.co[0] = null;
            a.co[1] = null;
            a.Cz();
            a.ba = !0;
            ha("[Construct 2] WebGL context restored");
            window.cr_setSuspended(!1)
        }, !1);
        try {
            this.Ax && (this.Kd || this.Ld || !this.hb) && (c = {
                alpha: !0,
                depth: !1,
                antialias: !1,
                powerPreference: "high-performance",
                failIfMajorPerformanceCaveat: !0
            },
            this.D = this.canvas.getContext("webgl2", c) || this.canvas.getContext("webgl", c) || this.canvas.getContext("experimental-webgl", c))
        } catch (d) {}
        if (this.D) {
            if (c = this.D.getExtension("WEBGL_debug_renderer_info"))
                this.so = this.D.getParameter(c.UNMASKED_RENDERER_WEBGL) + " [" + this.D.getParameter(c.UNMASKED_VENDOR_WEBGL) + "]";
            this.Ja && (this.so += " [front-to-back enabled]");
            this.hb || (this.Ub = document.createElement("canvas"),
            jQuery(this.Ub).appendTo(this.canvas.parentNode),
            this.Ub.oncontextmenu = function() {
                return !1
            }
            ,
            this.Ub.onselectstart = function() {
                return !1
            }
            ,
            this.Ub.width = Math.round(this.Sk * this.devicePixelRatio),
            this.Ub.height = Math.round(this.Di * this.devicePixelRatio),
            jQuery(this.Ub).css({
                width: this.Sk + "px",
                height: this.Di + "px"
            }),
            this.ut(),
            this.sp = this.Ub.getContext("2d"));
            this.B = new lb(this.D,this.qh,this.Ja);
            this.B.Kg(this.canvas.width, this.canvas.height);
            this.B.ur = 0 !== this.tx;
            this.Qa = null;
            c = 0;
            for (b = this.C.length; c < b; c++)
                for (k = this.C[c],
                f = 0,
                e = k.V.length; f < e; f++)
                    h = k.V[f],
                    h.ob = this.B.qo(h.id),
                    h.td = this.B.xp(h.ob),
                    this.fi = this.fi || this.B.Jj(h.ob);
            c = 0;
            for (b = this.Qc.length; c < b; c++) {
                u = this.Qc[c];
                f = 0;
                for (e = u.V.length; f < e; f++)
                    h = u.V[f],
                    h.ob = this.B.qo(h.id),
                    h.td = this.B.xp(h.ob);
                u.Td();
                f = 0;
                for (e = u.W.length; f < e; f++) {
                    q = u.W[f];
                    k = 0;
                    for (g = q.V.length; k < g; k++)
                        h = q.V[k],
                        h.ob = this.B.qo(h.id),
                        h.td = this.B.xp(h.ob),
                        this.fi = this.fi || this.B.Jj(h.ob);
                    q.Td()
                }
            }
        } else {
            if (0 < this.zc && this.kc) {
                this.canvas = null;
                document.oncontextmenu = function() {
                    return !1
                }
                ;
                document.onselectstart = function() {
                    return !1
                }
                ;
                this.Qa = AppMobi.canvas.getContext("2d");
                try {
                    this.Qa.samplingMode = this.Na ? "smooth" : "sharp",
                    this.Qa.globalScale = 1,
                    this.Qa.HTML5CompatibilityMode = !0,
                    this.Qa.imageSmoothingEnabled = this.Na
                } catch (l) {}
                0 !== this.width && 0 !== this.height && (this.Qa.width = this.width,
                this.Qa.height = this.height)
            }
            this.Qa || (this.Kd ? (c = {
                antialias: !!this.Na,
                alpha: !0
            },
            this.Qa = this.canvas.getContext("2d", c)) : (c = {
                alpha: !0
            },
            this.Qa = this.canvas.getContext("2d", c)),
            this.Gm(this.Qa, this.Na));
            this.sp = this.Ub = null
        }
        this.fu = function(c) {
            a.La(!1, c)
        }
        ;
        window == window.top || this.hb || this.hs || this.Zi || (document.addEventListener("mousedown", function() {
            window.focus()
        }, !0),
        document.addEventListener("touchstart", function() {
            window.focus()
        }, !0));
        "undefined" !== typeof cr_is_preview && (this.Kd && console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),
        -1 < window.location.search.indexOf("continuous") && (ha("Reloading for continuous preview"),
        this.Tl = "__c2_continuouspreview",
        this.Zj = !0),
        this.Mz && !this.qh && (jQuery(window).focus(function() {
            a.setSuspended(!1)
        }),
        jQuery(window).blur(function() {
            var c = window.parent;
            c && c.document.hasFocus() || a.setSuspended(!0)
        })));
        window.addEventListener("blur", function() {
            a.If()
        });
        this.hb || (c = function(a) {
            if (kb(a) && document.activeElement && document.activeElement !== document.getElementsByTagName("body")[0] && document.activeElement.blur)
                try {
                    document.activeElement.blur()
                } catch (c) {}
        }
        ,
        "undefined" !== typeof PointerEvent ? document.addEventListener("pointerdown", c) : window.navigator.msPointerEnabled ? document.addEventListener("MSPointerDown", c) : document.addEventListener("touchstart", c),
        document.addEventListener("mousedown", c));
        0 === this.zc && this.sg && 1 < this.devicePixelRatio && this.setSize(this.lb, this.kb, !0);
        this.ou();
        this.Ty();
        this.go();
        this.H = {}
    }
    ;
    d.prototype.setSize = function(a, c, b) {
        var f = 0
          , e = 0
          , k = 0
          , h = 0
          , h = 0;
        if (this.Dh !== a || this.Ch !== c || b) {
            this.Dh = a;
            this.Ch = c;
            var g = this.zc;
            if ((k = (document.mozFullScreen || document.webkitIsFullScreen || !!document.msFullscreenElement || document.fullScreen || this.Xi) && !this.De) || 0 !== this.zc || b)
                k && 0 < this.jg && (g = this.jg),
                b = this.devicePixelRatio,
                4 <= g ? (k = this.lb / this.kb,
                a / c > k ? (k *= c,
                5 === g ? (h = k * b / this.lb,
                1 < h ? h = Math.floor(h) : 1 > h && (h = 1 / Math.ceil(1 / h)),
                k = this.lb * h / b,
                h = this.kb * h / b,
                f = (a - k) / 2,
                e = (c - h) / 2,
                a = k,
                c = h) : (f = (a - k) / 2,
                a = k)) : (h = a / k,
                5 === g ? (h = h * b / this.kb,
                1 < h ? h = Math.floor(h) : 1 > h && (h = 1 / Math.ceil(1 / h)),
                k = this.lb * h / b,
                h = this.kb * h / b,
                f = (a - k) / 2,
                e = (c - h) / 2,
                a = k) : e = (c - h) / 2,
                c = h)) : this.Kl && this.Xi && 0 === this.Hr && (f = Math.floor((a - this.lb) / 2),
                e = Math.floor((c - this.kb) / 2),
                a = this.lb,
                c = this.kb),
                2 > g && (this.vi = b),
                this.Sk = Math.round(a),
                this.Di = Math.round(c),
                this.width = Math.round(a * b),
                this.height = Math.round(c * b),
                this.ba = !0,
                this.zu ? (this.N = this.width,
                this.M = this.height,
                this.Xc = !0) : this.width < this.lb && this.height < this.kb || 1 === g ? (this.N = this.width,
                this.M = this.height,
                this.Xc = !0) : (this.N = this.lb,
                this.M = this.kb,
                this.Xc = !1,
                2 === g ? (k = this.lb / this.kb,
                g = this.Dh / this.Ch,
                g < k ? this.N = this.M * g : g > k && (this.M = this.N / g)) : 3 === g && (k = this.lb / this.kb,
                g = this.Dh / this.Ch,
                g > k ? this.N = this.M * g : g < k && (this.M = this.N / g))),
                this.ir && !this.hb && (jQuery(this.ir).css({
                    width: Math.round(a) + "px",
                    height: Math.round(c) + "px",
                    "margin-left": Math.floor(f) + "px",
                    "margin-top": Math.floor(e) + "px"
                }),
                "undefined" !== typeof cr_is_preview && jQuery("#borderwrap").css({
                    width: Math.round(a) + "px",
                    height: Math.round(c) + "px"
                })),
                this.canvas && (this.canvas.width = Math.round(a * b),
                this.canvas.height = Math.round(c * b),
                this.Ld ? (this.canvas.style.left = Math.floor(f) + "px",
                this.canvas.style.top = Math.floor(e) + "px",
                this.canvas.style.width = Math.round(a) + "px",
                this.canvas.style.height = Math.round(c) + "px") : this.sg && !this.hb && (this.canvas.style.width = Math.round(a) + "px",
                this.canvas.style.height = Math.round(c) + "px")),
                this.Ub && (this.Ub.width = Math.round(a * b),
                this.Ub.height = Math.round(c * b),
                this.Ub.style.width = this.Sk + "px",
                this.Ub.style.height = this.Di + "px"),
                this.B && this.B.Kg(Math.round(a * b), Math.round(c * b)),
                this.kc && this.Qa && (this.Qa.width = Math.round(a),
                this.Qa.height = Math.round(c)),
                this.Qa && this.Gm(this.Qa, this.Na),
                this.ou(),
                this.ns && !this.De && window.scrollTo(0, 0)
        }

        // AUTOSPLITTER 1 - on changing the canvas size
		_autosplitter.onCanvasResize();
    }
    ;
    d.prototype.ou = function() {
        if (this.Gw && 0 !== this.rp) {
            var a = "portrait";
            2 === this.rp && (a = "landscape");
            try {
                screen.orientation && screen.orientation.lock ? screen.orientation.lock(a).catch(function() {}) : screen.lockOrientation ? screen.lockOrientation(a) : screen.webkitLockOrientation ? screen.webkitLockOrientation(a) : screen.mozLockOrientation ? screen.mozLockOrientation(a) : screen.msLockOrientation && screen.msLockOrientation(a)
            } catch (c) {
                console && console.warn && console.warn("Failed to lock orientation: ", c)
            }
        }
    }
    ;
    d.prototype.Bz = function() {
        this.B.Pw();
        this.Po = !0;
        var a, c, b;
        a = 0;
        for (c = this.C.length; a < c; a++)
            b = this.C[a],
            b.Cj && b.Cj()
    }
    ;
    d.prototype.Cz = function() {
        this.Po = !1;
        var a, c, b;
        a = 0;
        for (c = this.C.length; a < c; a++)
            b = this.C[a],
            b.Dj && b.Dj()
    }
    ;
    d.prototype.ut = function() {
        if (!this.hb) {
            var a = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || document.msFullscreenElement || this.Xi) && !this.De ? jQuery(this.canvas).offset() : jQuery(this.canvas).position();
            a.position = "absolute";
            jQuery(this.Ub).css(a)
        }
    }
    ;
    var e = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || window.oCancelAnimationFrame;
    d.prototype.setSuspended = function(a) {
        var c;
        if (a && !this.Yi)
            for (ha("[Construct 2] Suspending"),
            this.Yi = !0,
            -1 !== this.Ap && e && e(this.Ap),
            -1 !== this.bq && clearTimeout(this.bq),
            a = 0,
            c = this.$j.length; a < c; a++)
                this.$j[a](!0);
        else if (!a && this.Yi) {
            ha("[Construct 2] Resuming");
            this.Yi = !1;
            this.Ol = Wa();
            this.yg = Wa();
            a = this.uj = this.rl = 0;
            for (c = this.$j.length; a < c; a++)
                this.$j[a](!1);
            this.La(!1)
        }
    }
    ;
    d.prototype.Xq = function(a) {
        this.$j.push(a)
    }
    ;
    d.prototype.ef = function(a) {
        return this.im[a]
    }
    ;
    d.prototype.nj = function(a) {
        a && a.project || ia("Project model unavailable");
        a = a.project;

        // autosplitter 5 - change tilemap to practice version
        if (PRACTICE_MODE) {
            a[3][0][6][0] = "images/tilemapbg_practice.png";
            a[3][1][6][0] = "images/tilemapbg_practice.png";
        }

        if (SPEEDRUN_MODE) {
            // The text of the "Play" button
            a[5][0][6][2][14][1][5][3] = "Run";
            // The "left" position of the button text
            a[5][0][6][2][14][1][0][0] = 132;

            // Remove the clickable area of the "Continue" button
            a[5][0][6][1][14].splice(1, 1);
            // Remove the "Continue" button text
            a[5][0][6][2][14].splice(2, 1);
        }

        this.name = a[0];
        this.Fr = a[1];
        this.zc = a[12];
        this.Hr = a[12];
        this.lb = a[10];
        this.kb = a[11];
        this.nt = this.lb / 2;
        this.ot = this.kb / 2;
        this.hb && !this.Ld && (4 <= a[12] || 0 === a[12]) && (ha("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
        this.Hr = this.zc = 3);
        this.oq = a[18];
        this.Ff = a[19];
        if (0 === this.Ff) {
            var c = new Image;
            c.crossOrigin = "anonymous";
            this.Mt(c, "loading-logo.png");
            this.Ef = {
                Zl: c
            }
        } else if (4 === this.Ff) {
            c = new Image;
            c.src = "";
            var b = new Image;
            b.src = "";
            var f = new Image;
            f.src = "";
            var e = new Image;
            e.src = "";
            var k = new Image;
            k.src = "";
            var h = new Image;
            h.src = "";
            var g = new Image;
            g.src = "";
            var u = new Image;
            u.src = "";
            var q = new Image;
            q.src = "";
            var d = new Image;
            d.src = "";
            var l = new Image;
            l.src = "";
            var A = new Image;
            A.src = "";
            this.Ef = {
                Zl: [c, b, f, e],
                Tz: [k, h, g, u],
                HA: [q, d, l, A]
            }
        }
        this.zj = a[21];
        this.im = oc();
        this.qe = new W(this);
        c = 0;
        for (b = a[2].length; c < b; c++)
            g = a[2][c],
            f = this.ef(g[0]),
            mb(g, f.prototype),
            u = new f(this),
            u.Om = g[1],
            u.Bf = g[2],
            u.NB = g[5],
            u.Ts = g[9],
            u.G && u.G(),
            this.plugins.push(u);
        this.im = oc();
        c = 0;
        for (b = a[3].length; c < b; c++) {
            g = a[3][c];
            k = this.ef(g[1]);
            u = null;
            f = 0;
            for (e = this.plugins.length; f < e; f++)
                if (this.plugins[f]instanceof k) {
                    u = this.plugins[f];
                    break
                }
            q = new u.S(u);
            q.name = g[0];
            q.I = g[2];
            q.Ho = g[3].slice(0);
            q.FA = g[3].length;
            q.Hw = g[4];
            q.my = g[5];
            q.fa = g[11];
            q.I ? (q.Dg = [],
            q.Ae = this.Ii++,
            q.Ra = null) : (q.Dg = null,
            q.Ae = -1,
            q.Ra = []);
            q.hl = null;
            q.ih = null;
            q.wr = null;
            q.lc = !1;
            q.Mc = null;
            g[6] ? (q.dk = g[6][0],
            q.Um = g[6][1],
            q.ek = g[6][2]) : (q.dk = null,
            q.Um = 0,
            q.ek = 0);
            g[7] ? q.Kc = g[7] : q.Kc = null;
            q.index = c;
            q.e = [];
            q.Xk = [];
            q.Ve = [new nb(q)];
            q.be = 0;
            q.ld = null;
            q.Uw = 0;
            q.bi = !0;
            q.bn = ob;
            q.Nr = rb;
            q.Ay = sb;
            q.Z = tb;
            q.Kj = ub;
            q.Lj = vb;
            q.Kf = wb;
            q.ul = xb;
            q.eo = yb;
            q.ko = zb;
            q.Dd = Ab;
            q.lo = Bb;
            q.yi = new eb(this.lb,this.kb);
            q.Bk = !0;
            q.Ck = !1;
            q.H = {};
            q.toString = Cb;
            q.Ta = [];
            f = 0;
            for (e = g[8].length; f < e; f++) {
                d = g[8][f];
                l = this.ef(d[1]);
                A = null;
                k = 0;
                for (h = this.Ta.length; k < h; k++)
                    if (this.Ta[k]instanceof l) {
                        A = this.Ta[k];
                        break
                    }
                A || (A = new l(this),
                A.hm = [],
                A.gm = new fa,
                A.G && A.G(),
                this.Ta.push(A),
                pc && A instanceof pc && (this.Zt = A),
                gc.pz && A instanceof gc.pz && (this.ps = A));
                -1 === A.hm.indexOf(q) && A.hm.push(q);
                k = new A.S(A,q);
                k.name = d[0];
                k.fa = d[2];
                k.G();
                q.Ta.push(k)
            }
            q.global = g[9];
            q.Lo = g[10];
            q.V = [];
            f = 0;
            for (e = g[12].length; f < e; f++)
                q.V.push({
                    id: g[12][f][0],
                    name: g[12][f][1],
                    ob: -1,
                    td: !1,
                    Sa: !0,
                    index: f
                });
            q.Xm = g[13];
            this.oq && !q.I && !q.Lo && u.Bf || q.G();
            q.name && (this.types[q.name] = q);
            this.C.push(q);
            u.Om && (f = new u.K(q),
            f.uid = this.zj++,
            f.At = this.Vs++,
            f.qg = 0,
            f.Mi = Db,
            f.toString = Eb,
            f.u = g[14],
            f.G(),
            q.e.push(f),
            this.Me[f.uid.toString()] = f)
        }
        c = 0;
        for (b = a[4].length; c < b; c++)
            for (k = a[4][c],
            h = this.C[k[0]],
            f = 1,
            e = k.length; f < e; f++)
                g = this.C[k[f]],
                g.Ra.push(h),
                h.Dg.push(g);
        c = 0;
        for (b = a[28].length; c < b; c++) {
            k = a[28][c];
            h = [];
            f = 0;
            for (e = k.length; f < e; f++)
                h.push(this.C[k[f]]);
            f = 0;
            for (e = h.length; f < e; f++)
                h[f].lc = !0,
                h[f].Mc = h
        }
        if (0 < this.Ii)
            for (c = 0,
            b = this.C.length; c < b; c++)
                if (g = this.C[c],
                !g.I && g.Ra.length) {
                    g.hl = Array(this.Ii);
                    g.ih = Array(this.Ii);
                    g.wr = Array(this.Ii);
                    q = [];
                    f = A = l = d = 0;
                    for (e = g.Ra.length; f < e; f++)
                        for (u = g.Ra[f],
                        g.hl[u.Ae] = d,
                        d += u.FA,
                        g.ih[u.Ae] = l,
                        l += u.Hw,
                        g.wr[u.Ae] = A,
                        A += u.my,
                        k = 0,
                        h = u.V.length; k < h; k++)
                            q.push(ya({}, u.V[k]));
                    g.V = q.concat(g.V);
                    f = 0;
                    for (e = g.V.length; f < e; f++)
                        g.V[f].index = f
                }
        c = 0;
        for (b = a[5].length; c < b; c++)
            g = a[5][c],
            f = new Fb(this,g),
            this.Fh[f.name] = f,
            this.Qc.push(f);
        c = 0;
        for (b = a[6].length; c < b; c++)
            g = a[6][c],
            f = new Kb(this,g),
            this.Xn[f.name] = f,
            this.ze.push(f);
        c = 0;
        for (b = this.ze.length; c < b; c++)
            this.ze[c].bb();
        c = 0;
        for (b = this.ze.length; c < b; c++)
            this.ze[c].jq();
        c = 0;
        for (b = this.an.length; c < b; c++)
            this.an[c].bb();
        U(this.an);
        this.Fw = a[7];
        this.Zn = a[8];
        this.dd = a[9];
        this.vi = 1;
        this.Ax = a[13];
        this.Na = a[14];
        this.kr = a[15];
        this.EA = a[17];
        this.rp = a[20];
        this.Gw = 0 < this.rp;
        this.Mz = a[22];
        this.Xc = this.zu = a[23];
        this.tx = a[24];
        this.Uz = a[25];
        this.Ja = a[27] && !this.Fe;
        this.Sm = Date.now();
        U(this.im);
        this.$y()
    }
    ;
    var c = !1
      , f = 0
      , g = [];
    d.prototype.bA = function(a, c) {
        function b() {
            f--;
            k.Os()
        }
        var k = this;
        a.addEventListener("load", b);
        a.addEventListener("error", b);
        g.push([a, c]);
        this.Os()
    }
    ;
    d.prototype.Os = function() {
        for (var a; g.length && 100 > f; )
            f++,
            a = g.shift(),
            this.Mt(a[0], a[1])
    }
    ;
    d.prototype.jn = function(a, b) {
        a.cocoonLazyLoad = !0;
        a.onerror = function(b) {
            c = a.er = !0;
            console && console.error && console.error("Error loading image '" + a.src + "': ", b)
        }
        ;
        this.Ld ? a.src = b : a.src || ("undefined" !== typeof XAPKReader ? XAPKReader.get(b, function(c) {
            a.src = c
        }, function(f) {
            c = a.er = !0;
            console && console.error && console.error("Error extracting image '" + b + "' from expansion file: ", f)
        }) : (a.crossOrigin = "anonymous",
        this.bA(a, b)));
        this.ji.push(a)
    }
    ;
    d.prototype.jy = function(a) {
        var c, b;
        c = 0;
        for (b = this.ji.length; c < b; c++)
            if (this.ji[c].Qw === a)
                return this.ji[c];
        return null
    }
    ;
    var h = 0
      , y = !1;
    d.prototype.Ty = function() {
        this.Wg && (h = this.Wg.sA(this.Fw))
    }
    ;
    d.prototype.$q = function() {
        var a = h, c = 0, b = 0, f = !0, k, e, b = 0;
        for (k = this.ji.length; b < k; b++) {
            e = this.ji[b];
            var g = e.Mn;
            if (!g || 0 >= g)
                g = 5E4;
            a += g;
            e.src && (e.complete || e.loaded) && !e.er ? c += g : f = !1
        }
        f && this.Uz && this.Wg && (y || (this.Wg.yA(),
        y = !0),
        b = this.Wg.By(),
        c += b,
        b < h && (f = !1));
        this.Od = 0 == a ? 1 : c / a;
        return f
    }
    ;
    var I = !1;
    d.prototype.go = function() {
        if (this.Qa || this.B) {
            var a = this.Qa || this.sp;
            this.Ub && this.ut();
            var f = window.innerWidth
              , k = window.innerHeight;
            this.Dh === f && this.Ch === k || this.setSize(f, k);
            this.Od = 0;
            this.us = -1;
            var e = this;
            if (this.$q() && (4 !== this.Ff || I))
                this.Uy();
            else {
                k = Date.now() - this.Sm;
                if (a) {
                    var g = this.width
                      , h = this.height
                      , f = this.devicePixelRatio;
                    if (3 > this.Ff && (this.Kd || 500 <= k && this.us != this.Od)) {
                        a.clearRect(0, 0, g, h);
                        var k = g / 2, h = h / 2, g = 0 === this.Ff && this.Ef.Zl.complete, u = 40 * f, q = 0, d = 80 * f, l;
                        if (g) {
                            var A = this.Ef.Zl
                              , d = A.width * f;
                            l = A.height * f;
                            u = d / 2;
                            q = l / 2;
                            a.drawImage(A, B(k - u), B(h - q), d, l)
                        }
                        1 >= this.Ff ? (k = B(k - u) + .5,
                        h = B(h + (q + (g ? 12 * f : 0))) + .5,
                        a.fillStyle = c ? "red" : "DodgerBlue",
                        a.fillRect(k, h, Math.floor(d * this.Od), 6 * f),
                        a.strokeStyle = "black",
                        a.strokeRect(k, h, d, 6 * f),
                        a.strokeStyle = "white",
                        a.strokeRect(k - 1 * f, h - 1 * f, d + 2 * f, 8 * f)) : 2 === this.Ff && (a.font = this.Ld ? "12pt ArialMT" : "12pt Arial",
                        a.fillStyle = c ? "#f00" : "#999",
                        a.TB = "middle",
                        f = Math.round(100 * this.Od) + "%",
                        g = a.measureText ? a.measureText(f) : null,
                        a.fillText(f, k - (g ? g.width : 0) / 2, h));
                        this.us = this.Od
                    } else if (4 === this.Ff) {
                        this.yx(a);
                        b ? b(function() {
                            e.go()
                        }) : setTimeout(function() {
                            e.go()
                        }, 16);
                        return
                    }
                }
                setTimeout(function() {
                    e.go()
                }, this.Kd ? 10 : 100)
            }
        }
    }
    ;
    var q = -1
      , k = "undefined" === typeof cr_is_preview ? 200 : 0
      , u = !0
      , T = !1
      , A = 0
      , v = 0
      , Y = "undefined" === typeof cr_is_preview ? 3E3 : 0
      , P = null
      , M = null
      , x = 0;
    d.prototype.yx = function(a) {
        if (!I) {
            for (var b = Math.ceil(this.width), f = Math.ceil(this.height), e = this.Ef.Zl, g = this.Ef.Tz, h = this.Ef.HA, d = 0; 4 > d; ++d)
                if (!e[d].complete || !g[d].complete || !h[d].complete)
                    return;
            0 === x && (q = Date.now());
            var d = Date.now(), l = !1, t = a, y, n;
            u || T ? (a.clearRect(0, 0, b, f),
            P && P.width === b && P.height === f || (P = document.createElement("canvas"),
            P.width = b,
            P.height = f,
            M = P.getContext("2d")),
            t = M,
            l = !0,
            u && 1 === x && (q = Date.now())) : a.globalAlpha = 1;
            t.fillStyle = "#333333";
            t.fillRect(0, 0, b, f);
            256 < this.Di ? (y = Ga(.22 * f, 105, .6 * b),
            n = .25 * y,
            t.drawImage(m(g, y), .5 * b - y / 2, .2 * f - n / 2, y, n),
            n = y = Math.min(.395 * f, .95 * b),
            t.drawImage(m(e, y), .5 * b - y / 2, .485 * f - n / 2, y, n),
            y = Ga(.22 * f, 105, .6 * b),
            n = .25 * y,
            t.drawImage(m(h, y), .5 * b - y / 2, .868 * f - n / 2, y, n),
            t.fillStyle = "#3C3C3C",
            y = b,
            n = Math.max(.005 * f, 2),
            t.fillRect(0, .8 * f - n / 2, y, n),
            t.fillStyle = c ? "red" : "#E0FF65",
            y = b * this.Od,
            t.fillRect(.5 * b - y / 2, .8 * f - n / 2, y, n)) : (n = y = .55 * f,
            t.drawImage(m(e, y), .5 * b - y / 2, .45 * f - n / 2, y, n),
            t.fillStyle = "#3C3C3C",
            y = b,
            n = Math.max(.005 * f, 2),
            t.fillRect(0, .85 * f - n / 2, y, n),
            t.fillStyle = c ? "red" : "#E0FF65",
            y = b * this.Od,
            t.fillRect(.5 * b - y / 2, .85 * f - n / 2, y, n));
            l && (u ? a.globalAlpha = 0 === x ? 0 : Math.min((d - q) / 300, 1) : T && (a.globalAlpha = Math.max(1 - (d - v) / 300, 0)),
            a.drawImage(P, 0, 0, b, f));
            u && 300 <= d - q && 2 <= x && (u = !1,
            A = d);
            !u && d - A >= Y && !T && 1 <= this.Od && (T = !0,
            v = d);
            if (T && d - v >= 300 + k || "undefined" !== typeof cr_is_preview && 1 <= this.Od && 500 > Date.now() - q)
                I = !0,
                T = u = !1,
                this.Ef = M = P = null;
            ++x
        }
    }
    ;
    d.prototype.Uy = function() {
        this.Ub && (this.canvas.parentNode.removeChild(this.Ub),
        this.Ub = this.sp = null);
        this.Sm = Date.now();
        this.yg = Wa();
        var a, c, b;
        if (this.oq)
            for (a = 0,
            c = this.C.length; a < c; a++)
                b = this.C[a],
                b.I || b.Lo || !b.Fa.Bf || b.G();
        else
            this.Cf = !1;
        a = 0;
        for (c = this.Qc.length; a < c; a++)
            this.Qc[a].Rw();
        2 <= this.zc && (a = this.lb / this.kb,
        c = this.width / this.height,
        this.vi = 2 !== this.zc && c > a || 2 === this.zc && c < a ? this.height / this.kb : this.width / this.lb);
        this.Fr ? this.Fh[this.Fr].Wp() : this.Qc[0].Wp();
        this.oq || (this.Hh = 1,
        this.trigger(W.prototype.j.Kq, null),
        window.C2_RegisterSW && window.C2_RegisterSW());
        navigator.splashscreen && navigator.splashscreen.hide && navigator.splashscreen.hide();
        a = 0;
        for (c = this.C.length; a < c; a++)
            b = this.C[a],
            b.dt && b.dt();
        document.hidden || document.webkitHidden || document.mozHidden || document.msHidden ? window.cr_setSuspended(!0) : this.La(!1);
        this.kc && AppMobi.webview.execute("onGameReady();")
    }
    ;
    d.prototype.La = function(a, c, f) {
        if (this.na) {
            var k = Wa();
            if (f || !this.Yi || a) {
                a || (b ? this.Ap = b(this.fu) : this.bq = setTimeout(this.fu, this.qh ? 1 : 16));
                c = c || k;
                var e = this.zc;
                ((f = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement) && !this.De) || this.Xi) && 0 < this.jg && (e = this.jg);
                if (0 < e) {
                    var e = window.innerWidth
                      , g = window.innerHeight;
                    this.Dh === e && this.Ch === g || this.setSize(e, g)
                }
                this.hb || (f ? this.kl || (this.kl = !0) : this.kl ? (this.kl = !1,
                0 === this.zc && this.setSize(Math.round(this.ct / this.devicePixelRatio), Math.round(this.bt / this.devicePixelRatio), !0)) : (this.ct = this.width,
                this.bt = this.height));
                this.Cf && (f = this.$q(),
                this.Hh = this.Od,
                f && (this.Cf = !1,
                this.Od = 1,
                this.trigger(W.prototype.j.Kq, null),
                window.C2_RegisterSW && window.C2_RegisterSW()));
                this.uz(c);
                !this.ba && !this.Kd || this.Po || this.Zj || a || (this.ba = !1,
                this.B ? this.gc() : this.nd(),
                this.Yj && (this.canvas && this.canvas.toDataURL && (this.Yt = this.canvas.toDataURL(this.Yj[0], this.Yj[1]),
                window.cr_onSnapshot && window.cr_onSnapshot(this.Yt),
                this.trigger(W.prototype.j.sv, null)),
                this.Yj = null));
                this.LB || (this.Pg++,
                this.hg++,
                this.rl++);
                this.uj += Wa() - k
            }
        }
    }
    ;
    d.prototype.uz = function(a) {
        var c, b, f, k, e, g, h, u;
        1E3 <= a - this.yg && (this.yg += 1E3,
        1E3 <= a - this.yg && (this.yg = a),
        this.ao = this.rl,
        this.rl = 0,
        this.Ln = this.uj,
        this.uj = 0);
        c = 0;
        0 !== this.Ol && (c = a - this.Ol,
        0 > c && (c = 0),
        this.dg = c /= 1E3,
        .5 < this.dg ? this.dg = 0 : this.dg > 1 / this.Rs && (this.dg = 1 / this.Rs));
        this.Ol = a;
        this.bg = this.dg * this.Qg;
        this.ib.add(this.bg);
        this.cf.add(c);

        // AUTOSPLITTER 2 - game loop top level - after calculating time in this frame
        _autosplitter.onUpdate(this.bg);
        
        a = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement || this.Xi) && !this.De;
        2 <= this.zc || a && 0 < this.jg ? (c = this.lb / this.kb,
        b = this.width / this.height,
        f = this.zc,
        a && 0 < this.jg && (f = this.jg),
        this.vi = 2 !== f && b > c || 2 === f && b < c ? this.height / this.kb : this.width / this.lb,
        this.na && (this.na.Mp(this.na.scrollX),
        this.na.Np(this.na.scrollY))) : this.vi = this.sg ? this.devicePixelRatio : 1;
        this.ac();
        this.Md++;
        this.qe.jA();
        this.Md--;
        this.ac();
        this.Md++;
        b = this.Zs.bf();
        a = 0;
        for (c = b.length; a < c; a++)
            b[a].QB();
        a = 0;
        for (c = this.C.length; a < c; a++)
            if (g = this.C[a],
            !g.I && (g.Ta.length || g.Ra.length))
                for (b = 0,
                f = g.e.length; b < f; b++)
                    for (h = g.e[b],
                    k = 0,
                    e = h.P.length; k < e; k++)
                        h.P[k].La();
        a = 0;
        for (c = this.C.length; a < c; a++)
            if (g = this.C[a],
            !g.I && (g.Ta.length || g.Ra.length))
                for (b = 0,
                f = g.e.length; b < f; b++)
                    for (h = g.e[b],
                    k = 0,
                    e = h.P.length; k < e; k++)
                        u = h.P[k],
                        u.xt && u.xt();
        b = this.kp.bf();
        a = 0;
        for (c = b.length; a < c; a++)
            b[a].La();
        this.Md--;
        this.Vy();
        for (a = 0; this.Hd && 10 > a++; )
            this.sr(this.Hd);
        a = 0;
        for (c = this.ze.length; a < c; a++)
            this.ze[a].yo = !1;
        this.na.fg && this.na.fg.nb();
        U(this.Gg);
        this.Uo = !1;
        this.Md++;
        a = 0;
        for (c = this.C.length; a < c; a++)
            if (g = this.C[a],
            !g.I && (g.Ta.length || g.Ra.length))
                for (b = 0,
                f = g.e.length; b < f; b++)
                    for (h = g.e[b],
                    k = 0,
                    e = h.P.length; k < e; k++)
                        u = h.P[k],
                        u.fk && u.fk();
        b = this.$s.bf();
        a = 0;
        for (c = b.length; a < c; a++)
            b[a].fk();
        this.Md--
    }
    ;
    d.prototype.If = function() {
        var a, c, b, f, k, e, g, h, u;
        a = 0;
        for (c = this.C.length; a < c; a++)
            if (g = this.C[a],
            !g.I)
                for (b = 0,
                f = g.e.length; b < f; b++)
                    if (h = g.e[b],
                    h.If && h.If(),
                    h.P)
                        for (k = 0,
                        e = h.P.length; k < e; k++)
                            u = h.P[k],
                            u.If && u.If()
    }
    ;
    d.prototype.sr = function(a) {
        // AUTOSPLITTER 3 - On starting a new level
        _autosplitter.onScene(a.name);
        
        var c = this.na;
        this.na.zA();
        var b, f, k;
        if (this.B)
            for (b = 0,
            f = this.C.length; b < f; b++)
                k = this.C[b],
                k.I || !k.gk || k.global && 0 !== k.e.length || -1 !== a.Si.indexOf(k) || k.gk();
        c == a && U(this.qe.Jc);
        U(this.Gg);
        this.Et(!0);
        a.Wp();
        this.Et(!1);
        this.Uo = this.ba = !0;
        this.ac()
    }
    ;
    d.prototype.Et = function(a) {
        var c, b, f, k, e, g, h, u, q;
        c = 0;
        for (b = this.Ta.length; c < b; c++)
            f = this.Ta[c],
            a ? f.Aj && f.Aj() : f.Qh && f.Qh();
        c = 0;
        for (b = this.C.length; c < b; c++)
            if (f = this.C[c],
            f.global || f.Fa.Om)
                for (k = 0,
                e = f.e.length; k < e; k++)
                    if (g = f.e[k],
                    a ? g.Aj && g.Aj() : g.Qh && g.Qh(),
                    g.P)
                        for (h = 0,
                        u = g.P.length; h < u; h++)
                            q = g.P[h],
                            a ? q.Aj && q.Aj() : q.Qh && q.Qh()
    }
    ;
    d.prototype.di = function(a) {
        this.kp.add(a)
    }
    ;
    d.prototype.kg = function(a) {
        return a && -1 !== a.yj ? this.dg * a.yj : this.bg
    }
    ;
    d.prototype.nd = function() {
        this.na.nd(this.Qa);
        this.kc && this.Qa.present()
    }
    ;
    d.prototype.gc = function() {
        this.Ja && (this.eg = 1,
        this.na.ag(this.B));
        this.na.gc(this.B);
        this.B.Wz()
    }
    ;
    d.prototype.zk = function(a) {
        a && this.al.push(a)
    }
    ;
    d.prototype.Dt = function(a) {
        Fa(this.al, a)
    }
    ;
    d.prototype.mg = function(a) {
        a = a.toString();
        return this.Me.hasOwnProperty(a) ? this.Me[a] : null
    }
    ;
    var G = [];
    d.prototype.Xd = function(a) {
        var c, b;
        c = a.type.name;
        var f = null;
        if (this.$f.hasOwnProperty(c)) {
            if (f = this.$f[c],
            f.contains(a))
                return
        } else
            f = G.length ? G.pop() : new fa,
            this.$f[c] = f;
        f.add(a);
        this.zf = !0;
        if (a.lc)
            for (c = 0,
            b = a.siblings.length; c < b; c++)
                this.Xd(a.siblings[c]);
        this.Ko && f.gi.push(a);
        this.Jo || (this.Md++,
        this.trigger(Object.getPrototypeOf(a.type.Fa).j.zq, a),
        this.Md--)
    }
    ;
    d.prototype.ac = function() {
        if (this.zf) {
            var a, c, b, f, k, e;
            this.Ko = !0;
            b = 0;
            for (k = this.Id.length; b < k; ++b)
                for (a = this.Id[b],
                c = a.type,
                c.e.push(a),
                f = 0,
                e = c.Ra.length; f < e; ++f)
                    c.Ra[f].e.push(a),
                    c.Ra[f].bi = !0;
            U(this.Id);
            this.hv();
            Va(this.$f);
            this.zf = this.Ko = !1
        }
    }
    ;
    d.prototype.hv = function() {
        for (var a in this.$f)
            this.$f.hasOwnProperty(a) && this.Hu(this.$f[a])
    }
    ;
    d.prototype.Hu = function(a) {
        var c = a.bf(), b = c[0].type, f, k, e, g, h, u;
        Xa(b.e, a);
        b.bi = !0;
        0 === b.e.length && (b.Ck = !1);
        f = 0;
        for (k = b.Ra.length; f < k; ++f)
            u = b.Ra[f],
            Xa(u.e, a),
            u.bi = !0;
        f = 0;
        for (k = this.qe.Jc.length; f < k; ++f)
            if (h = this.qe.Jc[f],
            h.tc.hasOwnProperty(b.index) && Xa(h.tc[b.index].Ce, a),
            !b.I)
                for (e = 0,
                g = b.Ra.length; e < g; ++e)
                    u = b.Ra[e],
                    h.tc.hasOwnProperty(u.index) && Xa(h.tc[u.index].Ce, a);
        if (h = c[0].n) {
            if (h.fd)
                for (e = h.e,
                f = 0,
                k = e.length; f < k; ++f)
                    g = e[f],
                    a.contains(g) && (g.Ha(),
                    h.Xb.update(g, g.Ec, null),
                    g.Ec.set(0, 0, -1, -1));
            Xa(h.e, a);
            h.Tj(0)
        }
        for (f = 0; f < c.length; ++f)
            this.Gu(c[f], b);
        a.clear();
        G.push(a);
        this.ba = !0
    }
    ;
    d.prototype.Gu = function(a, c) {
        var b, f, k;
        b = 0;
        for (f = this.al.length; b < f; ++b)
            this.al[b](a);
        a.jd && c.yi.update(a, a.jd, null);
        (b = a.n) && b.Vh(a, !0);
        if (a.P)
            for (b = 0,
            f = a.P.length; b < f; ++b)
                k = a.P[b],
                k.Ne && k.Ne(),
                k.behavior.gm.remove(a);
        this.Zs.remove(a);
        this.kp.remove(a);
        this.$s.remove(a);
        a.Ne && a.Ne();
        this.Me.hasOwnProperty(a.uid.toString()) && delete this.Me[a.uid.toString()];
        this.jm--;
        100 > c.Xk.length && c.Xk.push(a)
    }
    ;
    d.prototype.Nn = function(a, c, b, f) {
        if (a.I) {
            var k = B(Math.random() * a.Dg.length);
            return this.Nn(a.Dg[k], c, b, f)
        }
        return a.ld ? this.vf(a.ld, c, !1, b, f, !1) : null
    }
    ;
    var C = [];
    d.prototype.vf = function(a, c, b, f, k, e) {
        var g, h, u, q;
        if (!a)
            return null;
        var d = this.C[a[1]]
          , l = d.Fa.Bf;
        if (this.Cf && l && !d.Lo || l && !this.B && 11 === a[0][11])
            return null;
        var A = c;
        l || (c = null);
        var v;
        d.Xk.length ? (v = d.Xk.pop(),
        v.qc = !0,
        d.Fa.K.call(v, d)) : (v = new d.Fa.K(d),
        v.qc = !1);
        !b || e || this.Me.hasOwnProperty(a[2].toString()) ? v.uid = this.zj++ : v.uid = a[2];
        this.Me[v.uid.toString()] = v;
        v.At = this.Vs++;
        v.qg = d.e.length;
        g = 0;
        for (h = this.Id.length; g < h; ++g)
            this.Id[g].type === d && v.qg++;
        v.Mi = Db;
        v.toString = Eb;
        u = a[3];
        if (v.qc)
            Va(v.H);
        else {
            v.H = {};
            if ("undefined" !== typeof cr_is_preview)
                for (v.$r = [],
                v.$r.length = u.length,
                g = 0,
                h = u.length; g < h; g++)
                    v.$r[g] = u[g][1];
            v.wb = [];
            v.wb.length = u.length
        }
        g = 0;
        for (h = u.length; g < h; g++)
            v.wb[g] = u[g][0];
        if (l) {
            var y = a[0];
            v.x = ja(f) ? y[0] : f;
            v.y = ja(k) ? y[1] : k;
            v.z = y[2];
            v.width = y[3];
            v.height = y[4];
            v.depth = y[5];
            v.k = y[6];
            v.opacity = y[7];
            v.Bc = y[8];
            v.Cc = y[9];
            v.cc = y[10];
            g = y[11];
            !this.B && d.V.length && (v.cc = g);
            v.Ai = gb(v.cc);
            this.D && hb(v, v.cc, this.D);
            if (v.qc) {
                g = 0;
                for (h = y[12].length; g < h; g++)
                    for (u = 0,
                    q = y[12][g].length; u < q; u++)
                        v.Ua[g][u] = y[12][g][u];
                v.Ia.set(0, 0, 0, 0);
                v.jd.set(0, 0, -1, -1);
                v.Ec.set(0, 0, -1, -1);
                v.Lc.Zh(v.Ia);
                U(v.En)
            } else {
                v.Ua = y[12].slice(0);
                g = 0;
                for (h = v.Ua.length; g < h; g++)
                    v.Ua[g] = y[12][g].slice(0);
                v.ua = [];
                v.gf = [];
                v.gf.length = d.V.length;
                v.Ia = new wa(0,0,0,0);
                v.jd = new wa(0,0,-1,-1);
                v.Ec = new wa(0,0,-1,-1);
                v.Lc = new xa;
                v.En = [];
                v.F = Lb;
                v.Bw = Mb;
                v.ec = Nb;
                v.Ha = Ob;
                v.vu = Pb;
                v.nq = Qb;
                v.he = Rb
            }
            v.ei = !1;
            v.ju = 0;
            v.iu = 0;
            v.hu = null;
            14 === y.length && (v.ei = !0,
            v.ju = y[13][0],
            v.iu = y[13][1],
            v.hu = y[13][2]);
            g = 0;
            for (h = d.V.length; g < h; g++)
                v.gf[g] = !0;
            v.Te = !0;
            v.Td = Sb;
            v.Td();
            v.wu = !!v.ua.length;
            v.Ik = !0;
            v.In = !0;
            d.Bk = !0;
            v.visible = !0;
            v.yj = -1;
            v.n = c;
            v.Vd = c.e.length;
            v.eg = 0;
            "undefined" === typeof v.xa && (v.xa = null);
            this.ba = v.Vc = !0
        }
        var t;
        U(C);
        g = 0;
        for (h = d.Ra.length; g < h; g++)
            C.push.apply(C, d.Ra[g].Ta);
        C.push.apply(C, d.Ta);
        if (v.qc)
            for (g = 0,
            h = C.length; g < h; g++) {
                var n = C[g];
                t = v.P[g];
                t.qc = !0;
                n.behavior.K.call(t, n, v);
                y = a[4][g];
                u = 0;
                for (q = y.length; u < q; u++)
                    t.u[u] = y[u];
                t.G();
                n.behavior.gm.add(v)
            }
        else
            for (v.P = [],
            g = 0,
            h = C.length; g < h; g++)
                n = C[g],
                t = new n.behavior.K(n,v),
                t.qc = !1,
                t.u = a[4][g].slice(0),
                t.G(),
                v.P.push(t),
                n.behavior.gm.add(v);
        y = a[5];
        if (v.qc)
            for (g = 0,
            h = y.length; g < h; g++)
                v.u[g] = y[g];
        else
            v.u = y.slice(0);
        this.Id.push(v);
        this.zf = !0;
        c && (c.ti(v, !0),
        1 !== c.rd || 1 !== c.sd) && (d.Ck = !0);
        this.jm++;
        if (d.lc) {
            if (v.lc = !0,
            v.qc ? U(v.siblings) : v.siblings = [],
            !b && !e) {
                g = 0;
                for (h = d.Mc.length; g < h; g++)
                    if (d.Mc[g] !== d) {
                        if (!d.Mc[g].ld)
                            return null;
                        v.siblings.push(this.vf(d.Mc[g].ld, A, !1, l ? v.x : f, l ? v.y : k, !0))
                    }
                g = 0;
                for (h = v.siblings.length; g < h; g++)
                    for (v.siblings[g].siblings.push(v),
                    u = 0; u < h; u++)
                        g !== u && v.siblings[g].siblings.push(v.siblings[u])
            }
        } else
            v.lc = !1,
            v.siblings = null;
        v.G();
        g = 0;
        for (h = v.P.length; g < h; g++)
            v.P[g].Sz && v.P[g].Sz();
        return v
    }
    ;
    d.prototype.no = function(a) {
        var c, b;
        c = 0;
        for (b = this.na.W.length; c < b; c++) {
            var f = this.na.W[c];
            if (jb(f.name, a))
                return f
        }
        return null
    }
    ;
    d.prototype.Ki = function(a) {
        a = B(a);
        0 > a && (a = 0);
        a >= this.na.W.length && (a = this.na.W.length - 1);
        return this.na.W[a]
    }
    ;
    d.prototype.Jn = function(a) {
        var c, b;
        c = 0;
        for (b = a.length; c < b; c++)
            a[c].Z().ea = !0
    }
    ;
    d.prototype.Kj = function(a) {
        var c, b;
        c = 0;
        for (b = a.length; c < b; c++)
            a[c].Kj()
    }
    ;
    d.prototype.Lj = function(a) {
        var c, b;
        c = 0;
        for (b = a.length; c < b; c++)
            a[c].Lj()
    }
    ;
    d.prototype.Kf = function(a) {
        var c, b;
        c = 0;
        for (b = a.length; c < b; c++)
            a[c].Kf()
    }
    ;
    d.prototype.su = function(a) {
        if (a.Bk) {
            var c, b, f = a.e;
            c = 0;
            for (b = f.length; c < b; ++c)
                f[c].nq();
            f = this.Id;
            c = 0;
            for (b = f.length; c < b; ++c)
                f[c].type === a && f[c].nq();
            a.Bk = !1
        }
    }
    ;
    d.prototype.ho = function(a, c, b, f) {
        var g, k, e = a ? 1 !== a.rd || 1 !== a.sd : !1;
        if (c.I)
            for (a = 0,
            g = c.Dg.length; a < g; ++a)
                k = c.Dg[a],
                e || k.Ck ? Da(f, k.e) : (this.su(k),
                k.yi.ym(b, f));
        else
            e || c.Ck ? Da(f, c.e) : (this.su(c),
            c.yi.ym(b, f))
    }
    ;
    d.prototype.Rr = function(a, c, b, f) {
        var g, k;
        g = 0;
        for (k = c.length; g < k; ++g)
            this.ho(a, c[g], b, f)
    }
    ;
    d.prototype.Fy = function(a, c, b) {
        var f = this.Zt;
        f && this.Rr(a, f.hm, c, b)
    }
    ;
    d.prototype.yy = function(a, c, b) {
        var f = this.ps;
        f && this.Rr(a, f.hm, c, b)
    }
    ;
    d.prototype.cu = function(a, c, b, f) {
        var g = a.Z(), k, e, h, u, q = this.Za().fb.cd, d, v, l;
        if (g.ea)
            for (f || (g.ea = !1,
            U(g.e)),
            k = 0,
            u = a.e.length; k < u; k++)
                if (h = a.e[k],
                h.Ha(),
                d = h.n.ic(c, b, !0),
                v = h.n.ic(c, b, !1),
                h.ec(d, v)) {
                    if (f)
                        return !1;
                    g.e.push(h)
                } else
                    q && g.Y.push(h);
        else {
            e = 0;
            l = q ? g.Y : g.e;
            k = 0;
            for (u = l.length; k < u; k++)
                if (h = l[k],
                h.Ha(),
                d = h.n.ic(c, b, !0),
                v = h.n.ic(c, b, !1),
                h.ec(d, v)) {
                    if (f)
                        return !1;
                    q ? g.e.push(h) : (g.e[e] = g.e[k],
                    e++)
                }
            f || (l.length = e)
        }
        a.Dd();
        return f ? !0 : g.xo()
    }
    ;
    d.prototype.Ic = function(a, c) {
        if (!(a && c && a !== c && a.Vc && c.Vc))
            return !1;
        a.Ha();
        c.Ha();
        var b = a.n, f = c.n, g, k, e, h, u, q, d, v;
        if (b === f || b.rd === f.rd && f.sd === f.sd && b.scale === f.scale && b.k === f.k && b.Wd === f.Wd) {
            if (!a.Ia.az(c.Ia) || !a.Lc.as(c.Lc) || a.ei && c.ei)
                return !1;
            if (a.ei)
                return this.du(a, c);
            if (c.ei)
                return this.du(c, a);
            d = a.xa && !a.xa.uh();
            g = c.xa && !c.xa.uh();
            if (!d && !g)
                return !0;
            d ? (a.xa.Wf(a.width, a.height, a.k),
            d = a.xa) : (this.Qd.Yh(a.Lc, a.x, a.y, a.width, a.height),
            d = this.Qd);
            g ? (c.xa.Wf(c.width, c.height, c.k),
            v = c.xa) : (this.Qd.Yh(c.Lc, c.x, c.y, c.width, c.height),
            v = this.Qd);
            return d.Ti(v, c.x - a.x, c.y - a.y)
        }
        d = a.xa && !a.xa.uh();
        g = c.xa && !c.xa.uh();
        d ? (a.xa.Wf(a.width, a.height, a.k),
        this.Qd.Rt(a.xa)) : this.Qd.Yh(a.Lc, a.x, a.y, a.width, a.height);
        d = this.Qd;
        g ? (c.xa.Wf(c.width, c.height, c.k),
        this.Xp.Rt(c.xa)) : this.Xp.Yh(c.Lc, c.x, c.y, c.width, c.height);
        v = this.Xp;
        g = 0;
        for (k = d.Tc; g < k; g++)
            e = 2 * g,
            h = e + 1,
            u = d.Ka[e],
            q = d.Ka[h],
            d.Ka[e] = b.mc(u + a.x, q + a.y, !0),
            d.Ka[h] = b.mc(u + a.x, q + a.y, !1);
        d.Ha();
        g = 0;
        for (k = v.Tc; g < k; g++)
            e = 2 * g,
            h = e + 1,
            u = v.Ka[e],
            q = v.Ka[h],
            v.Ka[e] = f.mc(u + c.x, q + c.y, !0),
            v.Ka[h] = f.mc(u + c.x, q + c.y, !1);
        v.Ha();
        return d.Ti(v, 0, 0)
    }
    ;
    var O = new xa;
    new wa(0,0,0,0);
    var Q = [];
    d.prototype.du = function(a, c) {
        var b, f, g, k, e = c.Ia, h = a.x, u = a.y;
        a.ry(e, Q);
        var q = c.xa && !c.xa.uh();
        b = 0;
        for (f = Q.length; b < f; ++b)
            if (g = Q[b],
            k = g.Ba,
            e.bz(k, h, u) && (O.Zh(k),
            O.offset(h, u),
            O.as(c.Lc)))
                if (q)
                    if (c.xa.Wf(c.width, c.height, c.k),
                    g.Qe) {
                        if (g.Qe.Ti(c.xa, c.x - (h + k.left), c.y - (u + k.top)))
                            return U(Q),
                            !0
                    } else {
                        if (this.Qd.Yh(O, 0, 0, k.right - k.left, k.bottom - k.top),
                        this.Qd.Ti(c.xa, c.x, c.y))
                            return U(Q),
                            !0
                    }
                else if (g.Qe) {
                    if (this.Qd.Yh(c.Lc, 0, 0, c.width, c.height),
                    g.Qe.Ti(this.Qd, -(h + k.left), -(u + k.top)))
                        return U(Q),
                        !0
                } else
                    return U(Q),
                    !0;
        U(Q);
        return !1
    }
    ;
    d.prototype.gq = function(a, c) {
        if (!c)
            return !1;
        var b, f, g, k, e;
        b = 0;
        for (f = a.Ta.length; b < f; b++)
            if (a.Ta[b].behavior instanceof c)
                return !0;
        if (!a.I)
            for (b = 0,
            f = a.Ra.length; b < f; b++)
                for (e = a.Ra[b],
                g = 0,
                k = e.Ta.length; g < k; g++)
                    if (e.Ta[g].behavior instanceof c)
                        return !0;
        return !1
    }
    ;
    d.prototype.hq = function(a) {
        return this.gq(a, gc.iB)
    }
    ;
    d.prototype.iq = function(a) {
        return this.gq(a, gc.jB)
    }
    ;
    var N = [];
    d.prototype.uc = function(a) {
        var c, b, f;
        a.Ha();
        this.Fy(a.n, a.Ia, N);
        c = 0;
        for (b = N.length; c < b; ++c)
            if (f = N[c],
            f.H.solidEnabled && this.Ic(a, f))
                return U(N),
                f;
        U(N);
        return null
    }
    ;
    var F = [];
    d.prototype.Xe = function(a, c) {
        var b = null;
        c && (b = F,
        U(b));
        a.Ha();
        this.yy(a.n, a.Ia, N);
        var f, g, k;
        f = 0;
        for (g = N.length; f < g; ++f)
            if (k = N[f],
            k.H.jumpthruEnabled && this.Ic(a, k))
                if (c)
                    b.push(k);
                else
                    return U(N),
                    k;
        U(N);
        return b
    }
    ;
    d.prototype.ud = function(a, c, b, f, g, k) {
        f = f || 50;
        var e = a.x, h = a.y, u, q = null, d = null;
        for (u = 0; u < f; u++)
            if (a.x = e + c * u,
            a.y = h + b * u,
            a.F(),
            !this.Ic(a, q) && ((q = this.uc(a)) && (d = q),
            !q && (g && (k ? q = this.Ic(a, k) ? k : null : q = this.Xe(a),
            q && (d = q)),
            !q)))
                return d && this.zp(a, c, b, d),
                !0;
        a.x = e;
        a.y = h;
        a.F();
        return !1
    }
    ;
    d.prototype.zp = function(a, c, b, f) {
        var g = 2, k, e = !1;
        k = !1;
        for (var h = a.x, u = a.y; 16 >= g; )
            k = 1 / g,
            g *= 2,
            a.x += c * k * (e ? 1 : -1),
            a.y += b * k * (e ? 1 : -1),
            a.F(),
            this.Ic(a, f) ? k = e = !0 : (k = e = !1,
            h = a.x,
            u = a.y);
        k && (a.x = h,
        a.y = u,
        a.F())
    }
    ;
    d.prototype.$z = function(a, c) {
        var b = ja(c) ? 100 : c
          , f = 0
          , g = a.x
          , k = a.y
          , e = 0
          , h = 0
          , u = 0
          , q = this.uc(a);
        if (!q)
            return !0;
        for (; f <= b; ) {
            switch (e) {
            case 0:
                h = 0;
                u = -1;
                f++;
                break;
            case 1:
                h = 1;
                u = -1;
                break;
            case 2:
                h = 1;
                u = 0;
                break;
            case 3:
                u = h = 1;
                break;
            case 4:
                h = 0;
                u = 1;
                break;
            case 5:
                h = -1;
                u = 1;
                break;
            case 6:
                h = -1;
                u = 0;
                break;
            case 7:
                u = h = -1
            }
            e = (e + 1) % 8;
            a.x = B(g + h * f);
            a.y = B(k + u * f);
            a.F();
            if (!this.Ic(a, q) && (q = this.uc(a),
            !q))
                return !0
        }
        a.x = g;
        a.y = k;
        a.F();
        return !1
    }
    ;
    d.prototype.Oj = function(a, c) {
        a.Vc && c.Vc && this.Gg.push([a, c])
    }
    ;
    d.prototype.Aw = function(a, c, b) {
        var f, g, k;
        f = 0;
        for (g = this.Gg.length; f < g; ++f) {
            k = this.Gg[f];
            if (k[0] === a)
                k = k[1];
            else if (k[1] === a)
                k = k[0];
            else
                continue;
            if (c.I) {
                if (-1 === c.Dg.indexOf(c))
                    continue
            } else if (k.type !== c)
                continue;
            -1 === b.indexOf(k) && b.push(k)
        }
    }
    ;
    d.prototype.Mw = function(a, c) {
        var b, f, g;
        b = 0;
        for (f = this.Gg.length; b < f; b++)
            if (g = this.Gg[b],
            g[0] === a && g[1] === c || g[0] === c && g[1] === a)
                return !0;
        return !1
    }
    ;
    var R = -1;
    d.prototype.trigger = function(a, c, b) {
        if (!this.na)
            return !1;
        var f = this.na.fg;
        if (!f)
            return !1;
        var g = !1, k, e, h;
        R++;
        var u = f.Sn;
        e = 0;
        for (h = u.length; e < h; ++e)
            k = this.mu(a, c, u[e], b),
            g = g || k;
        k = this.mu(a, c, f, b);
        R--;
        return g || k
    }
    ;
    d.prototype.mu = function(a, c, b, f) {
        var g = !1, k, e, h, u;
        if (c)
            for (h = this.dq(a, c, c.type.name, b, f),
            g = g || h,
            u = c.type.Ra,
            k = 0,
            e = u.length; k < e; ++k)
                h = this.dq(a, c, u[k].name, b, f),
                g = g || h;
        else
            h = this.dq(a, c, "system", b, f),
            g = g || h;
        return g
    }
    ;
    d.prototype.dq = function(a, c, b, f, g) {
        var k, e = !1, h = !1, h = "undefined" !== typeof g, u = (h ? f.Br : f.nu)[b];
        if (!u)
            return e;
        var q = null;
        f = 0;
        for (k = u.length; f < k; ++f)
            if (u[f].method == a) {
                q = u[f].Gi;
                break
            }
        if (!q)
            return e;
        var d;
        h ? d = q[g] : d = q;
        if (!d)
            return null;
        f = 0;
        for (k = d.length; f < k; f++)
            a = d[f][0],
            g = d[f][1],
            h = this.gy(c, b, a, g),
            e = e || h;
        return e
    }
    ;
    d.prototype.gy = function(a, c, b, f) {
        var g, k, e = !1;
        this.fq++;
        var h = this.Za().fb;
        h && this.Kj(h.Of);
        var u = 1 < this.fq;
        this.Kj(b.Of);
        u && this.Yz();
        var q = this.xm(b);
        q.fb = b;
        a && (g = this.types[c].Z(),
        g.ea = !1,
        U(g.e),
        g.e[0] = a,
        this.types[c].Dd());
        a = !0;
        if (b.parent) {
            c = q.bu;
            for (g = b.parent; g; )
                c.push(g),
                g = g.parent;
            c.reverse();
            g = 0;
            for (k = c.length; g < k; g++)
                if (!c[g].lA()) {
                    a = !1;
                    break
                }
        }
        a && (this.hg++,
        b.cd ? b.kA(f) : b.nb(),
        e = e || q.xg);
        this.tm();
        u && this.Qz();
        this.Kf(b.Of);
        h && this.Kf(h.Of);
        this.zf && 0 === this.Md && 0 === R && !this.Mo && this.ac();
        this.fq--;
        return e
    }
    ;
    d.prototype.mh = function() {
        var a = this.Za();
        return a.fb.sb[a.eb]
    }
    ;
    d.prototype.ez = function() {
        return 0 === this.Za().eb
    }
    ;
    d.prototype.ty = function() {
        var a = this.Za();
        return a.fb.gd[a.yc]
    }
    ;
    d.prototype.Yz = function() {
        this.Yl++;
        this.Yl >= this.$o.length && this.$o.push([])
    }
    ;
    d.prototype.Qz = function() {
        this.Yl--
    }
    ;
    d.prototype.Kr = function() {
        return this.$o[this.Yl]
    }
    ;
    d.prototype.xm = function(a) {
        this.cl++;
        this.cl >= this.Wn.length && this.Wn.push(new Tb);
        var c = this.Za();
        c.reset(a);
        return c
    }
    ;
    d.prototype.tm = function() {
        this.cl--
    }
    ;
    d.prototype.Za = function() {
        return this.Wn[this.cl]
    }
    ;
    d.prototype.Zz = function() {
        this.$l++;
        this.$l >= this.cp.length && this.cp.push(da({
            name: void 0,
            index: 0,
            Ib: !1
        }));
        var a = this.uy();
        a.name = void 0;
        a.index = 0;
        a.Ib = !1;
        return a
    }
    ;
    d.prototype.Rz = function() {
        this.$l--
    }
    ;
    d.prototype.uy = function() {
        return this.cp[this.$l]
    }
    ;
    d.prototype.Mr = function(a, c) {
        for (var b, f, g, k, e, h; c; ) {
            b = 0;
            for (f = c.xd.length; b < f; b++)
                if (h = c.xd[b],
                h instanceof Ub && jb(a, h.name))
                    return h;
            c = c.parent
        }
        b = 0;
        for (f = this.ze.length; b < f; b++)
            for (e = this.ze[b],
            g = 0,
            k = e.xf.length; g < k; g++)
                if (h = e.xf[g],
                h instanceof Ub && jb(a, h.name))
                    return h;
        return null
    }
    ;
    d.prototype.Or = function(a) {
        var c, b;
        c = 0;
        for (b = this.Qc.length; c < b; c++)
            if (this.Qc[c].fa === a)
                return this.Qc[c];
        return null
    }
    ;
    d.prototype.xl = function(a) {
        var c, b;
        c = 0;
        for (b = this.C.length; c < b; c++)
            if (this.C[c].fa === a)
                return this.C[c];
        return null
    }
    ;
    d.prototype.vy = function(a) {
        var c, b;
        c = 0;
        for (b = this.kf.length; c < b; c++)
            if (this.kf[c].fa === a)
                return this.kf[c];
        return null
    }
    ;
    d.prototype.Yw = function(a, c) {
        this.Yj = [a, c];
        this.ba = !0
    }
    ;
    d.prototype.Vy = function() {
        var a = this
          , c = this.Lp
          , b = this.Ge
          , f = this.Tl
          , g = !1;
        this.Wt && (g = !0,
        c = "__c2_continuouspreview",
        this.Wt = !1);
        if (c.length) {
            this.ac();
            b = this.pA();
            if (p() && !this.Kd)
                n(c, b, function() {
                    ha("Saved state to IndexedDB storage (" + b.length + " bytes)");
                    a.Ge = b;
                    a.trigger(W.prototype.j.tn, null);
                    a.Ge = "";
                    g && l()
                }, function(f) {
                    try {
                        localStorage.setItem("__c2save_" + c, b),
                        ha("Saved state to WebStorage (" + b.length + " bytes)"),
                        a.Ge = b,
                        a.trigger(W.prototype.j.tn, null),
                        a.Ge = "",
                        g && l()
                    } catch (k) {
                        ha("Failed to save game state: " + f + "; " + k),
                        a.trigger(W.prototype.j.Nq, null)
                    }
                });
            else
                try {
                    localStorage.setItem("__c2save_" + c, b),
                    ha("Saved state to WebStorage (" + b.length + " bytes)"),
                    a.Ge = b,
                    this.trigger(W.prototype.j.tn, null),
                    a.Ge = "",
                    g && l()
                } catch (k) {
                    ha("Error saving to WebStorage: " + k),
                    a.trigger(W.prototype.j.Nq, null)
                }
            this.Tl = this.Lp = "";
            this.zb = null
        }
        if (f.length) {
            if (p() && !this.Kd)
                t(f, function(c) {
                    c ? (a.zb = c,
                    ha("Loaded state from IndexedDB storage (" + a.zb.length + " bytes)")) : (a.zb = localStorage.getItem("__c2save_" + f) || "",
                    ha("Loaded state from WebStorage (" + a.zb.length + " bytes)"));
                    a.Zj = !1;
                    a.zb || (a.zb = null,
                    a.trigger(W.prototype.j.tk, null))
                }, function() {
                    a.zb = localStorage.getItem("__c2save_" + f) || "";
                    ha("Loaded state from WebStorage (" + a.zb.length + " bytes)");
                    a.Zj = !1;
                    a.zb || (a.zb = null,
                    a.trigger(W.prototype.j.tk, null))
                });
            else {
                try {
                    this.zb = localStorage.getItem("__c2save_" + f) || "",
                    ha("Loaded state from WebStorage (" + this.zb.length + " bytes)")
                } catch (e) {
                    this.zb = null
                }
                this.Zj = !1;
                a.zb || (a.zb = null,
                a.trigger(W.prototype.j.tk, null))
            }
            this.Lp = this.Tl = ""
        }
        null !== this.zb && (this.ac(),
        this.sz(this.zb) ? (this.Ge = this.zb,
        this.trigger(W.prototype.j.Av, null),
        this.Ge = "") : a.trigger(W.prototype.j.tk, null),
        this.zb = null)
    }
    ;
    d.prototype.pA = function() {
        var c, b, f, g, k, e, h, u = {
            c2save: !0,
            version: 1,
            rt: {
                time: this.ib.R,
                walltime: this.cf.R,
                timescale: this.Qg,
                tickcount: this.Pg,
                execcount: this.hg,
                next_uid: this.zj,
                running_layout: this.na.fa,
                start_time_offset: Date.now() - this.Sm
            },
            types: {},
            layouts: {},
            events: {
                groups: {},
                cnds: {},
                acts: {},
                vars: {}
            }
        };
        c = 0;
        for (b = this.C.length; c < b; c++)
            if (k = this.C[c],
            !k.I && !this.hq(k)) {
                e = {
                    instances: []
                };
                Ua(k.H) && (e.ex = a(k.H));
                f = 0;
                for (g = k.e.length; f < g; f++)
                    e.instances.push(this.Kp(k.e[f]));
                u.types[k.fa.toString()] = e
            }
        c = 0;
        for (b = this.Qc.length; c < b; c++)
            f = this.Qc[c],
            u.layouts[f.fa.toString()] = f.cb();
        g = u.events.groups;
        c = 0;
        for (b = this.kf.length; c < b; c++)
            f = this.kf[c],
            g[f.fa.toString()] = this.yl[f.Oi].Ni;
        b = u.events.cnds;
        for (h in this.uf)
            this.uf.hasOwnProperty(h) && (c = this.uf[h],
            Ua(c.H) && (b[h] = {
                ex: a(c.H)
            }));
        b = u.events.acts;
        for (h in this.hf)
            this.hf.hasOwnProperty(h) && (c = this.hf[h],
            Ua(c.H) && (b[h] = {
                ex: a(c.H)
            }));
        b = u.events.vars;
        for (h in this.hi)
            this.hi.hasOwnProperty(h) && (c = this.hi[h],
            c.Ml || c.parent && !c.aj || (b[h] = c.data));
        u.system = this.qe.cb();
        return JSON.stringify(u)
    }
    ;
    d.prototype.Ct = function() {
        var a, c, b, f, g, k;
        this.Me = {};
        a = 0;
        for (c = this.C.length; a < c; a++)
            if (b = this.C[a],
            !b.I)
                for (f = 0,
                g = b.e.length; f < g; f++)
                    k = b.e[f],
                    this.Me[k.uid.toString()] = k
    }
    ;
    d.prototype.sz = function(a) {
        var c;
        try {
            c = JSON.parse(a)
        } catch (b) {
            return !1
        }
        if (!c.c2save || 1 < c.version)
            return !1;
        this.Vi = !0;
        a = c.rt;
        this.ib.reset();
        this.ib.R = a.time;
        this.cf.reset();
        this.cf.R = a.walltime || 0;
        this.Qg = a.timescale;
        this.Pg = a.tickcount;
        this.hg = a.execcount;
        this.Sm = Date.now() - a.start_time_offset;
        var f = a.running_layout;
        if (f !== this.na.fa)
            if (f = this.Or(f))
                this.sr(f);
            else
                return;
        var g, k, e, h, u, q, d;
        q = c.types;
        for (k in q)
            if (q.hasOwnProperty(k) && (h = this.xl(parseInt(k, 10))) && !h.I && !this.hq(h)) {
                q[k].ex ? h.H = q[k].ex : Va(h.H);
                u = h.e;
                e = q[k].instances;
                f = 0;
                for (g = ra(u.length, e.length); f < g; f++)
                    this.Ul(u[f], e[f]);
                f = e.length;
                for (g = u.length; f < g; f++)
                    this.Xd(u[f]);
                f = u.length;
                for (g = e.length; f < g; f++) {
                    u = null;
                    if (h.Fa.Bf && (u = this.na.wl(e[f].w.l),
                    !u))
                        continue;
                    u = this.vf(h.ld, u, !1, 0, 0, !0);
                    this.Ul(u, e[f])
                }
                h.bi = !0
            }
        this.ac();
        this.Ct();
        g = c.layouts;
        for (k in g)
            g.hasOwnProperty(k) && (f = this.Or(parseInt(k, 10))) && f.yb(g[k]);
        g = c.events.groups;
        for (k in g)
            g.hasOwnProperty(k) && (f = this.vy(parseInt(k, 10))) && this.yl[f.Oi] && this.yl[f.Oi].Lt(g[k]);
        f = c.events.cnds;
        for (k in this.uf)
            this.uf.hasOwnProperty(k) && (f.hasOwnProperty(k) ? this.uf[k].H = f[k].ex : this.uf[k].H = {});
        f = c.events.acts;
        for (k in this.hf)
            this.hf.hasOwnProperty(k) && (f.hasOwnProperty(k) ? this.hf[k].H = f[k].ex : this.hf[k].H = {});
        f = c.events.vars;
        for (k in f)
            f.hasOwnProperty(k) && this.hi.hasOwnProperty(k) && (this.hi[k].data = f[k]);
        this.zj = a.next_uid;
        this.Vi = !1;
        f = 0;
        for (g = this.jl.length; f < g; ++f)
            u = this.jl[f],
            this.trigger(Object.getPrototypeOf(u.type.Fa).j.oi, u);
        U(this.jl);
        this.qe.yb(c.system);
        f = 0;
        for (g = this.C.length; f < g; f++)
            if (h = this.C[f],
            !h.I && !this.hq(h))
                for (c = 0,
                k = h.e.length; c < k; c++) {
                    u = h.e[c];
                    if (h.lc)
                        for (q = u.Mi(),
                        U(u.siblings),
                        a = 0,
                        e = h.Mc.length; a < e; a++)
                            d = h.Mc[a],
                            h !== d && u.siblings.push(d.e[q]);
                    u.$d && u.$d();
                    if (u.P)
                        for (a = 0,
                        e = u.P.length; a < e; a++)
                            q = u.P[a],
                            q.$d && q.$d()
                }
        return this.ba = !0
    }
    ;
    d.prototype.Kp = function(c, b) {
        var f, g, k, e, h;
        e = c.type;
        k = e.Fa;
        var u = {};
        b ? u.c2 = !0 : u.uid = c.uid;
        Ua(c.H) && (u.ex = a(c.H));
        if (c.wb && c.wb.length)
            for (u.ivs = {},
            f = 0,
            g = c.wb.length; f < g; f++)
                u.ivs[c.type.Ho[f].toString()] = c.wb[f];
        if (k.Bf) {
            k = {
                x: c.x,
                y: c.y,
                w: c.width,
                h: c.height,
                l: c.n.fa,
                zi: c.he()
            };
            0 !== c.k && (k.a = c.k);
            1 !== c.opacity && (k.o = c.opacity);
            .5 !== c.Bc && (k.hX = c.Bc);
            .5 !== c.Cc && (k.hY = c.Cc);
            0 !== c.cc && (k.bm = c.cc);
            c.visible || (k.v = c.visible);
            c.Vc || (k.ce = c.Vc);
            -1 !== c.yj && (k.mts = c.yj);
            if (e.V.length)
                for (k.fx = [],
                f = 0,
                g = e.V.length; f < g; f++)
                    h = e.V[f],
                    k.fx.push({
                        name: h.name,
                        active: c.gf[h.index],
                        params: c.Ua[h.index]
                    });
            u.w = k
        }
        if (c.P && c.P.length)
            for (u.behs = {},
            f = 0,
            g = c.P.length; f < g; f++)
                e = c.P[f],
                e.cb && (u.behs[e.type.fa.toString()] = e.cb());
        c.cb && (u.data = c.cb());
        return u
    }
    ;
    d.prototype.xy = function(a, c) {
        var f, b;
        f = 0;
        for (b = a.Ho.length; f < b; f++)
            if (a.Ho[f] === c)
                return f;
        return -1
    }
    ;
    d.prototype.qy = function(a, c) {
        var f, b;
        f = 0;
        for (b = a.P.length; f < b; f++)
            if (a.P[f].type.fa === c)
                return f;
        return -1
    }
    ;
    d.prototype.Ul = function(a, c, f) {
        var b, g, k, e, h;
        h = a.type;
        var u = h.Fa;
        if (f) {
            if (!c.c2)
                return
        } else
            a.uid = c.uid;
        c.ex ? a.H = c.ex : Va(a.H);
        if (g = c.ivs)
            for (b in g)
                g.hasOwnProperty(b) && (k = this.xy(h, parseInt(b, 10)),
                0 > k || k >= a.wb.length || (e = g[b],
                null === e && (e = NaN),
                a.wb[k] = e));
        if (u.Bf) {
            k = c.w;
            a.n.fa !== k.l && (g = a.n,
            a.n = this.na.wl(k.l),
            a.n ? (g.Vh(a, !0),
            a.n.ti(a, !0),
            a.F(),
            a.n.Tj(0)) : (a.n = g,
            f || this.Xd(a)));
            a.x = k.x;
            a.y = k.y;
            a.width = k.w;
            a.height = k.h;
            a.Vd = k.zi;
            a.k = k.hasOwnProperty("a") ? k.a : 0;
            a.opacity = k.hasOwnProperty("o") ? k.o : 1;
            a.Bc = k.hasOwnProperty("hX") ? k.hX : .5;
            a.Cc = k.hasOwnProperty("hY") ? k.hY : .5;
            a.visible = k.hasOwnProperty("v") ? k.v : !0;
            a.Vc = k.hasOwnProperty("ce") ? k.ce : !0;
            a.yj = k.hasOwnProperty("mts") ? k.mts : -1;
            a.cc = k.hasOwnProperty("bm") ? k.bm : 0;
            a.Ai = gb(a.cc);
            this.D && hb(a, a.cc, this.D);
            a.F();
            if (k.hasOwnProperty("fx"))
                for (f = 0,
                g = k.fx.length; f < g; f++)
                    e = h.ko(k.fx[f].name),
                    0 > e || (a.gf[e] = k.fx[f].active,
                    a.Ua[e] = k.fx[f].params);
            a.Td()
        }
        if (h = c.behs)
            for (b in h)
                h.hasOwnProperty(b) && (f = this.qy(a, parseInt(b, 10)),
                0 > f || a.P[f].yb(h[b]));
        c.data && a.yb(c.data)
    }
    ;
    d.prototype.Cr = function(a, c, f) {
        window.resolveLocalFileSystemURL(cordova.file.applicationDirectory + "www/" + a, function(a) {
            a.file(c, f)
        }, f)
    }
    ;
    d.prototype.hy = function(a, c) {
        this.Cr("data.js", function(f) {
            var b = new FileReader;
            b.onload = function(c) {
                a(c.target.result)
            }
            ;
            b.onerror = c;
            b.readAsText(f)
        }, c)
    }
    ;
    var H = []
      , E = 0;
    d.prototype.hp = function() {
        if (H.length && !(8 <= E)) {
            E++;
            var a = H.shift();
            this.$w(a.filename, a.AA, a.Dx)
        }
    }
    ;
    d.prototype.Dr = function(a, c, f) {
        var b = this;
        H.push({
            filename: a,
            AA: function(a) {
                E--;
                b.hp();
                c(a)
            },
            Dx: function(a) {
                E--;
                b.hp();
                f(a)
            }
        });
        this.hp()
    }
    ;
    d.prototype.$w = function(a, c, f) {
        this.Cr(a, function(a) {
            var f = new FileReader;
            f.onload = function(a) {
                c(a.target.result)
            }
            ;
            f.readAsArrayBuffer(a)
        }, f)
    }
    ;
    d.prototype.iy = function(a, c, f) {
        var b = ""
          , k = a.toLowerCase()
          , g = k.substr(k.length - 4)
          , k = k.substr(k.length - 5);
        ".mp4" === g ? b = "video/mp4" : ".webm" === k ? b = "video/webm" : ".m4a" === g ? b = "audio/mp4" : ".mp3" === g && (b = "audio/mpeg");
        this.Dr(a, function(a) {
            a = URL.createObjectURL(new Blob([a],{
                type: b
            }));
            c(a)
        }, f)
    }
    ;
    d.prototype.cz = function(a) {
        return /^(?:[a-z]+:)?\/\//.test(a) || "data:" === a.substr(0, 5) || "blob:" === a.substr(0, 5)
    }
    ;
    d.prototype.Mt = function(a, c) {
        this.Ll && !this.cz(c) ? this.iy(c, function(c) {
            a.src = c
        }, function(a) {
            alert("Failed to load image: " + a)
        }) : a.src = c
    }
    ;
    d.prototype.Gm = function(a, c) {
        "undefined" !== typeof a.imageSmoothingEnabled ? a.imageSmoothingEnabled = c : (a.webkitImageSmoothingEnabled = c,
        a.mozImageSmoothingEnabled = c,
        a.msImageSmoothingEnabled = c)
    }
    ;
    Vb = function(a) {
        return new d(document.getElementById(a))
    }
    ;
    Wb = function(a, c) {
        return new d({
            dc: !0,
            width: a,
            height: c
        })
    }
    ;
    window.cr_createRuntime = Vb;
    window.cr_createDCRuntime = Wb;
    window.createCocoonJSRuntime = function() {
        window.c2cocoonjs = !0;
        var a = document.createElement("screencanvas") || document.createElement("canvas");
        a.of = !0;
        document.body.appendChild(a);
        a = new d(a);
        window.c2runtime = a;
        window.addEventListener("orientationchange", function() {
            window.c2runtime.setSize(window.innerWidth, window.innerHeight)
        });
        window.c2runtime.setSize(window.innerWidth, window.innerHeight);
        return a
    }
    ;
    window.createEjectaRuntime = function() {
        var a = new d(document.getElementById("canvas"));
        window.c2runtime = a;
        window.c2runtime.setSize(window.innerWidth, window.innerHeight);
        return a
    }
}
)();
window.cr_getC2Runtime = function() {
    var d = document.getElementById("c2canvas");
    return d ? d.c2runtime : window.c2runtime ? window.c2runtime : null
}
;
window.cr_getSnapshot = function(d, m) {
    var p = window.cr_getC2Runtime();
    p && p.Yw(d, m)
}
;
window.cr_sizeCanvas = function(d, m) {
    if (0 !== d && 0 !== m) {
        var p = window.cr_getC2Runtime();
        p && p.setSize(d, m)
    }
}
;
window.cr_setSuspended = function(d) {
    var m = window.cr_getC2Runtime();
    m && m.setSuspended(d)
}
;
(function() {
    function d(a, f) {
        this.b = a;
        this.fg = null;
        this.scrollX = this.b.lb / 2;
        this.scrollY = this.b.kb / 2;
        this.scale = 1;
        this.k = 0;
        this.jh = !0;
        this.name = f[0];
        this.Lz = f[1];
        this.Kz = f[2];
        this.width = f[1];
        this.height = f[2];
        this.pu = f[3];
        this.Ut = f[4];
        this.fa = f[5];
        var b = f[6], e, d;
        this.W = [];
        this.Si = [];
        e = 0;
        for (d = b.length; e < d; e++) {
            var l = new Xb(this,b[e]);
            l.Xs = e;
            this.W.push(l)
        }
        b = f[7];
        this.Af = [];
        e = 0;
        for (d = b.length; e < d; e++) {
            var l = b[e]
              , q = this.b.C[l[1]];
            q.ld || (q.ld = l);
            this.Af.push(l);
            -1 === this.Si.indexOf(q) && this.Si.push(q)
        }
        this.V = [];
        this.ua = [];
        this.Te = !0;
        this.Ua = [];
        e = 0;
        for (d = f[8].length; e < d; e++)
            this.V.push({
                id: f[8][e][0],
                name: f[8][e][1],
                ob: -1,
                td: !1,
                Sa: !0,
                index: e
            }),
            this.Ua.push(f[8][e][2].slice(0));
        this.Td();
        this.Bp = new wa(0,0,1,1);
        this.Cp = new wa(0,0,1,1);
        this.Jf = {}
    }
    function m(a, f) {
        return a.Vd - f.Vd
    }
    function p(a, f) {
        this.ab = a;
        this.b = a.b;
        this.e = [];
        this.scale = 1;
        this.k = 0;
        this.ye = !1;
        this.Ze = new wa(0,0,0,0);
        this.ku = new xa;
        this.Da = this.ra = this.Ea = this.qa = 0;
        this.Sg = !1;
        this.df = -1;
        this.Kn = 0;
        this.name = f[0];
        this.index = f[1];
        this.fa = f[2];
        this.visible = f[3];
        this.Ed = f[4];
        this.Sd = f[5];
        this.rd = f[6];
        this.sd = f[7];
        this.opacity = f[8];
        this.ql = f[9];
        this.fd = f[10];
        this.Wd = f[11];
        this.cc = f[12];
        this.zx = f[13];
        this.Ai = "source-over";
        this.fc = this.hc = 0;
        this.Xb = null;
        this.He = r();
        this.Pd = !0;
        this.Eh = new wa(0,0,-1,-1);
        this.Ob = new wa(0,0,-1,-1);
        this.fd && (this.Xb = new fb(this.b.lb,this.b.kb));
        this.ne = !1;
        var b = f[14], e, d;
        this.$t = [];
        this.$c = [];
        this.Ci = [];
        e = 0;
        for (d = b.length; e < d; e++) {
            var l = b[e]
              , q = this.b.C[l[1]];
            q.ld || (q.ld = l,
            q.Uw = this.index);
            this.$c.push(l);
            -1 === this.ab.Si.indexOf(q) && this.ab.Si.push(q)
        }
        Ca(this.$t, this.$c);
        this.V = [];
        this.ua = [];
        this.Te = !0;
        this.Ua = [];
        e = 0;
        for (d = f[15].length; e < d; e++)
            this.V.push({
                id: f[15][e][0],
                name: f[15][e][1],
                ob: -1,
                td: !1,
                Sa: !0,
                index: e
            }),
            this.Ua.push(f[15][e][2].slice(0));
        this.Td();
        this.Bp = new wa(0,0,1,1);
        this.Cp = new wa(0,0,1,1)
    }
    function r() {
        return a.length ? a.pop() : []
    }
    function n(c) {
        U(c);
        a.push(c)
    }
    d.prototype.oA = function(a) {
        var f = a.type.fa.toString();
        this.Jf.hasOwnProperty(f) || (this.Jf[f] = []);
        this.Jf[f].push(this.b.Kp(a))
    }
    ;
    d.prototype.Ur = function() {
        var a = this.W[0];
        return !a.Sd && 1 === a.opacity && !a.ql && a.visible
    }
    ;
    d.prototype.Td = function() {
        U(this.ua);
        this.Te = !0;
        var a, f, b;
        a = 0;
        for (f = this.V.length; a < f; a++)
            b = this.V[a],
            b.Sa && (this.ua.push(b),
            b.td || (this.Te = !1))
    }
    ;
    d.prototype.jo = function(a) {
        var b, g, e;
        b = 0;
        for (g = this.V.length; b < g; b++)
            if (e = this.V[b],
            e.name === a)
                return e;
        return null
    }
    ;
    var t = []
      , l = !0;
    d.prototype.Wp = function() {
        this.Ut && (this.fg = this.b.Xn[this.Ut],
        this.fg.jq());
        this.b.na = this;
        this.width = this.Lz;
        this.height = this.Kz;
        this.scrollX = this.b.lb / 2;
        this.scrollY = this.b.kb / 2;
        var a, b, g, e, d, n, q;
        a = 0;
        for (g = this.b.C.length; a < g; a++)
            if (b = this.b.C[a],
            !b.I)
                for (d = b.e,
                b = 0,
                e = d.length; b < e; b++)
                    if (n = d[b],
                    n.n) {
                        var k = n.n.Xs;
                        k >= this.W.length && (k = this.W.length - 1);
                        n.n = this.W[k];
                        -1 === n.n.e.indexOf(n) && n.n.e.push(n);
                        n.n.Sg = !0
                    }
        if (!l)
            for (a = 0,
            g = this.W.length; a < g; ++a)
                this.W[a].e.sort(m);
        U(t);
        this.Iw();
        a = 0;
        for (g = this.W.length; a < g; a++)
            n = this.W[a],
            n.Sw(),
            n.dn();
        d = !1;
        if (!this.jh) {
            for (q in this.Jf)
                if (this.Jf.hasOwnProperty(q) && (b = this.b.xl(parseInt(q, 10))) && !b.I && this.b.iq(b)) {
                    e = this.Jf[q];
                    a = 0;
                    for (g = e.length; a < g; a++) {
                        n = null;
                        if (b.Fa.Bf && (n = this.wl(e[a].w.l),
                        !n))
                            continue;
                        n = this.b.vf(b.ld, n, !1, 0, 0, !0);
                        this.b.Ul(n, e[a]);
                        d = !0;
                        t.push(n)
                    }
                    U(e)
                }
            a = 0;
            for (g = this.W.length; a < g; a++)
                this.W[a].e.sort(m),
                this.W[a].Sg = !0
        }
        d && (this.b.ac(),
        this.b.Ct());
        for (a = 0; a < t.length; a++)
            if (n = t[a],
            n.type.lc)
                for (g = n.Mi(),
                b = 0,
                e = n.type.Mc.length; b < e; b++)
                    q = n.type.Mc[b],
                    n.type !== q && (q.e.length > g ? n.siblings.push(q.e[g]) : q.ld && (d = this.b.vf(q.ld, n.n, !0, n.x, n.y, !0),
                    this.b.ac(),
                    q.bn(),
                    n.siblings.push(d),
                    t.push(d)));
        a = 0;
        for (g = this.Af.length; a < g; a++)
            n = this.Af[a],
            b = this.b.C[n[1]],
            b.lc || this.b.vf(this.Af[a], null, !0);
        this.b.Hd = null;
        this.b.ac();
        if (this.b.Qa && !this.b.hb)
            for (a = 0,
            g = this.b.C.length; a < g; a++)
                q = this.b.C[a],
                !q.I && q.e.length && q.Ij && q.Ij(this.b.Qa);
        if (this.b.Vi)
            Ca(this.b.jl, t);
        else
            for (a = 0,
            g = t.length; a < g; a++)
                n = t[a],
                this.b.trigger(Object.getPrototypeOf(n.type.Fa).j.oi, n);
        U(t);
        this.b.Vi || this.b.trigger(W.prototype.j.Jq, null);
        this.jh = !1
    }
    ;
    d.prototype.Rw = function() {
        var a, b, g, e, d;
        b = a = 0;
        for (g = this.Af.length; a < g; a++)
            e = this.Af[a],
            d = this.b.C[e[1]],
            d.global ? d.lc || this.b.vf(e, null, !0) : (this.Af[b] = e,
            b++);
        Aa(this.Af, b)
    }
    ;
    d.prototype.zA = function() {
        this.b.Vi || this.b.trigger(W.prototype.j.zv, null);
        this.b.Jo = !0;
        U(this.b.qe.Jc);
        var a, b, g, e, d, n;
        if (!this.jh)
            for (a = 0,
            b = this.W.length; a < b; a++)
                for (this.W[a].mq(),
                d = this.W[a].e,
                g = 0,
                e = d.length; g < e; g++)
                    n = d[g],
                    n.type.global || this.b.iq(n.type) && this.oA(n);
        a = 0;
        for (b = this.W.length; a < b; a++) {
            d = this.W[a].e;
            g = 0;
            for (e = d.length; g < e; g++)
                n = d[g],
                n.type.global || this.b.Xd(n);
            this.b.ac();
            U(d);
            this.W[a].Sg = !0
        }
        a = 0;
        for (b = this.b.C.length; a < b; a++)
            if (d = this.b.C[a],
            !(d.global || d.Fa.Bf || d.Fa.Om || d.I)) {
                g = 0;
                for (e = d.e.length; g < e; g++)
                    this.b.Xd(d.e[g]);
                this.b.ac()
            }
        l = !1;
        this.b.Jo = !1
    }
    ;
    new wa(0,0,0,0);
    d.prototype.nd = function(a) {
        var b, g = a, e = !1, d = !this.b.Xc;
        d && (this.b.Sl || (this.b.Sl = document.createElement("canvas"),
        b = this.b.Sl,
        b.width = this.b.N,
        b.height = this.b.M,
        this.b.ws = b.getContext("2d"),
        e = !0),
        b = this.b.Sl,
        g = this.b.ws,
        b.width !== this.b.N && (b.width = this.b.N,
        e = !0),
        b.height !== this.b.M && (b.height = this.b.M,
        e = !0),
        e && this.b.Gm(g, this.b.Na));
        g.globalAlpha = 1;
        g.globalCompositeOperation = "source-over";
        this.b.kr && !this.Ur() && g.clearRect(0, 0, this.b.N, this.b.M);
        var l, q, e = 0;
        for (l = this.W.length; e < l; e++)
            q = this.W[e],
            q.visible && 0 < q.opacity && 11 !== q.cc && (q.e.length || !q.Sd) ? q.nd(g) : q.dn();
        d && a.drawImage(b, 0, 0, this.b.width, this.b.height)
    }
    ;
    d.prototype.ag = function(a) {
        a.Kt(!0);
        this.b.jb || (this.b.jb = a.Wc(this.b.N, this.b.M, this.b.Na));
        if (this.b.jb.Vf !== this.b.N || this.b.jb.Uf !== this.b.M)
            a.deleteTexture(this.b.jb),
            this.b.jb = a.Wc(this.b.N, this.b.M, this.b.Na);
        a.vd(this.b.jb);
        this.b.Xc || a.Kg(this.b.N, this.b.M);
        var b, g;
        for (b = this.W.length - 1; 0 <= b; --b)
            g = this.W[b],
            g.visible && 1 === g.opacity && g.Te && 0 === g.cc && (g.e.length || !g.Sd) ? g.ag(a) : g.dn();
        a.Kt(!1)
    }
    ;
    d.prototype.gc = function(a) {
        var b = 0 < this.ua.length || this.b.fi || !this.b.Xc || this.b.Ja;
        if (b) {
            this.b.jb || (this.b.jb = a.Wc(this.b.N, this.b.M, this.b.Na));
            if (this.b.jb.Vf !== this.b.N || this.b.jb.Uf !== this.b.M)
                a.deleteTexture(this.b.jb),
                this.b.jb = a.Wc(this.b.N, this.b.M, this.b.Na);
            a.vd(this.b.jb);
            this.b.Xc || a.Kg(this.b.N, this.b.M)
        } else
            this.b.jb && (a.vd(null),
            a.deleteTexture(this.b.jb),
            this.b.jb = null);
        this.b.kr && !this.Ur() && a.clear(0, 0, 0, 0);
        var g, e, d;
        g = 0;
        for (e = this.W.length; g < e; g++)
            d = this.W[g],
            d.visible && 0 < d.opacity && (d.e.length || !d.Sd) ? d.gc(a) : d.dn();
        b && (0 === this.ua.length || 1 === this.ua.length && this.b.Xc ? (1 === this.ua.length ? (b = this.ua[0].index,
        a.Hc(this.ua[0].ob),
        a.Xh(null, 1 / this.b.N, 1 / this.b.M, 0, 0, 1, 1, this.scale, this.k, 0, 0, this.b.N / 2, this.b.M / 2, this.b.ib.R, this.Ua[b]),
        a.wm(this.ua[0].ob) && (this.b.ba = !0)) : a.Hc(0),
        this.b.Xc || a.Kg(this.b.width, this.b.height),
        a.vd(null),
        a.It(!1),
        a.Nf(1),
        a.Gc(this.b.jb),
        a.Gt(),
        a.oe(),
        a.Ud(),
        b = this.b.width / 2,
        g = this.b.height / 2,
        a.Uh(-b, g, b, g, b, -g, -b, -g),
        a.Gc(null),
        a.It(!0)) : this.Dp(a, null, null, null))
    }
    ;
    d.prototype.Li = function() {
        return 0 < this.ua.length || this.b.fi || !this.b.Xc || this.b.Ja ? this.b.jb : null
    }
    ;
    d.prototype.Pr = function() {
        var a = this.W[0].Zc(), b, g, e;
        b = 1;
        for (g = this.W.length; b < g; b++)
            e = this.W[b],
            (0 !== e.rd || 0 !== e.sd) && e.Zc() < a && (a = e.Zc());
        return a
    }
    ;
    d.prototype.Mp = function(a) {
        if (!this.pu) {
            var b = 1 / this.Pr() * this.b.N / 2;
            a > this.width - b && (a = this.width - b);
            a < b && (a = b)
        }
        this.scrollX !== a && (this.scrollX = a,
        this.b.ba = !0)
    }
    ;
    d.prototype.Np = function(a) {
        if (!this.pu) {
            var b = 1 / this.Pr() * this.b.M / 2;
            a > this.height - b && (a = this.height - b);
            a < b && (a = b)
        }
        this.scrollY !== a && (this.scrollY = a,
        this.b.ba = !0)
    }
    ;
    d.prototype.Iw = function() {
        this.Mp(this.scrollX);
        this.Np(this.scrollY)
    }
    ;
    d.prototype.Dp = function(a, b, g, e) {
        var d = g ? g.ua : b ? b.ua : this.ua
          , l = 1
          , q = 0
          , k = 0
          , u = 0
          , n = this.b.N
          , A = this.b.M;
        g ? (l = g.n.Zc(),
        q = g.n.Qb(),
        k = g.n.qa,
        u = g.n.ra,
        n = g.n.Ea,
        A = g.n.Da) : b && (l = b.Zc(),
        q = b.Qb(),
        k = b.qa,
        u = b.ra,
        n = b.Ea,
        A = b.Da);
        var v = this.b.co, t, m, r, p, G = 0, C = 1, O, Q, N = this.b.N, F = this.b.M, R = N / 2, H = F / 2, E = b ? b.Bp : this.Bp, z = b ? b.Cp : this.Cp, w = 0, K = 0, D = 0, L = 0, S = N, ba = N, J = F, Z = F, aa = r = 0;
        p = g ? g.n.Qb() : 0;
        if (g) {
            t = 0;
            for (m = d.length; t < m; t++)
                r += a.Cy(d[t].ob),
                aa += a.Dy(d[t].ob);
            L = g.Ia;
            w = b.mc(L.left, L.top, !0, !0);
            D = b.mc(L.left, L.top, !1, !0);
            S = b.mc(L.right, L.bottom, !0, !0);
            J = b.mc(L.right, L.bottom, !1, !0);
            0 !== p && (t = b.mc(L.right, L.top, !0, !0),
            m = b.mc(L.right, L.top, !1, !0),
            K = b.mc(L.left, L.bottom, !0, !0),
            L = b.mc(L.left, L.bottom, !1, !0),
            p = Math.min(w, S, t, K),
            S = Math.max(w, S, t, K),
            w = p,
            p = Math.min(D, J, m, L),
            J = Math.max(D, J, m, L),
            D = p);
            w -= r;
            D -= aa;
            S += r;
            J += aa;
            z.left = w / N;
            z.top = 1 - D / F;
            z.right = S / N;
            z.bottom = 1 - J / F;
            K = w = B(w);
            L = D = B(D);
            ba = S = ta(S);
            Z = J = ta(J);
            K -= r;
            L -= aa;
            ba += r;
            Z += aa;
            0 > w && (w = 0);
            0 > D && (D = 0);
            S > N && (S = N);
            J > F && (J = F);
            0 > K && (K = 0);
            0 > L && (L = 0);
            ba > N && (ba = N);
            Z > F && (Z = F);
            E.left = w / N;
            E.top = 1 - D / F;
            E.right = S / N;
            E.bottom = 1 - J / F
        } else
            E.left = z.left = 0,
            E.top = z.top = 0,
            E.right = z.right = 1,
            E.bottom = z.bottom = 1;
        aa = g && (a.Jj(d[0].ob) || 0 !== r || 0 !== aa || 1 !== g.opacity || g.type.Fa.Ts) || b && !g && 1 !== b.opacity;
        a.Gt();
        if (aa) {
            v[G] || (v[G] = a.Wc(N, F, this.b.Na));
            if (v[G].Vf !== N || v[G].Uf !== F)
                a.deleteTexture(v[G]),
                v[G] = a.Wc(N, F, this.b.Na);
            a.Hc(0);
            a.vd(v[G]);
            Q = Z - L;
            a.clearRect(K, F - L - Q, ba - K, Q);
            g ? g.gc(a) : (a.Gc(this.b.xb),
            a.Nf(b.opacity),
            a.oe(),
            a.translate(-R, -H),
            a.Ud(),
            a.Re(w, J, S, J, S, D, w, D, E));
            z.left = z.top = 0;
            z.right = z.bottom = 1;
            g && (p = E.top,
            E.top = E.bottom,
            E.bottom = p);
            G = 1;
            C = 0
        }
        a.Nf(1);
        r = d.length - 1;
        var la = a.yp(d[r].ob) || !b && !g && !this.b.Xc;
        t = p = 0;
        for (m = d.length; t < m; t++) {
            v[G] || (v[G] = a.Wc(N, F, this.b.Na));
            if (v[G].Vf !== N || v[G].Uf !== F)
                a.deleteTexture(v[G]),
                v[G] = a.Wc(N, F, this.b.Na);
            a.Hc(d[t].ob);
            p = d[t].index;
            a.wm(d[t].ob) && (this.b.ba = !0);
            0 != t || aa ? (a.Xh(e, 1 / N, 1 / F, z.left, z.top, z.right, z.bottom, l, q, k, u, (k + n) / 2, (u + A) / 2, this.b.ib.R, g ? g.Ua[p] : b ? b.Ua[p] : this.Ua[p]),
            a.Gc(null),
            t !== r || la ? (a.vd(v[G]),
            Q = Z - L,
            O = F - L - Q,
            a.clearRect(K, O, ba - K, Q)) : (g ? a.Mf(g.hc, g.fc) : b && a.Mf(b.hc, b.fc),
            a.vd(e)),
            a.Gc(v[C]),
            a.oe(),
            a.translate(-R, -H),
            a.Ud(),
            a.Re(w, J, S, J, S, D, w, D, E),
            t !== r || la || a.Gc(null)) : (a.vd(v[G]),
            Q = Z - L,
            O = F - L - Q,
            a.clearRect(K, O, ba - K, Q),
            g ? (g.Nb && g.Nb.O ? (O = g.Nb.O,
            C = 1 / O.width,
            O = 1 / O.height) : (C = 1 / g.width,
            O = 1 / g.height),
            a.Xh(e, C, O, z.left, z.top, z.right, z.bottom, l, q, k, u, (k + n) / 2, (u + A) / 2, this.b.ib.R, g.Ua[p]),
            g.gc(a)) : (a.Xh(e, 1 / N, 1 / F, 0, 0, 1, 1, l, q, k, u, (k + n) / 2, (u + A) / 2, this.b.ib.R, b ? b.Ua[p] : this.Ua[p]),
            a.Gc(b ? this.b.xb : this.b.jb),
            a.oe(),
            a.translate(-R, -H),
            a.Ud(),
            a.Re(w, J, S, J, S, D, w, D, E)),
            z.left = z.top = 0,
            z.right = z.bottom = 1,
            g && !la && (p = J,
            J = D,
            D = p));
            G = 0 === G ? 1 : 0;
            C = 0 === G ? 1 : 0
        }
        la && (a.Hc(0),
        g ? a.Mf(g.hc, g.fc) : b ? a.Mf(b.hc, b.fc) : this.b.Xc || (a.Kg(this.b.width, this.b.height),
        R = this.b.width / 2,
        H = this.b.height / 2,
        D = w = 0,
        S = this.b.width,
        J = this.b.height),
        a.vd(e),
        a.Gc(v[C]),
        a.oe(),
        a.translate(-R, -H),
        a.Ud(),
        g && 1 === d.length && !aa ? a.Re(w, D, S, D, S, J, w, J, E) : a.Re(w, J, S, J, S, D, w, D, E),
        a.Gc(null))
    }
    ;
    d.prototype.wl = function(a) {
        var b, g;
        b = 0;
        for (g = this.W.length; b < g; b++)
            if (this.W[b].fa === a)
                return this.W[b];
        return null
    }
    ;
    d.prototype.cb = function() {
        var a, b, g, e = {
            sx: this.scrollX,
            sy: this.scrollY,
            s: this.scale,
            a: this.k,
            w: this.width,
            h: this.height,
            fv: this.jh,
            persist: this.Jf,
            fx: [],
            layers: {}
        };
        a = 0;
        for (b = this.V.length; a < b; a++)
            g = this.V[a],
            e.fx.push({
                name: g.name,
                active: g.Sa,
                params: this.Ua[g.index]
            });
        a = 0;
        for (b = this.W.length; a < b; a++)
            g = this.W[a],
            e.layers[g.fa.toString()] = g.cb();
        return e
    }
    ;
    d.prototype.yb = function(a) {
        var b, g, e, d;
        this.scrollX = a.sx;
        this.scrollY = a.sy;
        this.scale = a.s;
        this.k = a.a;
        this.width = a.w;
        this.height = a.h;
        this.Jf = a.persist;
        "undefined" !== typeof a.fv && (this.jh = a.fv);
        var l = a.fx;
        b = 0;
        for (g = l.length; b < g; b++)
            if (e = this.jo(l[b].name))
                e.Sa = l[b].active,
                this.Ua[e.index] = l[b].params;
        this.Td();
        b = a.layers;
        for (d in b)
            b.hasOwnProperty(d) && (a = this.wl(parseInt(d, 10))) && a.yb(b[d])
    }
    ;
    Fb = d;
    p.prototype.Td = function() {
        U(this.ua);
        this.Te = !0;
        var a, b, g;
        a = 0;
        for (b = this.V.length; a < b; a++)
            g = this.V[a],
            g.Sa && (this.ua.push(g),
            g.td || (this.Te = !1))
    }
    ;
    p.prototype.jo = function(a) {
        var b, g, e;
        b = 0;
        for (g = this.V.length; b < g; b++)
            if (e = this.V[b],
            e.name === a)
                return e;
        return null
    }
    ;
    p.prototype.Sw = function() {
        var a, b, g, e, d, l;
        b = a = 0;
        for (g = this.$c.length; a < g; a++) {
            e = this.$c[a];
            d = this.b.C[e[1]];
            l = this.b.iq(d);
            d = !0;
            if (!l || this.ab.jh) {
                e = this.b.vf(e, this, !0);
                if (!e)
                    continue;
                t.push(e);
                e.type.global && (d = !1,
                this.Ci.push(e.uid))
            }
            d && (this.$c[b] = this.$c[a],
            b++)
        }
        this.$c.length = b;
        this.b.ac();
        !this.b.B && this.V.length && (this.cc = this.zx);
        this.Ai = gb(this.cc);
        this.b.D && hb(this, this.cc, this.b.D);
        this.Pd = !0
    }
    ;
    p.prototype.Vh = function(a, b) {
        var e = Ea(this.e, a);
        0 > e || (b && this.fd && a.Ec && a.Ec.right >= a.Ec.left && (a.Ha(),
        this.Xb.update(a, a.Ec, null),
        a.Ec.set(0, 0, -1, -1)),
        e === this.e.length - 1 ? this.e.pop() : (za(this.e, e),
        this.Tj(e)),
        this.Pd = !0)
    }
    ;
    p.prototype.ti = function(a, b) {
        a.Vd = this.e.length;
        this.e.push(a);
        b && this.fd && a.Ec && a.F();
        this.Pd = !0
    }
    ;
    p.prototype.Vz = function(a) {
        this.e.unshift(a);
        this.Tj(0)
    }
    ;
    p.prototype.zz = function(a, b, e) {
        var h = a.he();
        b = b.he();
        za(this.e, h);
        h < b && b--;
        e && b++;
        b === this.e.length ? this.e.push(a) : this.e.splice(b, 0, a);
        this.Tj(h < b ? h : b)
    }
    ;
    p.prototype.Tj = function(a) {
        -1 === this.df ? this.df = a : a < this.df && (this.df = a);
        this.Pd = this.Sg = !0
    }
    ;
    p.prototype.mq = function() {
        if (this.Sg) {
            -1 === this.df && (this.df = 0);
            var a, b, e;
            if (this.fd)
                for (a = this.df,
                b = this.e.length; a < b; ++a)
                    e = this.e[a],
                    e.Vd = a,
                    this.Xb.vz(e.Ec);
            else
                for (a = this.df,
                b = this.e.length; a < b; ++a)
                    this.e[a].Vd = a;
            this.Sg = !1;
            this.df = -1
        }
    }
    ;
    p.prototype.Zc = function(a) {
        return this.zy() * (this.b.Xc || a ? this.b.vi : 1)
    }
    ;
    p.prototype.zy = function() {
        return (this.scale * this.ab.scale - 1) * this.Wd + 1
    }
    ;
    p.prototype.Qb = function() {
        return this.ye ? 0 : Ka(this.ab.k + this.k)
    }
    ;
    var a = []
      , b = []
      , e = [];
    p.prototype.po = function() {
        this.mq();
        this.Xb.ym(this.qa, this.ra, this.Ea, this.Da, e);
        if (!e.length)
            return r();
        if (1 === e.length) {
            var a = r();
            Ca(a, e[0]);
            U(e);
            return a
        }
        for (var f = !0; 1 < e.length; ) {
            for (var a = e, g = void 0, h = void 0, d = void 0, l = void 0, q = void 0, g = 0, h = a.length; g < h - 1; g += 2) {
                var d = a[g]
                  , l = a[g + 1]
                  , q = r()
                  , k = d
                  , u = l
                  , t = q
                  , A = 0
                  , v = 0
                  , m = 0
                  , p = k.length
                  , M = u.length
                  , x = void 0
                  , G = void 0;
                for (t.length = p + M; A < p && v < M; ++m)
                    x = k[A],
                    G = u[v],
                    x.Vd < G.Vd ? (t[m] = x,
                    ++A) : (t[m] = G,
                    ++v);
                for (; A < p; ++A,
                ++m)
                    t[m] = k[A];
                for (; v < M; ++v,
                ++m)
                    t[m] = u[v];
                f || (n(d),
                n(l));
                b.push(q)
            }
            1 === h % 2 && (f ? (d = r(),
            Ca(d, a[h - 1]),
            b.push(d)) : b.push(a[h - 1]));
            Ca(a, b);
            U(b);
            f = !1
        }
        a = e[0];
        U(e);
        return a
    }
    ;
    p.prototype.nd = function(a) {
        this.ne = this.ql || 1 !== this.opacity || 0 !== this.cc;
        var b = this.b.canvas
          , e = a
          , h = !1;
        this.ne && (this.b.Rl || (this.b.Rl = document.createElement("canvas"),
        b = this.b.Rl,
        b.width = this.b.N,
        b.height = this.b.M,
        this.b.vs = b.getContext("2d"),
        h = !0),
        b = this.b.Rl,
        e = this.b.vs,
        b.width !== this.b.N && (b.width = this.b.N,
        h = !0),
        b.height !== this.b.M && (b.height = this.b.M,
        h = !0),
        h && this.b.Gm(e, this.b.Na),
        this.Sd && e.clearRect(0, 0, this.b.N, this.b.M));
        e.globalAlpha = 1;
        e.globalCompositeOperation = "source-over";
        this.Sd || (e.fillStyle = "rgb(" + this.Ed[0] + "," + this.Ed[1] + "," + this.Ed[2] + ")",
        e.fillRect(0, 0, this.b.N, this.b.M));
        e.save();
        this.ye = !0;
        var h = this.ic(0, 0, !0, !0)
          , d = this.ic(0, 0, !1, !0);
        this.ye = !1;
        this.b.dd && (h = Math.round(h),
        d = Math.round(d));
        this.Bm(h, d, e);
        var l = this.Zc();
        e.scale(l, l);
        e.translate(-h, -d);
        this.fd ? (this.Ob.left = this.Xb.wc(this.qa),
        this.Ob.top = this.Xb.xc(this.ra),
        this.Ob.right = this.Xb.wc(this.Ea),
        this.Ob.bottom = this.Xb.xc(this.Da),
        this.Pd || !this.Ob.Fi(this.Eh) ? (n(this.He),
        h = this.po(),
        this.Pd = !1,
        this.Eh.$g(this.Ob)) : h = this.He) : h = this.e;
        for (var q, k = null, d = 0, l = h.length; d < l; ++d)
            q = h[d],
            q !== k && (this.ux(q, e),
            k = q);
        this.fd && (this.He = h);
        e.restore();
        this.ne && (a.globalCompositeOperation = this.Ai,
        a.globalAlpha = this.opacity,
        a.drawImage(b, 0, 0))
    }
    ;
    p.prototype.ux = function(a, b) {
        if (a.visible && 0 !== a.width && 0 !== a.height) {
            a.Ha();
            var e = a.Ia;
            e.right < this.qa || e.bottom < this.ra || e.left > this.Ea || e.top > this.Da || (b.globalCompositeOperation = a.Ai,
            a.nd(b))
        }
    }
    ;
    p.prototype.dn = function() {
        this.ye = !0;
        var a = this.ic(0, 0, !0, !0)
          , b = this.ic(0, 0, !1, !0);
        this.ye = !1;
        this.b.dd && (a = Math.round(a),
        b = Math.round(b));
        this.Bm(a, b, null)
    }
    ;
    p.prototype.Bm = function(a, b, e) {
        var h = this.Zc();
        this.qa = a;
        this.ra = b;
        this.Ea = a + 1 / h * this.b.N;
        this.Da = b + 1 / h * this.b.M;
        this.qa > this.Ea && (a = this.qa,
        this.qa = this.Ea,
        this.Ea = a);
        this.ra > this.Da && (a = this.ra,
        this.ra = this.Da,
        this.Da = a);
        a = this.Qb();
        0 !== a && (e && (e.translate(this.b.N / 2, this.b.M / 2),
        e.rotate(-a),
        e.translate(this.b.N / -2, this.b.M / -2)),
        this.Ze.set(this.qa, this.ra, this.Ea, this.Da),
        this.Ze.offset((this.qa + this.Ea) / -2, (this.ra + this.Da) / -2),
        this.ku.St(this.Ze, a),
        this.ku.dr(this.Ze),
        this.Ze.offset((this.qa + this.Ea) / 2, (this.ra + this.Da) / 2),
        this.qa = this.Ze.left,
        this.ra = this.Ze.top,
        this.Ea = this.Ze.right,
        this.Da = this.Ze.bottom)
    }
    ;
    p.prototype.ag = function(a) {
        if (this.ne = this.ql) {
            this.b.xb || (this.b.xb = a.Wc(this.b.N, this.b.M, this.b.Na));
            if (this.b.xb.Vf !== this.b.N || this.b.xb.Uf !== this.b.M)
                a.deleteTexture(this.b.xb),
                this.b.xb = a.Wc(this.b.N, this.b.M, this.b.Na);
            a.vd(this.b.xb)
        }
        this.ye = !0;
        var b = this.ic(0, 0, !0, !0)
          , e = this.ic(0, 0, !1, !0);
        this.ye = !1;
        this.b.dd && (b = Math.round(b),
        e = Math.round(e));
        this.Bm(b, e, null);
        b = this.Zc();
        a.oe();
        a.scale(b, b);
        a.Hp(-this.Qb());
        a.translate((this.qa + this.Ea) / -2, (this.ra + this.Da) / -2);
        a.Ud();
        this.fd ? (this.Ob.left = this.Xb.wc(this.qa),
        this.Ob.top = this.Xb.xc(this.ra),
        this.Ob.right = this.Xb.wc(this.Ea),
        this.Ob.bottom = this.Xb.xc(this.Da),
        this.Pd || !this.Ob.Fi(this.Eh) ? (n(this.He),
        b = this.po(),
        this.Pd = !1,
        this.Eh.$g(this.Ob)) : b = this.He) : b = this.e;
        for (var h, d = null, e = b.length - 1; 0 <= e; --e)
            h = b[e],
            h !== d && (this.wx(b[e], a),
            d = h);
        this.fd && (this.He = b);
        this.Sd || (this.Kn = this.b.eg++,
        a.Hm(this.Kn),
        a.Ht(1, 1, 1),
        a.Gr(),
        a.gA())
    }
    ;
    p.prototype.gc = function(a) {
        var b = 0
          , e = 0;
        if (this.ne = this.ql || 1 !== this.opacity || 0 < this.ua.length || 0 !== this.cc) {
            this.b.xb || (this.b.xb = a.Wc(this.b.N, this.b.M, this.b.Na));
            if (this.b.xb.Vf !== this.b.N || this.b.xb.Uf !== this.b.M)
                a.deleteTexture(this.b.xb),
                this.b.xb = a.Wc(this.b.N, this.b.M, this.b.Na);
            a.vd(this.b.xb);
            this.Sd && a.clear(0, 0, 0, 0)
        }
        this.Sd || (this.b.Ja ? (a.Hm(this.Kn),
        a.Ht(this.Ed[0] / 255, this.Ed[1] / 255, this.Ed[2] / 255),
        a.Gr(),
        a.uA()) : a.clear(this.Ed[0] / 255, this.Ed[1] / 255, this.Ed[2] / 255, 1));
        this.ye = !0;
        var h = this.ic(0, 0, !0, !0)
          , b = this.ic(0, 0, !1, !0);
        this.ye = !1;
        this.b.dd && (h = Math.round(h),
        b = Math.round(b));
        this.Bm(h, b, null);
        h = this.Zc();
        a.oe();
        a.scale(h, h);
        a.Hp(-this.Qb());
        a.translate((this.qa + this.Ea) / -2, (this.ra + this.Da) / -2);
        a.Ud();
        this.fd ? (this.Ob.left = this.Xb.wc(this.qa),
        this.Ob.top = this.Xb.xc(this.ra),
        this.Ob.right = this.Xb.wc(this.Ea),
        this.Ob.bottom = this.Xb.xc(this.Da),
        this.Pd || !this.Ob.Fi(this.Eh) ? (n(this.He),
        b = this.po(),
        this.Pd = !1,
        this.Eh.$g(this.Ob)) : b = this.He) : b = this.e;
        var d, l, q = null, e = 0;
        for (d = b.length; e < d; ++e)
            l = b[e],
            l !== q && (this.vx(b[e], a),
            q = l);
        this.fd && (this.He = b);
        this.ne && (b = this.ua.length ? this.ua[0].ob : 0,
        e = this.ua.length ? this.ua[0].index : 0,
        0 === this.ua.length || 1 === this.ua.length && !a.yp(b) && 1 === this.opacity ? (1 === this.ua.length ? (a.Hc(b),
        a.Xh(this.ab.Li(), 1 / this.b.N, 1 / this.b.M, 0, 0, 1, 1, h, this.Qb(), this.qa, this.ra, (this.qa + this.Ea) / 2, (this.ra + this.Da) / 2, this.b.ib.R, this.Ua[e]),
        a.wm(b) && (this.b.ba = !0)) : a.Hc(0),
        a.vd(this.ab.Li()),
        a.Nf(this.opacity),
        a.Gc(this.b.xb),
        a.Mf(this.hc, this.fc),
        a.oe(),
        a.Ud(),
        h = this.b.N / 2,
        b = this.b.M / 2,
        a.Uh(-h, b, h, b, h, -b, -h, -b),
        a.Gc(null)) : this.ab.Dp(a, this, null, this.ab.Li()))
    }
    ;
    p.prototype.vx = function(a, b) {
        if (a.visible && 0 !== a.width && 0 !== a.height) {
            a.Ha();
            var e = a.Ia;
            e.right < this.qa || e.bottom < this.ra || e.left > this.Ea || e.top > this.Da || (b.Hm(a.eg),
            a.wu ? this.xx(a, b) : (b.Hc(0),
            b.Mf(a.hc, a.fc),
            a.gc(b)))
        }
    }
    ;
    p.prototype.wx = function(a, b) {
        if (a.visible && 0 !== a.width && 0 !== a.height) {
            a.Ha();
            var e = a.Ia;
            e.right < this.qa || e.bottom < this.ra || e.left > this.Ea || e.top > this.Da || (a.eg = this.b.eg++,
            0 === a.cc && 1 === a.opacity && a.Te && a.ag && (b.Hm(a.eg),
            a.ag(b)))
        }
    }
    ;
    p.prototype.xx = function(a, b) {
        var e = a.ua[0].ob
          , h = a.ua[0].index
          , d = this.Zc();
        if (1 !== a.ua.length || b.yp(e) || b.Xz(e) || (a.k || a.n.Qb()) && b.Jj(e) || 1 !== a.opacity || a.type.Fa.Ts)
            this.ab.Dp(b, this, a, this.ne ? this.b.xb : this.ab.Li()),
            b.oe(),
            b.scale(d, d),
            b.Hp(-this.Qb()),
            b.translate((this.qa + this.Ea) / -2, (this.ra + this.Da) / -2),
            b.Ud();
        else {
            b.Hc(e);
            b.Mf(a.hc, a.fc);
            b.wm(e) && (this.b.ba = !0);
            var l = 0
              , q = 0
              , k = 0
              , u = 0;
            b.Jj(e) && (u = a.Ia,
            l = this.mc(u.left, u.top, !0, !0),
            q = this.mc(u.left, u.top, !1, !0),
            k = this.mc(u.right, u.bottom, !0, !0),
            u = this.mc(u.right, u.bottom, !1, !0),
            l = l / windowWidth,
            q = 1 - q / windowHeight,
            k = k / windowWidth,
            u = 1 - u / windowHeight);
            var n;
            a.Nb && a.Nb.O ? (n = a.Nb.O,
            e = 1 / n.width,
            n = 1 / n.height) : (e = 1 / a.width,
            n = 1 / a.height);
            b.Xh(this.ne ? this.b.xb : this.ab.Li(), e, n, l, q, k, u, d, this.Qb(), this.qa, this.ra, (this.qa + this.Ea) / 2, (this.ra + this.Da) / 2, this.b.ib.R, a.Ua[h]);
            a.gc(b)
        }
    }
    ;
    p.prototype.ic = function(a, b, e, h) {
        var d = this.b.devicePixelRatio;
        this.b.sg && (a *= d,
        b *= d);
        var d = this.b.nt
          , l = this.b.ot
          , d = (this.ab.scrollX - d) * this.rd + d
          , l = (this.ab.scrollY - l) * this.sd + l
          , q = d
          , k = l
          , u = 1 / this.Zc(!h);
        h ? (q -= this.b.N * u / 2,
        k -= this.b.M * u / 2) : (q -= this.b.width * u / 2,
        k -= this.b.height * u / 2);
        q += a * u;
        k += b * u;
        b = this.Qb();
        0 !== b && (q -= d,
        k -= l,
        a = Math.cos(b),
        b = Math.sin(b),
        h = q * a - k * b,
        k = k * a + q * b,
        q = h + d,
        k += l);
        return e ? q : k
    }
    ;
    p.prototype.mc = function(a, b, e, h) {
        var d = this.b.nt
          , l = this.b.ot
          , q = (this.ab.scrollX - d) * this.rd + d
          , k = (this.ab.scrollY - l) * this.sd + l
          , l = q
          , d = k
          , u = this.Qb();
        if (0 !== u) {
            a -= q;
            b -= k;
            var n = Math.cos(-u)
              , u = Math.sin(-u)
              , A = a * n - b * u;
            b = b * n + a * u;
            a = A + q;
            b += k
        }
        q = 1 / this.Zc(!h);
        h ? (l -= this.b.N * q / 2,
        d -= this.b.M * q / 2) : (l -= this.b.width * q / 2,
        d -= this.b.height * q / 2);
        l = (a - l) / q;
        d = (b - d) / q;
        a = this.b.devicePixelRatio;
        this.b.sg && !h && (l /= a,
        d /= a);
        return e ? l : d
    }
    ;
    p.prototype.cb = function() {
        var a, b, e, h = {
            s: this.scale,
            a: this.k,
            vl: this.qa,
            vt: this.ra,
            vr: this.Ea,
            vb: this.Da,
            v: this.visible,
            bc: this.Ed,
            t: this.Sd,
            px: this.rd,
            py: this.sd,
            o: this.opacity,
            zr: this.Wd,
            fx: [],
            cg: this.Ci,
            instances: []
        };
        a = 0;
        for (b = this.V.length; a < b; a++)
            e = this.V[a],
            h.fx.push({
                name: e.name,
                active: e.Sa,
                params: this.Ua[e.index]
            });
        return h
    }
    ;
    p.prototype.yb = function(a) {
        var b, e, h;
        this.scale = a.s;
        this.k = a.a;
        this.qa = a.vl;
        this.ra = a.vt;
        this.Ea = a.vr;
        this.Da = a.vb;
        this.visible = a.v;
        this.Ed = a.bc;
        this.Sd = a.t;
        this.rd = a.px;
        this.sd = a.py;
        this.opacity = a.o;
        this.Wd = a.zr;
        this.Ci = a.cg || [];
        Ca(this.$c, this.$t);
        var d = new fa;
        b = 0;
        for (h = this.Ci.length; b < h; ++b)
            d.add(this.Ci[b]);
        e = b = 0;
        for (h = this.$c.length; b < h; ++b)
            d.contains(this.$c[b][2]) || (this.$c[e] = this.$c[b],
            ++e);
        Aa(this.$c, e);
        e = a.fx;
        b = 0;
        for (h = e.length; b < h; b++)
            if (a = this.jo(e[b].name))
                a.Sa = e[b].active,
                this.Ua[a.index] = e[b].params;
        this.Td();
        this.e.sort(m);
        this.Sg = !0
    }
    ;
    Xb = p
}
)();
(function() {
    function d(a, b) {
        var c, e = a.length;
        switch (e) {
        case 0:
            return !0;
        case 1:
            return a[0] === b[0];
        case 2:
            return a[0] === b[0] && a[1] === b[1];
        default:
            for (c = 0; c < e; c++)
                if (a[c] !== b[c])
                    return !1;
            return !0
        }
    }
    function m(a, b) {
        return a.index - b.index
    }
    function p(a) {
        var b, c, e, f;
        2 === a.length ? a[0].index > a[1].index && (b = a[0],
        a[0] = a[1],
        a[1] = b) : 2 < a.length && a.sort(m);
        a.length >= y.length && (y.length = a.length + 1);
        y[a.length] || (y[a.length] = []);
        f = y[a.length];
        b = 0;
        for (c = f.length; b < c; b++)
            if (e = f[b],
            d(a, e))
                return e;
        f.push(a);
        return a
    }
    function r(a, b) {
        this.b = a;
        this.nu = {};
        this.Br = {};
        this.yo = !1;
        this.Wr = new fa;
        this.Sn = [];
        this.Bn = [];
        this.name = b[0];
        var c = b[1];
        this.xf = [];
        var e, f;
        e = 0;
        for (f = c.length; e < f; e++)
            this.Yr(c[e], null, this.xf)
    }
    function n(a) {
        this.type = a;
        this.e = [];
        this.Y = [];
        this.ea = !0
    }
    function t(a, b, c) {
        this.sheet = a;
        this.parent = b;
        this.b = a.b;
        this.Ga = [];
        this.Of = [];
        this.Vr = this.Zm = this.cq = this.Fl = this.group = this.Up = !1;
        this.sb = [];
        this.gd = [];
        this.xd = [];
        this.Oi = "";
        this.Ni = this.Fl = this.group = !1;
        this.Qk = null;
        c[1] && (this.Oi = c[1][1].toLowerCase(),
        this.group = !0,
        this.Fl = !!c[1][0],
        this.Qk = [],
        this.Ni = this.Fl,
        this.b.kf.push(this),
        this.b.yl[this.Oi] = this);
        this.cd = c[2];
        this.fa = c[4];
        this.group || (this.b.cr[this.fa.toString()] = this);
        var e = c[5];
        a = 0;
        for (b = e.length; a < b; a++) {
            var f = new Yb(this,e[a]);
            f.index = a;
            this.sb.push(f);
            this.Wq(f.type)
        }
        e = c[6];
        a = 0;
        for (b = e.length; a < b; a++)
            f = new Zb(this,e[a]),
            f.index = a,
            this.gd.push(f);
        if (8 === c.length)
            for (c = c[7],
            a = 0,
            b = c.length; a < b; a++)
                this.sheet.Yr(c[a], this, this.xd);
        this.Nl = !1;
        this.sb.length && (this.Nl = null == this.sb[0].type && this.sb[0].Pb == W.prototype.j.uq)
    }
    function l(a, b) {
        var c, e, f;
        if (a && (-1 === b.indexOf(a) && b.push(a),
        a.lc))
            for (c = 0,
            e = a.Mc.length; c < e; c++)
                f = a.Mc[c],
                a !== f && -1 === b.indexOf(f) && b.push(f)
    }
    function a(a, b) {
        this.Uc = a;
        this.sheet = a.sheet;
        this.b = a.b;
        this.aa = [];
        this.Va = [];
        this.H = {};
        this.index = -1;
        this.ri = !1;
        this.Pb = this.b.ef(b[1]);
        this.trigger = 0 < b[3];
        this.Ar = 2 === b[3];
        this.ke = b[4];
        this.ph = b[5];
        this.nz = b[6];
        this.fa = b[7];
        this.b.uf[this.fa.toString()] = this;
        -1 === b[0] ? (this.type = null,
        this.nb = this.Jp,
        this.Tf = null,
        this.Gd = -1) : (this.type = this.b.C[b[0]],
        this.nb = this.nz ? this.mA : this.Ip,
        b[2] ? (this.Tf = this.type.ul(b[2]),
        this.Gd = this.type.eo(b[2])) : (this.Tf = null,
        this.Gd = -1),
        this.Uc.parent && this.Uc.parent.Im());
        this.Ar && (this.nb = this.nA);
        if (10 === b.length) {
            var c, e, f = b[9];
            c = 0;
            for (e = f.length; c < e; c++) {
                var g = new $b(this,f[c]);
                this.aa.push(g)
            }
            this.Va.length = f.length
        }
    }
    function b(a, b) {
        this.Uc = a;
        this.sheet = a.sheet;
        this.b = a.b;
        this.aa = [];
        this.Va = [];
        this.H = {};
        this.index = -1;
        this.ri = !1;
        this.Pb = this.b.ef(b[1]);
        -1 === b[0] ? (this.type = null,
        this.nb = this.Jp,
        this.Tf = null,
        this.Gd = -1) : (this.type = this.b.C[b[0]],
        this.nb = this.Ip,
        b[2] ? (this.Tf = this.type.ul(b[2]),
        this.Gd = this.type.eo(b[2])) : (this.Tf = null,
        this.Gd = -1));
        this.fa = b[3];
        this.b.hf[this.fa.toString()] = this;
        if (6 === b.length) {
            var c, e, f = b[5];
            c = 0;
            for (e = f.length; c < e; c++) {
                var g = new $b(this,f[c]);
                this.aa.push(g)
            }
            this.Va.length = f.length
        }
    }
    function e() {
        q++;
        I.length === q && I.push(new ac);
        return I[q]
    }
    function c(a, b) {
        this.Oa = a;
        this.Uc = a.Uc;
        this.sheet = a.sheet;
        this.b = a.b;
        this.type = b[0];
        this.fe = null;
        this.Ue = 0;
        this.get = null;
        this.lr = 0;
        this.ab = null;
        this.key = 0;
        this.object = null;
        this.index = 0;
        this.ik = this.Mg = this.ik = this.Mg = this.Er = this.gg = this.jk = null;
        this.zd = !1;
        var c, e, f;
        switch (b[0]) {
        case 0:
        case 7:
            this.fe = new bc(this,b[1]);
            this.Ue = 0;
            this.get = this.Ky;
            break;
        case 1:
            this.fe = new bc(this,b[1]);
            this.Ue = 0;
            this.get = this.Ly;
            break;
        case 5:
            this.fe = new bc(this,b[1]);
            this.Ue = 0;
            this.get = this.Py;
            break;
        case 3:
        case 8:
            this.lr = b[1];
            this.get = this.Iy;
            break;
        case 6:
            this.ab = this.b.Fh[b[1]];
            this.get = this.Qy;
            break;
        case 9:
            this.key = b[1];
            this.get = this.Oy;
            break;
        case 4:
            this.object = this.b.C[b[1]];
            this.get = this.Ry;
            this.Uc.Wq(this.object);
            this.Oa instanceof Zb ? this.Uc.Im() : this.Uc.parent && this.Uc.parent.Im();
            break;
        case 10:
            this.index = b[1];
            a.type && a.type.I ? (this.get = this.My,
            this.zd = !0) : this.get = this.Ny;
            break;
        case 11:
            this.jk = b[1];
            this.gg = null;
            this.get = this.Jy;
            break;
        case 2:
        case 12:
            this.Er = b[1];
            this.get = this.Hy;
            break;
        case 13:
            for (this.get = this.Sy,
            this.Mg = [],
            this.ik = [],
            c = 1,
            e = b.length; c < e; c++)
                f = new $b(this.Oa,b[c]),
                this.Mg.push(f),
                this.ik.push(0)
        }
    }
    function f(a, b, c) {
        this.sheet = a;
        this.parent = b;
        this.b = a.b;
        this.Ga = [];
        this.name = c[1];
        this.yu = c[2];
        this.Co = c[3];
        this.aj = !!c[4];
        this.Ml = !!c[5];
        this.fa = c[6];
        this.b.hi[this.fa.toString()] = this;
        this.data = this.Co;
        this.parent ? (this.Cg = this.aj || this.Ml ? -1 : this.b.xA++,
        this.b.Dw.push(this)) : (this.Cg = -1,
        this.b.Cw.push(this))
    }
    function g(a, b, c) {
        this.sheet = a;
        this.parent = b;
        this.b = a.b;
        this.Ga = [];
        this.Ri = null;
        this.Yy = c[1];
        this.Sa = !0
    }
    function h() {
        this.bu = [];
        this.reset(null)
    }
    var y = [];
    r.prototype.toString = function() {
        return this.name
    }
    ;
    r.prototype.Yr = function(a, b, c) {
        switch (a[0]) {
        case 0:
            a = new cc(this,b,a);
            if (a.cd)
                for (c.push(a),
                c = 0,
                b = a.sb.length; c < b; c++)
                    a.sb[c].trigger && this.Zr(a, c);
            else
                a.ls() ? this.Zr(a, 0) : c.push(a);
            break;
        case 1:
            a = new Ub(this,b,a);
            c.push(a);
            break;
        case 2:
            a = new dc(this,b,a),
            c.push(a)
        }
    }
    ;
    r.prototype.bb = function() {
        var a, b;
        a = 0;
        for (b = this.xf.length; a < b; a++)
            this.xf[a].bb(a < b - 1 && this.xf[a + 1].Nl)
    }
    ;
    r.prototype.jq = function() {
        U(this.Sn);
        U(this.Bn);
        this.Vq(this);
        U(this.Bn)
    }
    ;
    r.prototype.Vq = function(a) {
        var b, c, e, f, g = a.Sn, h = a.Bn, d = this.Wr.bf();
        b = 0;
        for (c = d.length; b < c; ++b)
            e = d[b],
            f = e.Ri,
            !e.Sa || a === f || -1 < h.indexOf(f) || (h.push(f),
            f.Vq(a),
            g.push(f))
    }
    ;
    r.prototype.nb = function(a) {
        this.b.RB || (this.yo = !0,
        a || (this.b.Mo = !0));
        var b, c;
        b = 0;
        for (c = this.xf.length; b < c; b++) {
            var e = this.xf[b];
            e.nb();
            this.b.Jn(e.Ga);
            this.b.zf && this.b.ac()
        }
        a || (this.b.Mo = !1)
    }
    ;
    r.prototype.Zr = function(a, b) {
        a.cd || this.b.an.push(a);
        var c, e, f = a.sb[b], g;
        f.type ? g = f.type.name : g = "system";
        var h = (c = f.Ar) ? this.Br : this.nu;
        h[g] || (h[g] = []);
        g = h[g];
        h = f.Pb;
        if (c) {
            if (f.aa.length && (f = f.aa[0],
            1 === f.type && 2 === f.fe.type)) {
                f = f.fe.value.toLowerCase();
                c = 0;
                for (e = g.length; c < e; c++)
                    if (g[c].method == h) {
                        c = g[c].Gi;
                        c[f] ? c[f].push([a, b]) : c[f] = [[a, b]];
                        return
                    }
                c = {};
                c[f] = [[a, b]];
                g.push({
                    method: h,
                    Gi: c
                })
            }
        } else {
            c = 0;
            for (e = g.length; c < e; c++)
                if (g[c].method == h) {
                    g[c].Gi.push([a, b]);
                    return
                }
            X && h === X.prototype.j.Vg ? g.unshift({
                method: h,
                Gi: [[a, b]]
            }) : g.push({
                method: h,
                Gi: [[a, b]]
            })
        }
    }
    ;
    Kb = r;
    n.prototype.xo = function() {
        return this.ea ? this.type.e.length : this.e.length
    }
    ;
    n.prototype.Nc = function() {
        return this.ea ? this.type.e : this.e
    }
    ;
    n.prototype.Gj = function(a) {
        a && (a.b.Za().fb.cd ? (this.ea && (U(this.e),
        Ca(this.Y, a.type.e),
        this.ea = !1),
        a = this.Y.indexOf(a),
        -1 !== a && (this.e.push(this.Y[a]),
        this.Y.splice(a, 1))) : (this.ea = !1,
        U(this.e),
        this.e[0] = a))
    }
    ;
    nb = n;
    window._c2hh_ = "24E7715AFBA0B39A75CFAAF49C1167BDFCFD1BC3";
    t.prototype.bb = function(a) {
        var b, c = this.parent;
        if (this.group)
            for (this.Zm = !0; c; ) {
                if (!c.group) {
                    this.Zm = !1;
                    break
                }
                c = c.parent
            }
        this.cq = !this.ls() && (!this.parent || this.parent.group && this.parent.Zm);
        this.Vr = !!a;
        this.Of = this.Ga.slice(0);
        for (c = this.parent; c; ) {
            a = 0;
            for (b = c.Ga.length; a < b; a++)
                this.zw(c.Ga[a]);
            c = c.parent
        }
        this.Ga = p(this.Ga);
        this.Of = p(this.Of);
        a = 0;
        for (b = this.sb.length; a < b; a++)
            this.sb[a].bb();
        a = 0;
        for (b = this.gd.length; a < b; a++)
            this.gd[a].bb();
        a = 0;
        for (b = this.xd.length; a < b; a++)
            this.xd[a].bb(a < b - 1 && this.xd[a + 1].Nl)
    }
    ;
    t.prototype.Lt = function(a) {
        if (this.Ni !== !!a) {
            this.Ni = !!a;
            var b;
            a = 0;
            for (b = this.Qk.length; a < b; ++a)
                this.Qk[a].ru();
            0 < b && this.b.na.fg && this.b.na.fg.jq()
        }
    }
    ;
    t.prototype.Wq = function(a) {
        l(a, this.Ga)
    }
    ;
    t.prototype.zw = function(a) {
        l(a, this.Of)
    }
    ;
    t.prototype.Im = function() {
        this.Up = !0;
        this.parent && this.parent.Im()
    }
    ;
    t.prototype.ls = function() {
        return this.sb.length ? this.sb[0].trigger : !1
    }
    ;
    t.prototype.nb = function() {
        var a, b, c = !1, e = this.b, f = this.b.Za();
        f.fb = this;
        var g = this.sb;
        this.Nl || (f.Un = !1);
        if (this.cd) {
            0 === g.length && (c = !0);
            f.eb = 0;
            for (a = g.length; f.eb < a; f.eb++)
                b = g[f.eb],
                b.trigger || (b = b.nb()) && (c = !0);
            (f.xg = c) && this.Cm()
        } else {
            f.eb = 0;
            for (a = g.length; f.eb < a; f.eb++)
                if (b = g[f.eb].nb(),
                !b) {
                    f.xg = !1;
                    this.cq && e.zf && e.ac();
                    return
                }
            f.xg = !0;
            this.Cm()
        }
        this.Bx(f)
    }
    ;
    t.prototype.Bx = function(a) {
        a.xg && this.Vr && (a.Un = !0);
        this.cq && this.b.zf && this.b.ac()
    }
    ;
    t.prototype.kA = function(a) {
        this.b.Za().fb = this;
        this.sb[a].nb() && (this.Cm(),
        this.b.Za().xg = !0)
    }
    ;
    t.prototype.Cm = function() {
        var a = this.b.Za(), b;
        a.yc = 0;
        for (b = this.gd.length; a.yc < b; a.yc++)
            if (this.gd[a.yc].nb())
                return;
        this.Ft()
    }
    ;
    t.prototype.iA = function() {
        var a = this.b.Za(), b;
        for (b = this.gd.length; a.yc < b; a.yc++)
            if (this.gd[a.yc].nb())
                return;
        this.Ft()
    }
    ;
    t.prototype.Ft = function() {
        if (this.xd.length) {
            var a, b, c, e, f = this.xd.length - 1;
            this.b.xm(this);
            if (this.Up)
                for (a = 0,
                b = this.xd.length; a < b; a++)
                    c = this.xd[a],
                    (e = !this.Zm || !this.group && a < f) && this.b.Lj(c.Ga),
                    c.nb(),
                    e ? this.b.Kf(c.Ga) : this.b.Jn(c.Ga);
            else
                for (a = 0,
                b = this.xd.length; a < b; a++)
                    this.xd[a].nb();
            this.b.tm()
        }
    }
    ;
    t.prototype.lA = function() {
        var a = this.b.Za();
        a.fb = this;
        var b = !1, c;
        a.eb = 0;
        for (c = this.sb.length; a.eb < c; a.eb++)
            if (this.sb[a.eb].nb())
                b = !0;
            else if (!this.cd)
                return !1;
        return this.cd ? b : !0
    }
    ;
    t.prototype.Gp = function() {
        this.b.hg++;
        var a = this.b.Za().eb
          , b = this.b.xm(this);
        if (!this.cd)
            for (b.eb = a + 1,
            a = this.sb.length; b.eb < a; b.eb++)
                if (!this.sb[b.eb].nb()) {
                    this.b.tm();
                    return
                }
        this.Cm();
        this.b.tm()
    }
    ;
    t.prototype.gz = function(a) {
        var b = a.index;
        if (0 === b)
            return !0;
        for (--b; 0 <= b; --b)
            if (this.sb[b].type === a.type)
                return !1;
        return !0
    }
    ;
    cc = t;
    a.prototype.bb = function() {
        var a, b, c;
        a = 0;
        for (b = this.aa.length; a < b; a++)
            c = this.aa[a],
            c.bb(),
            c.zd && (this.ri = !0)
    }
    ;
    a.prototype.nA = function() {
        return !0
    }
    ;
    a.prototype.Jp = function() {
        var a, b;
        a = 0;
        for (b = this.aa.length; a < b; a++)
            this.Va[a] = this.aa[a].get();
        return Ta(this.Pb.apply(this.b.qe, this.Va), this.ph)
    }
    ;
    a.prototype.mA = function() {
        var a, b;
        a = 0;
        for (b = this.aa.length; a < b; a++)
            this.Va[a] = this.aa[a].get();
        a = this.Pb.apply(this.Tf ? this.Tf : this.type, this.Va);
        this.type.Dd();
        return a
    }
    ;
    a.prototype.Ip = function() {
        var a, b, c, e, f, g, h, d, q = this.type, l = q.Z(), n = this.Uc.cd && !this.trigger;
        b = 0;
        var t = q.lc, m = q.I, r = q.Ae, p = this.Gd, y = -1 < p, I = this.ri, E = this.aa, z = this.Va, w = this.ph, K = this.Pb, D;
        if (I)
            for (b = 0,
            f = E.length; b < f; ++b)
                g = E[b],
                g.zd || (z[b] = g.get(0));
        else
            for (b = 0,
            f = E.length; b < f; ++b)
                z[b] = E[b].get(0);
        if (l.ea) {
            U(l.e);
            U(l.Y);
            D = q.e;
            a = 0;
            for (e = D.length; a < e; ++a) {
                d = D[a];
                if (I)
                    for (b = 0,
                    f = E.length; b < f; ++b)
                        g = E[b],
                        g.zd && (z[b] = g.get(a));
                y ? (b = 0,
                m && (b = d.type.ih[r]),
                b = K.apply(d.P[p + b], z)) : b = K.apply(d, z);
                (h = Ta(b, w)) ? l.e.push(d) : n && l.Y.push(d)
            }
            q.finish && q.finish(!0);
            l.ea = !1;
            q.Dd();
            return l.xo()
        }
        c = 0;
        D = (h = n && !this.Uc.gz(this)) ? l.Y : l.e;
        var L = !1;
        a = 0;
        for (e = D.length; a < e; ++a) {
            d = D[a];
            if (I)
                for (b = 0,
                f = E.length; b < f; ++b)
                    g = E[b],
                    g.zd && (z[b] = g.get(a));
            y ? (b = 0,
            m && (b = d.type.ih[r]),
            b = K.apply(d.P[p + b], z)) : b = K.apply(d, z);
            if (Ta(b, w))
                if (L = !0,
                h) {
                    if (l.e.push(d),
                    t)
                        for (b = 0,
                        f = d.siblings.length; b < f; b++)
                            g = d.siblings[b],
                            g.type.Z().e.push(g)
                } else {
                    D[c] = d;
                    if (t)
                        for (b = 0,
                        f = d.siblings.length; b < f; b++)
                            g = d.siblings[b],
                            g.type.Z().e[c] = g;
                    c++
                }
            else if (h) {
                D[c] = d;
                if (t)
                    for (b = 0,
                    f = d.siblings.length; b < f; b++)
                        g = d.siblings[b],
                        g.type.Z().Y[c] = g;
                c++
            } else if (n && (l.Y.push(d),
            t))
                for (b = 0,
                f = d.siblings.length; b < f; b++)
                    g = d.siblings[b],
                    g.type.Z().Y.push(g)
        }
        Aa(D, c);
        if (t)
            for (m = q.Mc,
            a = 0,
            e = m.length; a < e; a++)
                d = m[a].Z(),
                h ? Aa(d.Y, c) : Aa(d.e, c);
        c = L;
        if (h && !L)
            for (a = 0,
            e = l.e.length; a < e; a++) {
                d = l.e[a];
                if (I)
                    for (b = 0,
                    f = E.length; b < f; b++)
                        g = E[b],
                        g.zd && (z[b] = g.get(a));
                b = y ? K.apply(d.P[p], z) : K.apply(d, z);
                if (Ta(b, w)) {
                    L = !0;
                    break
                }
            }
        q.finish && q.finish(c || n);
        return n ? L : l.xo()
    }
    ;
    Yb = a;
    b.prototype.bb = function() {
        var a, b, c;
        a = 0;
        for (b = this.aa.length; a < b; a++)
            c = this.aa[a],
            c.bb(),
            c.zd && (this.ri = !0)
    }
    ;
    b.prototype.Jp = function() {
        var a = this.b, b, c, e = this.aa, f = this.Va;
        b = 0;
        for (c = e.length; b < c; ++b)
            f[b] = e[b].get();
        return this.Pb.apply(a.qe, f)
    }
    ;
    b.prototype.Ip = function() {
        var a = this.type, b = this.Gd, c = a.Ae, e = this.ri, f = this.aa, g = this.Va, h = this.Pb, d = a.Z().Nc(), a = a.I, q = -1 < b, l, n, t, m, r, p;
        if (e)
            for (n = 0,
            m = f.length; n < m; ++n)
                r = f[n],
                r.zd || (g[n] = r.get(0));
        else
            for (n = 0,
            m = f.length; n < m; ++n)
                g[n] = f[n].get(0);
        l = 0;
        for (t = d.length; l < t; ++l) {
            p = d[l];
            if (e)
                for (n = 0,
                m = f.length; n < m; ++n)
                    r = f[n],
                    r.zd && (g[n] = r.get(l));
            q ? (n = 0,
            a && (n = p.type.ih[c]),
            h.apply(p.P[b + n], g)) : h.apply(p, g)
        }
        return !1
    }
    ;
    Zb = b;
    var I = []
      , q = -1;
    c.prototype.bb = function() {
        var a, b;
        if (11 === this.type)
            this.gg = this.b.Mr(this.jk, this.Uc.parent);
        else if (13 === this.type)
            for (a = 0,
            b = this.Mg.length; a < b; a++)
                this.Mg[a].bb();
        this.fe && this.fe.bb()
    }
    ;
    c.prototype.wz = function(a) {
        this.zd || !a || a.Fa.Om || (this.zd = !0)
    }
    ;
    c.prototype.Qt = function() {
        this.zd = !0
    }
    ;
    c.prototype.Ky = function(a) {
        this.Ue = a || 0;
        a = e();
        this.fe.get(a);
        q--;
        return a.data
    }
    ;
    c.prototype.Ly = function(a) {
        this.Ue = a || 0;
        a = e();
        this.fe.get(a);
        q--;
        return ma(a.data) ? a.data : ""
    }
    ;
    c.prototype.Ry = function() {
        return this.object
    }
    ;
    c.prototype.Iy = function() {
        return this.lr
    }
    ;
    c.prototype.Py = function(a) {
        this.Ue = a || 0;
        a = e();
        this.fe.get(a);
        q--;
        return a.Fb() ? this.b.Ki(a.data) : this.b.no(a.data)
    }
    ;
    c.prototype.Qy = function() {
        return this.ab
    }
    ;
    c.prototype.Oy = function() {
        return this.key
    }
    ;
    c.prototype.Ny = function() {
        return this.index
    }
    ;
    c.prototype.My = function(a) {
        a = a || 0;
        var b = this.Oa.type
          , c = null
          , c = b.Z()
          , e = c.Nc();
        if (e.length)
            c = e[a % e.length].type;
        else if (c.Y.length)
            c = c.Y[a % c.Y.length].type;
        else if (b.e.length)
            c = b.e[a % b.e.length].type;
        else
            return 0;
        return this.index + c.hl[b.Ae]
    }
    ;
    c.prototype.Jy = function() {
        return this.gg
    }
    ;
    c.prototype.Hy = function() {
        return this.Er
    }
    ;
    c.prototype.Sy = function() {
        var a, b;
        a = 0;
        for (b = this.Mg.length; a < b; a++)
            this.ik[a] = this.Mg[a].get();
        return this.ik
    }
    ;
    $b = c;
    f.prototype.bb = function() {
        this.Ga = p(this.Ga)
    }
    ;
    f.prototype.Jm = function(a) {
        var b = this.b.Kr();
        this.parent && !this.aj && b ? (this.Cg >= b.length && (b.length = this.Cg + 1),
        b[this.Cg] = a) : this.data = a
    }
    ;
    f.prototype.Sr = function() {
        var a = this.b.Kr();
        return !this.parent || this.aj || !a || this.Ml ? this.data : this.Cg >= a.length || "undefined" === typeof a[this.Cg] ? this.Co : a[this.Cg]
    }
    ;
    f.prototype.nb = function() {
        !this.parent || this.aj || this.Ml || this.Jm(this.Co)
    }
    ;
    Ub = f;
    g.prototype.toString = function() {
        return "include:" + this.Ri.toString()
    }
    ;
    g.prototype.bb = function() {
        this.Ri = this.b.Xn[this.Yy];
        this.sheet.Wr.add(this);
        this.Ga = p(this.Ga);
        for (var a = this.parent; a; )
            a.group && a.Qk.push(this),
            a = a.parent;
        this.ru()
    }
    ;
    g.prototype.nb = function() {
        this.parent && this.b.Kj(this.b.C);
        this.Ri.yo || this.Ri.nb(!0);
        this.parent && this.b.Kf(this.b.C)
    }
    ;
    g.prototype.ru = function() {
        for (var a = this.parent; a; ) {
            if (a.group && !a.Ni) {
                this.Sa = !1;
                return
            }
            a = a.parent
        }
        this.Sa = !0
    }
    ;
    dc = g;
    h.prototype.reset = function(a) {
        this.fb = a;
        this.yc = this.eb = 0;
        U(this.bu);
        this.Un = this.xg = !1
    }
    ;
    h.prototype.iz = function() {
        return this.fb.Up ? !0 : this.eb < this.fb.sb.length - 1 ? !!this.fb.Ga.length : !1
    }
    ;
    Tb = h
}
)();
(function() {
    function d(d, a) {
        this.Oa = d;
        this.b = d.b;
        this.type = a[0];
        this.get = [this.Tx, this.Px, this.by, this.fy, this.Ex, this.cy, this.Xx, this.Mx, this.Wx, this.ay, this.Fx, this.$x, this.Nx, this.Yx, this.Ux, this.Vx, this.Qx, this.Rx, this.Lx, this.ey, this.Zx, this.Sx, this.Kx, this.Ox][this.type];
        var b = null;
        this.Le = this.aa = this.Va = this.Pb = this.Wm = this.second = this.first = this.value = null;
        this.Gd = -1;
        this.Jd = null;
        this.xu = -1;
        this.gg = this.jk = null;
        this.Wh = !1;
        switch (this.type) {
        case 0:
        case 1:
        case 2:
            this.value = a[1];
            break;
        case 3:
            this.first = new bc(d,a[1]);
            break;
        case 18:
            this.first = new bc(d,a[1]);
            this.second = new bc(d,a[2]);
            this.Wm = new bc(d,a[3]);
            break;
        case 19:
            this.Pb = this.b.ef(a[1]);
            this.Pb !== W.prototype.za.random && this.Pb !== W.prototype.za.Nw || this.Oa.Qt();
            this.Va = [];
            this.aa = [];
            3 === a.length ? (b = a[2],
            this.Va.length = b.length + 1) : this.Va.length = 1;
            break;
        case 20:
            this.Le = this.b.C[a[1]];
            this.Gd = -1;
            this.Pb = this.b.ef(a[2]);
            this.Wh = a[3];
            qc && this.Pb === qc.prototype.za.Eu && this.Oa.Qt();
            a[4] ? this.Jd = new bc(d,a[4]) : this.Jd = null;
            this.Va = [];
            this.aa = [];
            6 === a.length ? (b = a[5],
            this.Va.length = b.length + 1) : this.Va.length = 1;
            break;
        case 21:
            this.Le = this.b.C[a[1]];
            this.Wh = a[2];
            a[3] ? this.Jd = new bc(d,a[3]) : this.Jd = null;
            this.xu = a[4];
            break;
        case 22:
            this.Le = this.b.C[a[1]];
            this.Le.ul(a[2]);
            this.Gd = this.Le.eo(a[2]);
            this.Pb = this.b.ef(a[3]);
            this.Wh = a[4];
            a[5] ? this.Jd = new bc(d,a[5]) : this.Jd = null;
            this.Va = [];
            this.aa = [];
            7 === a.length ? (b = a[6],
            this.Va.length = b.length + 1) : this.Va.length = 1;
            break;
        case 23:
            this.jk = a[1],
            this.gg = null
        }
        this.Oa.wz(this.Le);
        4 <= this.type && 17 >= this.type && (this.first = new bc(d,a[1]),
        this.second = new bc(d,a[2]));
        if (b) {
            var e, c;
            e = 0;
            for (c = b.length; e < c; e++)
                this.aa.push(new bc(d,b[e]))
        }
    }
    function m() {
        ++t;
        n.length === t && n.push(new ac);
        return n[t]
    }
    function p(d, a, b) {
        var e, c;
        e = 0;
        for (c = d.length; e < c; ++e)
            d[e].get(b),
            a[e + 1] = b.data
    }
    function r(d, a) {
        this.type = d || ec.Ug;
        this.data = a || 0;
        this.Eg = null;
        this.type == ec.Ug && (this.data = Math.floor(this.data))
    }
    d.prototype.bb = function() {
        23 === this.type && (this.gg = this.Oa.b.Mr(this.jk, this.Oa.Uc.parent));
        this.first && this.first.bb();
        this.second && this.second.bb();
        this.Wm && this.Wm.bb();
        this.Jd && this.Jd.bb();
        if (this.aa) {
            var d, a;
            d = 0;
            for (a = this.aa.length; d < a; d++)
                this.aa[d].bb()
        }
    }
    ;
    var n = []
      , t = -1;
    d.prototype.ey = function(d) {
        var a = this.aa
          , b = this.Va;
        b[0] = d;
        d = m();
        p(a, b, d);
        --t;
        this.Pb.apply(this.b.qe, b)
    }
    ;
    d.prototype.Zx = function(d) {
        var a = this.Le
          , b = this.Va
          , e = this.aa
          , c = this.Jd
          , f = this.Pb
          , g = this.Oa.Ue
          , h = a.Z()
          , n = h.Nc();
        if (!n.length)
            if (h.Y.length)
                n = h.Y;
            else {
                this.Wh ? d.rc("") : d.Pa(0);
                return
            }
        b[0] = d;
        d.Eg = a;
        d = m();
        p(e, b, d);
        c && (c.get(d),
        d.Fb() && (g = d.data,
        n = a.e));
        --t;
        a = n.length;
        if (g >= a || g <= -a)
            g %= a;
        0 > g && (g += a);
        f.apply(n[g], b)
    }
    ;
    d.prototype.Kx = function(d) {
        var a = this.Le
          , b = this.Va
          , e = this.aa
          , c = this.Jd
          , f = this.Gd
          , g = this.Pb
          , h = this.Oa.Ue
          , n = a.Z()
          , r = n.Nc();
        if (!r.length)
            if (n.Y.length)
                r = n.Y;
            else {
                this.Wh ? d.rc("") : d.Pa(0);
                return
            }
        b[0] = d;
        d.Eg = a;
        d = m();
        p(e, b, d);
        c && (c.get(d),
        d.Fb() && (h = d.data,
        r = a.e));
        --t;
        e = r.length;
        if (h >= e || h <= -e)
            h %= e;
        0 > h && (h += e);
        h = r[h];
        r = 0;
        a.I && (r = h.type.ih[a.Ae]);
        g.apply(h.P[f + r], b)
    }
    ;
    d.prototype.Sx = function(d) {
        var a = this.Jd
          , b = this.Le
          , e = this.xu
          , c = this.Oa.Ue
          , f = b.Z()
          , g = f.Nc();
        if (!g.length)
            if (f.Y.length)
                g = f.Y;
            else {
                this.Wh ? d.rc("") : d.Pa(0);
                return
            }
        if (a) {
            f = m();
            a.get(f);
            if (f.Fb()) {
                c = f.data;
                g = b.e;
                0 !== g.length && (c %= g.length,
                0 > c && (c += g.length));
                c = b.lo(c);
                b = c.wb[e];
                ma(b) ? d.rc(b) : d.L(b);
                --t;
                return
            }
            --t
        }
        a = g.length;
        if (c >= a || c <= -a)
            c %= a;
        0 > c && (c += a);
        c = g[c];
        g = 0;
        b.I && (g = c.type.hl[b.Ae]);
        b = c.wb[e + g];
        ma(b) ? d.rc(b) : d.L(b)
    }
    ;
    d.prototype.Tx = function(d) {
        d.type = ec.Ug;
        d.data = this.value
    }
    ;
    d.prototype.Px = function(d) {
        d.type = ec.Tg;
        d.data = this.value
    }
    ;
    d.prototype.by = function(d) {
        d.type = ec.String;
        d.data = this.value
    }
    ;
    d.prototype.fy = function(d) {
        this.first.get(d);
        d.Fb() && (d.data = -d.data)
    }
    ;
    d.prototype.Ex = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Fb() && a.Fb() && (d.data += a.data,
        a.vh() && d.Jh());
        --t
    }
    ;
    d.prototype.cy = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Fb() && a.Fb() && (d.data -= a.data,
        a.vh() && d.Jh());
        --t
    }
    ;
    d.prototype.Xx = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Fb() && a.Fb() && (d.data *= a.data,
        a.vh() && d.Jh());
        --t
    }
    ;
    d.prototype.Mx = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Fb() && a.Fb() && (d.data /= a.data,
        d.Jh());
        --t
    }
    ;
    d.prototype.Wx = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Fb() && a.Fb() && (d.data %= a.data,
        a.vh() && d.Jh());
        --t
    }
    ;
    d.prototype.ay = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Fb() && a.Fb() && (d.data = Math.pow(d.data, a.data),
        a.vh() && d.Jh());
        --t
    }
    ;
    d.prototype.Fx = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        a.yh() || d.yh() ? this.Hx(d, a) : this.Gx(d, a);
        --t
    }
    ;
    d.prototype.Hx = function(d, a) {
        d.yh() && a.yh() ? this.Jx(d, a) : this.Ix(d, a)
    }
    ;
    d.prototype.Jx = function(d, a) {
        d.data += a.data
    }
    ;
    d.prototype.Ix = function(d, a) {
        d.yh() ? d.data += (Math.round(1E10 * a.data) / 1E10).toString() : d.rc(d.data.toString() + a.data)
    }
    ;
    d.prototype.Gx = function(d, a) {
        d.Pa(d.data && a.data ? 1 : 0)
    }
    ;
    d.prototype.$x = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Fb() && a.Fb() && (d.data || a.data ? d.Pa(1) : d.Pa(0));
        --t
    }
    ;
    d.prototype.Lx = function(d) {
        this.first.get(d);
        d.data ? this.second.get(d) : this.Wm.get(d)
    }
    ;
    d.prototype.Nx = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Pa(d.data === a.data ? 1 : 0);
        --t
    }
    ;
    d.prototype.Yx = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Pa(d.data !== a.data ? 1 : 0);
        --t
    }
    ;
    d.prototype.Ux = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Pa(d.data < a.data ? 1 : 0);
        --t
    }
    ;
    d.prototype.Vx = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Pa(d.data <= a.data ? 1 : 0);
        --t
    }
    ;
    d.prototype.Qx = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Pa(d.data > a.data ? 1 : 0);
        --t
    }
    ;
    d.prototype.Rx = function(d) {
        this.first.get(d);
        var a = m();
        this.second.get(a);
        d.Pa(d.data >= a.data ? 1 : 0);
        --t
    }
    ;
    d.prototype.Ox = function(d) {
        var a = this.gg.Sr();
        ka(a) ? d.L(a) : d.rc(a)
    }
    ;
    bc = d;
    r.prototype.vh = function() {
        return this.type === ec.Tg
    }
    ;
    r.prototype.Fb = function() {
        return this.type === ec.Ug || this.type === ec.Tg
    }
    ;
    r.prototype.yh = function() {
        return this.type === ec.String
    }
    ;
    r.prototype.Jh = function() {
        this.vh() || (this.yh() && (this.data = parseFloat(this.data)),
        this.type = ec.Tg)
    }
    ;
    r.prototype.Pa = function(d) {
        this.type = ec.Ug;
        this.data = Math.floor(d)
    }
    ;
    r.prototype.L = function(d) {
        this.type = ec.Tg;
        this.data = d
    }
    ;
    r.prototype.rc = function(d) {
        this.type = ec.String;
        this.data = d
    }
    ;
    r.prototype.Rp = function(d) {
        ka(d) ? (this.type = ec.Tg,
        this.data = d) : ma(d) ? (this.type = ec.String,
        this.data = d.toString()) : (this.type = ec.Ug,
        this.data = 0)
    }
    ;
    ac = r;
    ec = {
        Ug: 0,
        Tg: 1,
        String: 2
    }
}
)();
function W(d) {
    this.b = d;
    this.Jc = []
}
W.prototype.cb = function() {
    var d = {}, m, p, r, n, t, l, a, b;
    d.waits = [];
    var e = d.waits, c;
    m = 0;
    for (p = this.Jc.length; m < p; m++) {
        l = this.Jc[m];
        c = {
            t: l.time,
            st: l.Xt,
            s: l.Tp,
            ev: l.hh.fa,
            sm: [],
            sols: {}
        };
        l.hh.gd[l.yc] && (c.act = l.hh.gd[l.yc].fa);
        r = 0;
        for (n = l.Ga.length; r < n; r++)
            c.sm.push(l.Ga[r].fa);
        for (t in l.tc)
            if (l.tc.hasOwnProperty(t)) {
                a = this.b.C[parseInt(t, 10)];
                b = {
                    sa: l.tc[t].Dm,
                    insts: []
                };
                r = 0;
                for (n = l.tc[t].Ce.length; r < n; r++)
                    b.insts.push(l.tc[t].Ce[r].uid);
                c.sols[a.fa.toString()] = b
            }
        e.push(c)
    }
    return d
}
;
W.prototype.yb = function(d) {
    d = d.waits;
    var m, p, r, n, t, l, a, b, e, c, f;
    U(this.Jc);
    m = 0;
    for (p = d.length; m < p; m++)
        if (l = d[m],
        b = this.b.cr[l.ev.toString()]) {
            e = -1;
            r = 0;
            for (n = b.gd.length; r < n; r++)
                if (b.gd[r].fa === l.act) {
                    e = r;
                    break
                }
            if (-1 !== e) {
                a = {
                    tc: {},
                    Ga: [],
                    Tn: !1
                };
                a.time = l.t;
                a.Xt = l.st || "";
                a.Tp = !!l.s;
                a.hh = b;
                a.yc = e;
                r = 0;
                for (n = l.sm.length; r < n; r++)
                    (b = this.b.xl(l.sm[r])) && a.Ga.push(b);
                for (t in l.sols)
                    if (l.sols.hasOwnProperty(t) && (b = this.b.xl(parseInt(t, 10)))) {
                        e = l.sols[t];
                        c = {
                            Dm: e.sa,
                            Ce: []
                        };
                        r = 0;
                        for (n = e.insts.length; r < n; r++)
                            (f = this.b.mg(e.insts[r])) && c.Ce.push(f);
                        a.tc[b.index.toString()] = c
                    }
                this.Jc.push(a)
            }
        }
}
;
(function() {
    function d() {}
    function m() {}
    function p() {}
    var r = W.prototype;
    d.prototype.Ru = function() {
        return !0
    }
    ;
    d.prototype.Jq = function() {
        return !0
    }
    ;
    d.prototype.zv = function() {
        return !0
    }
    ;
    d.prototype.Iu = function(a, e, c) {
        return fc(a, e, c)
    }
    ;
    var n = []
      , t = -1;
    d.prototype.Su = function(a) {
        var e = a.Z();
        t++;
        n.length === t && n.push([]);
        var c = n[t];
        Ca(c, e.Nc());
        var f = this.b.Za(), g = f.fb, d = f.iz(), f = this.b.Zz(), l, m, q, k, u, r, A = a.lc;
        if (d)
            for (d = 0,
            l = c.length; d < l && !f.Ib; d++) {
                this.b.Lj(g.Ga);
                k = c[d];
                e = a.Z();
                e.ea = !1;
                U(e.e);
                e.e[0] = k;
                if (A)
                    for (m = 0,
                    q = k.siblings.length; m < q; m++)
                        u = k.siblings[m],
                        r = u.type.Z(),
                        r.ea = !1,
                        U(r.e),
                        r.e[0] = u;
                f.index = d;
                g.Gp();
                this.b.Kf(g.Ga)
            }
        else
            for (e.ea = !1,
            U(e.e),
            d = 0,
            l = c.length; d < l && !f.Ib; d++) {
                k = c[d];
                e.e[0] = k;
                if (A)
                    for (m = 0,
                    q = k.siblings.length; m < q; m++)
                        u = k.siblings[m],
                        r = u.type.Z(),
                        r.ea = !1,
                        U(r.e),
                        r.e[0] = u;
                f.index = d;
                g.Gp()
            }
        U(c);
        this.b.Rz();
        t--;
        return !1
    }
    ;
    d.prototype.qw = function() {
        var a = this.b.mh().H;
        "undefined" === typeof a.TriggerOnce_lastTick && (a.TriggerOnce_lastTick = -1);
        var e = a.TriggerOnce_lastTick
          , c = this.b.Pg;
        a.TriggerOnce_lastTick = c;
        return this.b.Uo || e !== c - 1
    }
    ;
    d.prototype.Qu = function(a) {
        var e = this.b.mh()
          , c = e.H.Every_lastTime || 0
          , f = this.b.ib.R;
        "undefined" === typeof e.H.Every_seconds && (e.H.Every_seconds = a);
        var g = e.H.Every_seconds;
        if (f >= c + g)
            return e.H.Every_lastTime = c + g,
            f >= e.H.Every_lastTime + .04 && (e.H.Every_lastTime = f),
            e.H.Every_seconds = a,
            !0;
        f < c - .1 && (e.H.Every_lastTime = f);
        return !1
    }
    ;
    d.prototype.Mu = function(a, e, c) {
        return fc(a.Sr(), e, c)
    }
    ;
    d.prototype.uq = function() {
        var a = this.b.Za();
        return a.Un ? !1 : !a.xg
    }
    ;
    d.prototype.Kq = function() {
        return !0
    }
    ;
    d.prototype.sv = function() {
        return !0
    }
    ;
    d.prototype.tn = function() {
        return !0
    }
    ;
    d.prototype.Nq = function() {
        return !0
    }
    ;
    d.prototype.Av = function() {
        return !0
    }
    ;
    d.prototype.tk = function() {
        return !0
    }
    ;
    d.prototype.Cu = function(a, e, c) {
        return Oa(V(a), V(c)) <= V(e)
    }
    ;
    d.prototype.Zu = function(a, e) {
        return Qa(V(a), V(e))
    }
    ;
    d.prototype.Xu = function(a, e, c) {
        a = Ma(a);
        e = Ma(e);
        c = Ma(c);
        return Qa(c, e) ? Qa(a, e) && !Qa(a, c) : !(!Qa(a, e) && Qa(a, c))
    }
    ;
    r.j = new d;
    m.prototype.Uu = function(a) {
        this.b.Cf || this.b.Hd || (this.b.Hd = a)
    }
    ;
    m.prototype.kv = function(a) {
        if (!this.b.Cf && !this.b.Hd) {
            var e = this.b.Qc.indexOf(this.b.na);
            if (!a || 0 !== e)
                if (a || e !== this.b.Qc.length - 1)
                    this.b.Hd = this.b.Qc[e + (a ? -1 : 1)]
        }
    }
    ;
    m.prototype.dw = function(a, e) {
        0 === a.yu ? ka(e) ? a.Jm(e) : a.Jm(parseFloat(e)) : 1 === a.yu && a.Jm(e.toString())
    }
    ;
    var l = []
      , a = [];
    m.prototype.sw = function(b) {
        if (!(0 > b)) {
            var e, c, f, g = this.b.Za(), d;
            l.length ? d = l.pop() : d = {
                tc: {},
                Ga: []
            };
            d.Tn = !1;
            d.time = this.b.ib.R + b;
            d.Xt = "";
            d.Tp = !1;
            d.hh = g.fb;
            d.yc = g.yc + 1;
            b = 0;
            for (e = this.b.C.length; b < e; b++)
                f = this.b.C[b],
                c = f.Z(),
                c.ea && -1 === g.fb.Ga.indexOf(f) || (d.Ga.push(f),
                f = void 0,
                a.length ? f = a.pop() : f = {
                    Ce: []
                },
                f.Dm = !1,
                f.Dm = c.ea,
                Ca(f.Ce, c.e),
                d.tc[b.toString()] = f);
            this.Jc.push(d);
            return !0
        }
    }
    ;
    m.prototype.Vu = function(a) {
        if (!this.b.Cf && !this.b.Hd)
            for (var e in this.b.Fh)
                if (this.b.Fh.hasOwnProperty(e) && jb(e, a)) {
                    this.b.Hd = this.b.Fh[e];
                    break
                }
    }
    ;
    m.prototype.Nv = function() {
        if (!this.b.Cf && !this.b.Hd && this.b.na) {
            this.b.Hd = this.b.na;
            var a, e, c;
            a = 0;
            for (e = this.b.kf.length; a < e; a++)
                c = this.b.kf[a],
                c.Lt(c.Fl)
        }
    }
    ;
    r.A = new m;
    p.prototype["int"] = function(a, e) {
        ma(e) ? (a.Pa(parseInt(e, 10)),
        isNaN(a.data) && (a.data = 0)) : a.Pa(e)
    }
    ;
    p.prototype["float"] = function(a, e) {
        ma(e) ? (a.L(parseFloat(e)),
        isNaN(a.data) && (a.data = 0)) : a.L(e)
    }
    ;
    p.prototype.random = function(a, e, c) {
        void 0 === c ? a.L(Math.random() * e) : a.L(Math.random() * (c - e) + e)
    }
    ;
    p.prototype.sqrt = function(a, e) {
        a.L(Math.sqrt(e))
    }
    ;
    p.prototype.abs = function(a, e) {
        a.L(Math.abs(e))
    }
    ;
    p.prototype.round = function(a, e) {
        a.Pa(Math.round(e))
    }
    ;
    p.prototype.floor = function(a, e) {
        a.Pa(Math.floor(e))
    }
    ;
    p.prototype.ceil = function(a, e) {
        a.Pa(Math.ceil(e))
    }
    ;
    p.prototype.sin = function(a, e) {
        a.L(Math.sin(V(e)))
    }
    ;
    p.prototype.cos = function(a, e) {
        a.L(Math.cos(V(e)))
    }
    ;
    p.prototype.tan = function(a, e) {
        a.L(Math.tan(V(e)))
    }
    ;
    p.prototype.asin = function(a, e) {
        a.L(Ha(Math.asin(e)))
    }
    ;
    p.prototype.acos = function(a, e) {
        a.L(Ha(Math.acos(e)))
    }
    ;
    p.prototype.atan = function(a, e) {
        a.L(Ha(Math.atan(e)))
    }
    ;
    p.prototype.exp = function(a, e) {
        a.L(Math.exp(e))
    }
    ;
    p.prototype.log10 = function(a, e) {
        a.L(Math.log(e) / Math.LN10)
    }
    ;
    p.prototype.max = function(a) {
        var e = arguments[1];
        "number" !== typeof e && (e = 0);
        var c, f, g;
        c = 2;
        for (f = arguments.length; c < f; c++)
            g = arguments[c],
            "number" === typeof g && e < g && (e = g);
        a.L(e)
    }
    ;
    p.prototype.min = function(a) {
        var e = arguments[1];
        "number" !== typeof e && (e = 0);
        var c, f, g;
        c = 2;
        for (f = arguments.length; c < f; c++)
            g = arguments[c],
            "number" === typeof g && e > g && (e = g);
        a.L(e)
    }
    ;
    p.prototype.bg = function(a) {
        a.L(this.b.bg)
    }
    ;
    p.prototype.Qg = function(a) {
        a.L(this.b.Qg)
    }
    ;
    p.prototype.time = function(a) {
        a.L(this.b.ib.R)
    }
    ;
    p.prototype.Pg = function(a) {
        a.Pa(this.b.Pg)
    }
    ;
    p.prototype.jm = function(a) {
        a.Pa(this.b.jm)
    }
    ;
    p.prototype.ao = function(a) {
        a.Pa(this.b.ao)
    }
    ;
    p.prototype.k = function(a, e, c, f, g) {
        a.L(Ha(Na(e, c, f, g)))
    }
    ;
    p.prototype.left = function(a, e, c) {
        a.rc(ma(e) ? e.substr(0, c) : "")
    }
    ;
    p.prototype.right = function(a, e, c) {
        a.rc(ma(e) ? e.substr(e.length - c) : "")
    }
    ;
    p.prototype.replace = function(a, e, c, f) {
        ma(e) && ma(c) && ma(f) ? a.rc(e.replace(new RegExp(ab(c),"gi"), f)) : a.rc(ma(e) ? e : "")
    }
    ;
    p.prototype.trim = function(a, e) {
        a.rc(ma(e) ? e.trim() : "")
    }
    ;
    p.prototype.rz = function(a) {
        this.b.na ? a.rc(this.b.na.name) : a.rc("")
    }
    ;
    p.prototype.Nw = function(a) {
        var e = B(Math.random() * (arguments.length - 1));
        a.Rp(arguments[e + 1])
    }
    ;
    p.prototype.Ln = function(a) {
        a.L(this.b.Ln / 1E3)
    }
    ;
    p.prototype.Hh = function(a) {
        a.L(this.b.Hh)
    }
    ;
    r.za = new p;
    r.jA = function() {
        var b, e, c, f, g, d, n = this.b.Za();
        b = 0;
        for (c = this.Jc.length; b < c; b++) {
            f = this.Jc[b];
            if (-1 === f.time) {
                if (!f.Tp)
                    continue
            } else if (f.time > this.b.ib.R)
                continue;
            n.fb = f.hh;
            n.yc = f.yc;
            n.eb = 0;
            for (e in f.tc)
                f.tc.hasOwnProperty(e) && (g = this.b.C[parseInt(e, 10)].Z(),
                d = f.tc[e],
                g.ea = d.Dm,
                Ca(g.e, d.Ce),
                g = d,
                U(g.Ce),
                a.push(g));
            f.hh.iA();
            this.b.Jn(f.Ga);
            f.Tn = !0
        }
        e = b = 0;
        for (c = this.Jc.length; b < c; b++)
            f = this.Jc[b],
            this.Jc[e] = f,
            f.Tn ? (Va(f.tc),
            U(f.Ga),
            l.push(f)) : e++;
        Aa(this.Jc, e)
    }
}
)();
(function() {
    mb = function(d, p) {
        var r = d[1]
          , n = d[3]
          , t = d[4]
          , l = d[5]
          , a = d[6]
          , b = d[7]
          , e = d[8];
        p.j || (p.j = {});
        p.A || (p.A = {});
        p.za || (p.za = {});
        var c = p.j
          , f = p.A
          , g = p.za;
        n && (c.UA = function(a, b) {
            return fc(this.x, a, b)
        }
        ,
        c.VA = function(a, b) {
            return fc(this.y, a, b)
        }
        ,
        c.ZA = function() {
            var a = this.n;
            this.Ha();
            var b = this.Ia;
            return !(b.right < a.qa || b.bottom < a.ra || b.left > a.Ea || b.top > a.Da)
        }
        ,
        c.$A = function() {
            this.Ha();
            var a = this.Ia
              , b = this.b.na;
            return 0 > a.right || 0 > a.bottom || a.left > b.width || a.top > b.height
        }
        ,
        c.lB = function(a, b, c) {
            var e = this.Z()
              , f = e.Nc();
            if (!f.length)
                return !1;
            var g = f[0], d = g, n = Sa(g.x, g.y, b, c), v, l, t;
            v = 1;
            for (l = f.length; v < l; v++)
                if (g = f[v],
                t = Sa(g.x, g.y, b, c),
                0 === a && t < n || 1 === a && t > n)
                    n = t,
                    d = g;
            e.Gj(d);
            return !0
        }
        ,
        f.zB = function(a) {
            this.x !== a && (this.x = a,
            this.F())
        }
        ,
        f.AB = function(a) {
            this.y !== a && (this.y = a,
            this.F())
        }
        ,
        f.$v = function(a, b) {
            if (this.x !== a || this.y !== b)
                this.x = a,
                this.y = b,
                this.F()
        }
        ,
        f.aw = function(a, b) {
            var c = a.Ay(this);
            if (c) {
                var e;
                c.Ji ? (e = c.Ji(b, !0),
                c = c.Ji(b, !1)) : (e = c.x,
                c = c.y);
                if (this.x !== e || this.y !== c)
                    this.x = e,
                    this.y = c,
                    this.F()
            }
        }
        ,
        f.eB = function(a) {
            0 !== a && (this.x += Math.cos(this.k) * a,
            this.y += Math.sin(this.k) * a,
            this.F())
        }
        ,
        f.dB = function(a, b) {
            0 !== b && (this.x += Math.cos(V(a)) * b,
            this.y += Math.sin(V(a)) * b,
            this.F())
        }
        ,
        g.Rq = function(a) {
            a.L(this.x)
        }
        ,
        g.vn = function(a) {
            a.L(this.y)
        }
        ,
        g.bg = function(a) {
            a.L(this.b.kg(this))
        }
        );
        t && (c.TA = function(a, b) {
            return fc(this.width, a, b)
        }
        ,
        c.SA = function(a, b) {
            return fc(this.height, a, b)
        }
        ,
        f.yB = function(a) {
            this.width !== a && (this.width = a,
            this.F())
        }
        ,
        f.vB = function(a) {
            this.height !== a && (this.height = a,
            this.F())
        }
        ,
        f.wB = function(a, b) {
            if (this.width !== a || this.height !== b)
                this.width = a,
                this.height = b,
                this.F()
        }
        ,
        g.CB = function(a) {
            a.L(this.width)
        }
        ,
        g.WA = function(a) {
            a.L(this.height)
        }
        ,
        g.PA = function(a) {
            this.Ha();
            a.L(this.Ia.left)
        }
        ,
        g.RA = function(a) {
            this.Ha();
            a.L(this.Ia.top)
        }
        ,
        g.QA = function(a) {
            this.Ha();
            a.L(this.Ia.right)
        }
        ,
        g.OA = function(a) {
            this.Ha();
            a.L(this.Ia.bottom)
        }
        );
        l && (c.Cu = function(a, b) {
            return Oa(this.k, V(b)) <= V(a)
        }
        ,
        c.Zu = function(a) {
            return Qa(this.k, V(a))
        }
        ,
        c.Xu = function(a, b) {
            var c = Ma(a)
              , e = Ma(b)
              , f = Ka(this.k);
            return Qa(e, c) ? Qa(f, c) && !Qa(f, e) : !(!Qa(f, c) && Qa(f, e))
        }
        ,
        f.tB = function(a) {
            a = V(Ia(a));
            isNaN(a) || this.k === a || (this.k = a,
            this.F())
        }
        ,
        f.pB = function(a) {
            0 === a || isNaN(a) || (this.k += V(a),
            this.k = Ka(this.k),
            this.F())
        }
        ,
        f.qB = function(a) {
            0 === a || isNaN(a) || (this.k -= V(a),
            this.k = Ka(this.k),
            this.F())
        }
        ,
        f.rB = function(a, b) {
            var c = Pa(this.k, V(b), V(a));
            isNaN(c) || this.k === c || (this.k = c,
            this.F())
        }
        ,
        f.sB = function(a, b, c) {
            a = Pa(this.k, Math.atan2(c - this.y, b - this.x), V(a));
            isNaN(a) || this.k === a || (this.k = a,
            this.F())
        }
        ,
        f.xB = function(a, b) {
            var c = Math.atan2(b - this.y, a - this.x);
            isNaN(c) || this.k === c || (this.k = c,
            this.F())
        }
        ,
        g.NA = function(a) {
            a.L(La(this.k))
        }
        );
        r || (c.Ku = function(a, b, c) {
            return fc(this.wb[a], b, c)
        }
        ,
        c.Yu = function(a) {
            return this.wb[a]
        }
        ,
        c.mB = function(a, b) {
            var c = this.Z()
              , e = c.Nc();
            if (!e.length)
                return !1;
            var f = e[0], g = f, d = f.wb[b], n, v, l;
            n = 1;
            for (v = e.length; n < v; n++)
                if (f = e[n],
                l = f.wb[b],
                0 === a && l < d || 1 === a && l > d)
                    d = l,
                    g = f;
            c.Gj(g);
            return !0
        }
        ,
        c.kB = function(a) {
            var b, c, e, f, g;
            if (this.b.mh().ph) {
                g = this.Z();
                if (g.ea)
                    for (g.ea = !1,
                    U(g.e),
                    U(g.Y),
                    e = this.e,
                    b = 0,
                    c = e.length; b < c; b++)
                        f = e[b],
                        f.uid === a ? g.Y.push(f) : g.e.push(f);
                else {
                    e = b = 0;
                    for (c = g.e.length; b < c; b++)
                        f = g.e[b],
                        g.e[e] = f,
                        f.uid === a ? g.Y.push(f) : e++;
                    Aa(g.e, e)
                }
                this.Dd();
                return !!g.e.length
            }
            f = this.b.mg(a);
            if (!f)
                return !1;
            g = this.Z();
            if (!g.ea && -1 === g.e.indexOf(f))
                return !1;
            if (this.I)
                for (a = f.type.Ra,
                b = 0,
                c = a.length; b < c; b++) {
                    if (a[b] === this)
                        return g.Gj(f),
                        this.Dd(),
                        !0
                }
            else if (f.type === this)
                return g.Gj(f),
                this.Dd(),
                !0;
            return !1
        }
        ,
        c.oi = function() {
            return !0
        }
        ,
        c.zq = function() {
            return !0
        }
        ,
        f.Vv = function(a, b) {
            var c = this.wb;
            ka(c[a]) ? c[a] = ka(b) ? b : parseFloat(b) : ma(c[a]) && (c[a] = ma(b) ? b : b.toString())
        }
        ,
        f.MA = function(a, b) {
            var c = this.wb;
            ka(c[a]) ? c[a] = ka(b) ? c[a] + b : c[a] + parseFloat(b) : ma(c[a]) && (c[a] = ma(b) ? c[a] + b : c[a] + b.toString())
        }
        ,
        f.lw = function(a, b) {
            var c = this.wb;
            ka(c[a]) && (c[a] = ka(b) ? c[a] - b : c[a] - parseFloat(b))
        }
        ,
        f.Rv = function(a, b) {
            this.wb[a] = b ? 1 : 0
        }
        ,
        f.ow = function(a) {
            this.wb[a] = 1 - this.wb[a]
        }
        ,
        f.tq = function() {
            this.b.Xd(this)
        }
        ,
        f.jv || (f.jv = function(a) {
            var b, c;
            try {
                b = JSON.parse(a)
            } catch (e) {
                return
            }
            this.b.Ul(this, b, !0);
            this.$d && this.$d();
            if (this.P)
                for (a = 0,
                b = this.P.length; a < b; ++a)
                    c = this.P[a],
                    c.$d && c.$d()
        }
        ),
        g.Nu = function(a) {
            var b = a.Eg.e.length, c, e, f;
            c = 0;
            for (e = this.b.Id.length; c < e; c++)
                f = this.b.Id[c],
                a.Eg.I ? 0 <= f.type.Ra.indexOf(a.Eg) && b++ : f.type === a.Eg && b++;
            a.Pa(b)
        }
        ,
        g.oB = function(a) {
            a.Pa(a.Eg.Z().Nc().length)
        }
        ,
        g.BB = function(a) {
            a.Pa(this.uid)
        }
        ,
        g.XA = function(a) {
            a.Pa(this.Mi())
        }
        ,
        g.Du || (g.Du = function(a) {
            a.rc(JSON.stringify(this.b.Kp(this, !0)))
        }
        ));
        a && (c.aB = function() {
            return this.visible
        }
        ,
        f.Qq = function(a) {
            !a !== !this.visible && (this.visible = !!a,
            this.b.ba = !0)
        }
        ,
        c.Lu = function(a, b) {
            return fc(ib(100 * this.opacity), a, b)
        }
        ,
        f.Zv = function(a) {
            a = a / 100;
            0 > a ? a = 0 : 1 < a && (a = 1);
            a !== this.opacity && (this.opacity = a,
            this.b.ba = !0)
        }
        ,
        g.Opacity = function(a) {
            a.L(ib(100 * this.opacity))
        }
        );
        b && (c.YA = function(a) {
            return a ? this.n === a : !1
        }
        ,
        c.nB = function(a) {
            var b = this.Z()
              , c = b.Nc();
            if (!c.length)
                return !1;
            var e = c[0], f = e, g, d;
            g = 1;
            for (d = c.length; g < d; g++)
                if (e = c[g],
                0 === a) {
                    if (e.n.index > f.n.index || e.n.index === f.n.index && e.he() > f.he())
                        f = e
                } else if (e.n.index < f.n.index || e.n.index === f.n.index && e.he() < f.he())
                    f = e;
            b.Gj(f);
            return !0
        }
        ,
        f.hB = function() {
            var a = this.n
              , b = a.e;
            b.length && b[b.length - 1] === this || (a.Vh(this, !1),
            a.ti(this, !1),
            this.b.ba = !0)
        }
        ,
        f.fB = function() {
            var a = this.n
              , b = a.e;
            b.length && b[0] === this || (a.Vh(this, !1),
            a.Vz(this),
            this.b.ba = !0)
        }
        ,
        f.gB = function(a) {
            a && a != this.n && (this.n.Vh(this, !0),
            this.n = a,
            a.ti(this, !0),
            this.b.ba = !0)
        }
        ,
        f.EB = function(a, b) {
            var c = 0 === a;
            if (b) {
                var e = b.Nr(this);
                e && e.uid !== this.uid && (this.n.index !== e.n.index && (this.n.Vh(this, !0),
                this.n = e.n,
                e.n.ti(this, !0)),
                this.n.zz(this, e, c),
                this.b.ba = !0)
            }
        }
        ,
        g.cB = function(a) {
            a.Pa(this.n.Xs)
        }
        ,
        g.bB = function(a) {
            a.rc(this.n.name)
        }
        ,
        g.DB = function(a) {
            a.Pa(this.he())
        }
        );
        e && (f.Uv = function(a, b) {
            if (this.b.B) {
                var c = this.type.ko(b);
                if (!(0 > c)) {
                    var e = 1 === a;
                    this.gf[c] !== e && (this.gf[c] = e,
                    this.Td(),
                    this.b.ba = !0)
                }
            }
        }
        ,
        f.uB = function(a, b, c) {
            if (this.b.B) {
                var e = this.type.ko(a);
                0 > e || (a = this.type.V[e],
                e = this.Ua[e],
                b = Math.floor(b),
                0 > b || b >= e.length || (1 === this.b.B.Ey(a.ob, b) && (c /= 100),
                e[b] !== c && (e[b] = c,
                a.Sa && (this.b.ba = !0))))
            }
        }
        )
    }
    ;
    Lb = function() {
        this.In = this.Ik = !0;
        this.type.Bk = !0;
        this.b.ba = !0;
        var d, p, r = this.En;
        d = 0;
        for (p = r.length; d < p; ++d)
            r[d](this);
        this.n.fd && this.Ha()
    }
    ;
    Mb = function(d) {
        d && this.En.push(d)
    }
    ;
    Ob = function() {
        if (this.Ik) {
            var d = this.Ia
              , p = this.Lc;
            d.set(this.x, this.y, this.x + this.width, this.y + this.height);
            d.offset(-this.Bc * this.width, -this.Cc * this.height);
            this.k ? (d.offset(-this.x, -this.y),
            p.St(d, this.k),
            p.offset(this.x, this.y),
            p.dr(d)) : p.Zh(d);
            d.normalize();
            this.Ik = !1;
            this.vu()
        }
    }
    ;
    var d = new wa(0,0,0,0);
    Pb = function() {
        if (this.n.fd) {
            var m = this.n.Xb
              , p = this.Ia;
            d.set(m.wc(p.left), m.xc(p.top), m.wc(p.right), m.xc(p.bottom));
            this.Ec.Fi(d) || (this.Ec.right < this.Ec.left ? m.update(this, null, d) : m.update(this, this.Ec, d),
            this.Ec.$g(d),
            this.n.Pd = !0)
        }
    }
    ;
    Qb = function() {
        if (this.In && this.Vc) {
            this.Ha();
            var m = this.type.yi
              , p = this.Ia;
            d.set(m.wc(p.left), m.xc(p.top), m.wc(p.right), m.xc(p.bottom));
            this.jd.Fi(d) || (this.jd.right < this.jd.left ? m.update(this, null, d) : m.update(this, this.jd, d),
            this.jd.$g(d),
            this.In = !1)
        }
    }
    ;
    Nb = function(d, p) {
        return this.Ia.ec(d, p) && this.Lc.ec(d, p) ? this.ei ? this.BA(d, p) : this.xa && !this.xa.uh() ? (this.xa.Wf(this.width, this.height, this.k),
        this.xa.ec(d - this.x, p - this.y)) : !0 : !1
    }
    ;
    Db = function() {
        this.type.bn();
        return this.qg
    }
    ;
    Rb = function() {
        this.n.mq();
        return this.Vd
    }
    ;
    Sb = function() {
        U(this.ua);
        var d, p, r, n = !0;
        d = 0;
        for (p = this.gf.length; d < p; d++)
            this.gf[d] && (r = this.type.V[d],
            this.ua.push(r),
            r.td || (n = !1));
        this.wu = !!this.ua.length;
        this.Te = n
    }
    ;
    Eb = function() {
        return "Inst" + this.At
    }
    ;
    rb = function(d) {
        if (d && d.lc && d.type != this) {
            var p, r, n;
            p = 0;
            for (r = d.siblings.length; p < r; p++)
                if (n = d.siblings[p],
                n.type == this)
                    return n
        }
        d = this.Z().Nc();
        return d.length ? d[0] : null
    }
    ;
    sb = function(d) {
        var p = this.Z().Nc();
        return p.length ? p[d.Mi() % p.length] : null
    }
    ;
    ob = function() {
        if (this.bi && !this.I) {
            var d, p;
            d = 0;
            for (p = this.e.length; d < p; d++)
                this.e[d].qg = d;
            var r = d
              , n = this.b.Id;
            d = 0;
            for (p = n.length; d < p; ++d)
                n[d].type === this && (n[d].qg = r++);
            this.bi = !1
        }
    }
    ;
    Bb = function(d) {
        if (d < this.e.length)
            return this.e[d];
        d -= this.e.length;
        var p = this.b.Id, r, n;
        r = 0;
        for (n = p.length; r < n; ++r)
            if (p[r].type === this) {
                if (0 === d)
                    return p[r];
                --d
            }
        return null
    }
    ;
    tb = function() {
        return this.Ve[this.be]
    }
    ;
    ub = function() {
        this.be++;
        this.be === this.Ve.length ? this.Ve.push(new nb(this)) : (this.Ve[this.be].ea = !0,
        U(this.Ve[this.be].Y))
    }
    ;
    vb = function() {
        this.be++;
        this.be === this.Ve.length && this.Ve.push(new nb(this));
        var d = this.Ve[this.be]
          , p = this.Ve[this.be - 1];
        p.ea ? (d.ea = !0,
        U(d.Y)) : (d.ea = !1,
        Ca(d.e, p.e),
        Ca(d.Y, p.Y))
    }
    ;
    wb = function() {
        this.be--
    }
    ;
    xb = function(d) {
        var p, r, n, t, l, a = 0;
        if (!this.I)
            for (p = 0,
            r = this.Ra.length; p < r; p++)
                for (l = this.Ra[p],
                n = 0,
                t = l.Ta.length; n < t; n++) {
                    if (d === l.Ta[n].name)
                        return this.H.lastBehIndex = a,
                        l.Ta[n];
                    a++
                }
        p = 0;
        for (r = this.Ta.length; p < r; p++) {
            if (d === this.Ta[p].name)
                return this.H.lastBehIndex = a,
                this.Ta[p];
            a++
        }
        return null
    }
    ;
    yb = function(d) {
        return this.ul(d) ? this.H.lastBehIndex : -1
    }
    ;
    zb = function(d) {
        var p, r;
        p = 0;
        for (r = this.V.length; p < r; p++)
            if (this.V[p].name === d)
                return p;
        return -1
    }
    ;
    Ab = function() {
        if (this.lc && !this.I) {
            var d, p, r, n, t, l, a;
            this.bn();
            l = this.Z();
            var b = l.ea
              , e = (d = this.b.Za()) && d.fb && d.fb.cd;
            d = 0;
            for (p = this.Mc.length; d < p; d++)
                if (t = this.Mc[d],
                t !== this && (t.bn(),
                a = t.Z(),
                a.ea = b,
                !b)) {
                    U(a.e);
                    r = 0;
                    for (n = l.e.length; r < n; ++r)
                        a.e[r] = t.lo(l.e[r].qg);
                    if (e)
                        for (U(a.Y),
                        r = 0,
                        n = l.Y.length; r < n; ++r)
                            a.Y[r] = t.lo(l.Y[r].qg)
                }
        }
    }
    ;
    Cb = function() {
        return "Type" + this.fa
    }
    ;
    fc = function(d, p, r) {
        if ("undefined" === typeof d || "undefined" === typeof r)
            return !1;
        switch (p) {
        case 0:
            return d === r;
        case 1:
            return d !== r;
        case 2:
            return d < r;
        case 3:
            return d <= r;
        case 4:
            return d > r;
        case 5:
            return d >= r;
        default:
            return !1
        }
    }
}
)();
var nc = {
    hsladjust: {
        src: "varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision mediump float;\nuniform float huerotate;\nuniform float satadjust;\nuniform float lumadjust;\nvec3 rgb_to_hsl(vec3 color)\n{\nvec3 hsl = vec3(0.0, 0.0, 0.0);\nfloat fmin = min(min(color.r, color.g), color.b);\nfloat fmax = max(max(color.r, color.g), color.b);\nfloat delta = fmax - fmin;\nhsl.z = (fmax + fmin) / 2.0;\nif (delta == 0.0)\n{\nhsl.x = 0.0;\nhsl.y = 0.0;\n}\nelse\n{\nif (hsl.z < 0.5)\nhsl.y = delta / (fmax + fmin);\nelse\nhsl.y = delta / (2.0 - fmax - fmin);\nfloat dR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\nfloat dG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\nfloat dB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\nif (color.r == fmax)\nhsl.x = dB - dG;\nelse if (color.g == fmax)\nhsl.x = (1.0 / 3.0) + dR - dB;\nelse if (color.b == fmax)\nhsl.x = (2.0 / 3.0) + dG - dR;\nif (hsl.x < 0.0)\nhsl.x += 1.0;\nelse if (hsl.x > 1.0)\nhsl.x -= 1.0;\n}\nreturn hsl;\n}\nfloat hue_to_rgb(float f1, float f2, float hue)\n{\nif (hue < 0.0)\nhue += 1.0;\nelse if (hue > 1.0)\nhue -= 1.0;\nfloat ret;\nif ((6.0 * hue) < 1.0)\nret = f1 + (f2 - f1) * 6.0 * hue;\nelse if ((2.0 * hue) < 1.0)\nret = f2;\nelse if ((3.0 * hue) < 2.0)\nret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\nelse\nret = f1;\nreturn ret;\n}\nvec3 hsl_to_rgb(vec3 hsl)\n{\nvec3 rgb = vec3(hsl.z);\nif (hsl.y != 0.0)\n{\nfloat f2;\nif (hsl.z < 0.5)\nf2 = hsl.z * (1.0 + hsl.y);\nelse\nf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\nfloat f1 = 2.0 * hsl.z - f2;\nrgb.r = hue_to_rgb(f1, f2, hsl.x + (1.0 / 3.0));\nrgb.g = hue_to_rgb(f1, f2, hsl.x);\nrgb.b = hue_to_rgb(f1, f2, hsl.x - (1.0 / 3.0));\n}\nreturn rgb;\n}\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nvec3 rgb = rgb_to_hsl(front.rgb) + vec3(huerotate, 0, (lumadjust - 1.0) * front.a);\nrgb.y *= satadjust;\nrgb = hsl_to_rgb(rgb);\ngl_FragColor = vec4(rgb, front.a);\n}",
        dl: 0,
        el: 0,
        On: !1,
        td: !0,
        Cn: !1,
        aa: [["huerotate", 0, 1], ["satadjust", 0, 1], ["lumadjust", 0, 1]]
    }
};
function rc(d) {
    this.b = d
}
(function() {
    function d(a) {
        -1 === pb.indexOf(a) && pb.push(a)
    }
    function m(a) {
        var b = a.q, c;
        try {
            c = b.play()
        } catch (e) {
            d(a);
            return
        }
        c ? c.catch(function() {
            d(a)
        }) : Jc && !F.ad && d(a)
    }
    function p() {
        var a, b, c, e;
        Kc || Hb || !w || (r(),
        "running" === w.state && (Kc = !0));
        var f = pb.slice(0);
        U(pb);
        if (!J)
            for (a = 0,
            b = f.length; a < b; ++a)
                c = f[a],
                c.Ib || c.Oc || (e = c.q.play()) && e.catch(function() {
                    d(c)
                })
    }
    function r() {
        "suspended" === w.state && w.resume && w.resume();
        if (w.createBuffer) {
            var a = w.createBuffer(1, 220, 22050)
              , b = w.createBufferSource();
            b.buffer = a;
            b.connect(w.destination);
            e(b)
        }
    }
    function n(a) {
        a = Math.pow(10, a / 20);
        isFinite(a) || (a = 0);
        0 > a && (a = 0);
        1 < a && (a = 1);
        return a
    }
    function t(a) {
        0 > a && (a = 0);
        1 < a && (a = 1);
        return Math.log(a) / Math.log(10) * 20
    }
    function l(a) {
        a = a.toLowerCase();
        return ca.hasOwnProperty(a) && ca[a].length ? ca[a][0].Yc() : w.destination
    }
    function a() {
        return w.createGain ? w.createGain() : w.createGainNode()
    }
    function b(a) {
        return w.createDelay ? w.createDelay(a) : w.createDelayNode(a)
    }
    function e(a, b) {
        a.start ? a.start(b || 0) : a.noteOn(b || 0)
    }
    function c(a, b, c, e) {
        a.start ? a.start(e || 0, b) : a.noteGrainOn(e || 0, b, c - b)
    }
    function f(a) {
        try {
            a.stop ? a.stop(0) : a.noteOff(0)
        } catch (b) {}
    }
    function g(b, c, e, f, d, g) {
        this.type = "filter";
        this.Vb = [b, c, e, f, d, g];
        this.ka = a();
        this.U = a();
        this.U.gain.value = g;
        this.T = a();
        this.T.gain.value = 1 - g;
        this.gb = w.createBiquadFilter();
        this.gb.type = "number" === typeof this.gb.type ? b : Pc[b];
        this.gb.frequency.value = c;
        this.gb.detune && (this.gb.detune.value = e);
        this.gb.Q.value = f;
        this.gb.gain.value = d;
        this.ka.connect(this.gb);
        this.ka.connect(this.T);
        this.gb.connect(this.U)
    }
    function h(c, e, f) {
        this.type = "delay";
        this.Vb = [c, e, f];
        this.ka = a();
        this.U = a();
        this.U.gain.value = f;
        this.T = a();
        this.T.gain.value = 1 - f;
        this.vj = a();
        this.md = b(c);
        this.md.delayTime.value = c;
        this.Yk = a();
        this.Yk.gain.value = e;
        this.ka.connect(this.vj);
        this.ka.connect(this.T);
        this.vj.connect(this.U);
        this.vj.connect(this.md);
        this.md.connect(this.Yk);
        this.Yk.connect(this.vj)
    }
    function y(b, c, e, f) {
        this.type = "convolve";
        this.Vb = [c, e, f];
        this.ka = a();
        this.U = a();
        this.U.gain.value = e;
        this.T = a();
        this.T.gain.value = 1 - e;
        this.Xf = w.createConvolver();
        b && (this.Xf.normalize = c,
        this.Xf.buffer = b);
        this.ka.connect(this.Xf);
        this.ka.connect(this.T);
        this.Xf.connect(this.U)
    }
    function I(c, f, d, g, k) {
        this.type = "flanger";
        this.Vb = [c, f, d, g, k];
        this.ka = a();
        this.T = a();
        this.T.gain.value = 1 - k / 2;
        this.U = a();
        this.U.gain.value = k / 2;
        this.il = a();
        this.il.gain.value = g;
        this.md = b(c + f);
        this.md.delayTime.value = c;
        this.Hb = w.createOscillator();
        this.Hb.frequency.value = d;
        this.Sc = a();
        this.Sc.gain.value = f;
        this.ka.connect(this.md);
        this.ka.connect(this.T);
        this.md.connect(this.U);
        this.md.connect(this.il);
        this.il.connect(this.md);
        this.Hb.connect(this.Sc);
        this.Sc.connect(this.md.delayTime);
        e(this.Hb)
    }
    function q(b, c, f, d, g, k) {
        this.type = "phaser";
        this.Vb = [b, c, f, d, g, k];
        this.ka = a();
        this.T = a();
        this.T.gain.value = 1 - k / 2;
        this.U = a();
        this.U.gain.value = k / 2;
        this.gb = w.createBiquadFilter();
        this.gb.type = "number" === typeof this.gb.type ? 7 : "allpass";
        this.gb.frequency.value = b;
        this.gb.detune && (this.gb.detune.value = c);
        this.gb.Q.value = f;
        this.Hb = w.createOscillator();
        this.Hb.frequency.value = g;
        this.Sc = a();
        this.Sc.gain.value = d;
        this.ka.connect(this.gb);
        this.ka.connect(this.T);
        this.gb.connect(this.U);
        this.Hb.connect(this.Sc);
        this.Sc.connect(this.gb.frequency);
        e(this.Hb)
    }
    function k(b) {
        this.type = "gain";
        this.Vb = [b];
        this.ma = a();
        this.ma.gain.value = b
    }
    function u(b, c) {
        this.type = "tremolo";
        this.Vb = [b, c];
        this.ma = a();
        this.ma.gain.value = 1 - c / 2;
        this.Hb = w.createOscillator();
        this.Hb.frequency.value = b;
        this.Sc = a();
        this.Sc.gain.value = c / 2;
        this.Hb.connect(this.Sc);
        this.Sc.connect(this.ma.gain);
        e(this.Hb)
    }
    function T(b, c) {
        this.type = "ringmod";
        this.Vb = [b, c];
        this.ka = a();
        this.U = a();
        this.U.gain.value = c;
        this.T = a();
        this.T.gain.value = 1 - c;
        this.Rj = a();
        this.Rj.gain.value = 0;
        this.Hb = w.createOscillator();
        this.Hb.frequency.value = b;
        this.Hb.connect(this.Rj.gain);
        e(this.Hb);
        this.ka.connect(this.Rj);
        this.ka.connect(this.T);
        this.Rj.connect(this.U)
    }
    function A(b, c, e, f, d) {
        this.type = "distortion";
        this.Vb = [b, c, e, f, d];
        this.ka = a();
        this.vm = a();
        this.um = a();
        this.qA(e, Math.pow(10, f / 20));
        this.U = a();
        this.U.gain.value = d;
        this.T = a();
        this.T.gain.value = 1 - d;
        this.kn = w.createWaveShaper();
        this.Wk = new Float32Array(65536);
        this.ny(b, c);
        this.kn.Wk = this.Wk;
        this.ka.connect(this.vm);
        this.ka.connect(this.T);
        this.vm.connect(this.kn);
        this.kn.connect(this.um);
        this.um.connect(this.U)
    }
    function v(a, b, c, e, f) {
        this.type = "compressor";
        this.Vb = [a, b, c, e, f];
        this.ma = w.createDynamicsCompressor();
        try {
            this.ma.threshold.value = a,
            this.ma.knee.value = b,
            this.ma.ratio.value = c,
            this.ma.attack.value = e,
            this.ma.release.value = f
        } catch (d) {}
    }
    function Y(a, b) {
        this.type = "analyser";
        this.Vb = [a, b];
        this.ma = w.createAnalyser();
        this.ma.fftSize = a;
        this.ma.smoothingTimeConstant = b;
        this.ly = new Float32Array(this.ma.frequencyBinCount);
        this.Vt = new Uint8Array(a);
        this.Ej = 0
    }
    function P() {
        this.Aa = null;
        this.Wl = 0
    }
    function M(b, c) {
        this.src = b;
        this.da = z;
        this.ie = c;
        this.Ak = !1;
        var e = this;
        this.Kh = this.Rh = null;
        this.Sh = [];
        this.Em = 0;
        this.qq = this.gl = this.au = this.om = !1;
        1 === z && c && !qb && (this.da = 0,
        this.Rh = a());
        this.we = this.la = null;
        var f;
        switch (this.da) {
        case 0:
            this.la = new Audio;
            this.la.crossOrigin = "anonymous";
            this.la.addEventListener("canplaythrough", function() {
                e.qq = !0
            });
            1 === z && w.createMediaElementSource && !/wiiu/i.test(navigator.userAgent) && (this.au = !0,
            this.la.addEventListener("canplay", function() {
                !e.Kh && e.la && (e.Kh = w.createMediaElementSource(e.la),
                e.Kh.connect(e.Rh))
            }));
            this.la.autoplay = !1;
            this.la.PB = "auto";
            this.la.src = b;
            break;
        case 1:
            F.Ll ? F.Dr(b, function(a) {
                e.we = a;
                e.or()
            }, function() {
                e.gl = !0
            }) : (f = new XMLHttpRequest,
            f.open("GET", b, !0),
            f.responseType = "arraybuffer",
            f.onload = function() {
                e.we = f.response;
                e.or()
            }
            ,
            f.onerror = function() {
                e.gl = !0
            }
            ,
            f.send());
            break;
        case 2:
            this.la = !0;
            break;
        case 3:
            this.la = !0
        }
    }
    function x(b, c) {
        var e = this;
        this.tag = c;
        this.Ib = this.ge = !0;
        this.src = b.src;
        this.buffer = b;
        this.da = z;
        this.ie = b.ie;
        this.playbackRate = 1;
        this.oh = !0;
        this.Oc = this.ed = !1;
        this.Fc = 0;
        this.$i = this.wh = this.ke = !1;
        this.volume = 1;
        this.pp = function(a) {
            if (!e.Oc && !e.ed) {
                var b = this;
                b || (b = a.target);
                b === e.yk && (e.oh = !0,
                e.Ib = !0,
                H = e.tag,
                F.trigger(rc.prototype.j.qk, R))
            }
        }
        ;
        this.yk = null;
        this.sh = 1 === ba && !this.ie || 2 === ba;
        this.Mh = 1;
        this.startTime = this.sh ? F.ib.R : F.cf.R;
        this.mb = this.tb = null;
        this.le = !1;
        this.Tb = null;
        this.kt = this.jt = this.it = this.ht = this.mt = this.lt = 0;
        this.q = null;
        var f = !1;
        1 !== this.da || 0 !== this.buffer.da || this.buffer.au || (this.da = 0);
        switch (this.da) {
        case 0:
            this.ie ? (this.q = b.la,
            f = !b.Ak,
            b.Ak = !0) : (this.q = new Audio,
            this.q.crossOrigin = "anonymous",
            this.q.autoplay = !1,
            this.q.src = b.la.src,
            f = !0);
            f && this.q.addEventListener("ended", function() {
                H = e.tag;
                e.Ib = !0;
                F.trigger(rc.prototype.j.qk, R)
            });
            break;
        case 1:
            this.tb = a();
            this.tb.connect(l(c));
            1 === this.buffer.da ? b.la && (this.q = w.createBufferSource(),
            this.q.buffer = b.la,
            this.q.connect(this.tb)) : (this.q = this.buffer.la,
            this.buffer.Rh.connect(this.tb),
            this.buffer.Ak || (this.buffer.Ak = !0,
            this.buffer.la.addEventListener("ended", function() {
                H = e.tag;
                e.Ib = !0;
                F.trigger(rc.prototype.j.qk, R)
            })));
            break;
        case 2:
            this.q = new window.Media(E + this.src,null,null,function(a) {
                a === window.Media.MEDIA_STOPPED && (e.oh = !0,
                e.Ib = !0,
                H = e.tag,
                F.trigger(rc.prototype.j.qk, R))
            }
            );
            break;
        case 3:
            this.q = !0
        }
    }
    function G(a) {
        U(Ba);
        if (a.length) {
            var b, c, e;
            b = 0;
            for (c = D.length; b < c; b++)
                e = D[b],
                jb(a, e.tag) && Ba.push(e)
        } else
            L && !L.pg() && (U(Ba),
            Ba[0] = L)
    }
    function C(a, b) {
        ca.hasOwnProperty(a) ? ca[a].push(b) : ca[a] = [b];
        var c, e, f, d, g = w.destination;
        if (ca.hasOwnProperty(a) && (f = ca[a],
        f.length))
            for (g = f[0].Yc(),
            c = 0,
            e = f.length; c < e; c++)
                d = f[c],
                c + 1 === e ? d.kd(w.destination) : d.kd(f[c + 1].Yc());
        G(a);
        c = 0;
        for (e = Ba.length; c < e; c++)
            Ba[c].cA(g);
        Ja && Jb === a && (Ja.disconnect(),
        Ja.connect(g))
    }
    function O() {}
    function Q() {}
    var N = rc.prototype;
    N.S = function(a) {
        this.Fa = a;
        this.b = a.b
    }
    ;
    N.S.prototype.G = function() {}
    ;
    var F = null
      , R = null
      , H = ""
      , E = ""
      , z = 0
      , w = null
      , K = []
      , D = []
      , L = null
      , S = !1
      , ba = 0
      , J = !1
      , Z = 1
      , aa = 0
      , la = 0
      , Hb = !1
      , Gb = 1
      , Ib = 1
      , Gc = 10
      , Hc = 1E4
      , Ic = 1
      , Ja = null
      , Jb = ""
      , Jc = !1
      , pb = []
      , qb = !1
      , Kc = !1;
    document.addEventListener("touchend", p, !0);
    document.addEventListener("click", p, !0);
    document.addEventListener("keydown", p, !0);
    var ca = {}
      , Pc = "lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");
    g.prototype.kd = function(a) {
        this.U.disconnect();
        this.U.connect(a);
        this.T.disconnect();
        this.T.connect(a)
    }
    ;
    g.prototype.remove = function() {
        this.ka.disconnect();
        this.gb.disconnect();
        this.U.disconnect();
        this.T.disconnect()
    }
    ;
    g.prototype.Yc = function() {
        return this.ka
    }
    ;
    h.prototype.kd = function(a) {
        this.U.disconnect();
        this.U.connect(a);
        this.T.disconnect();
        this.T.connect(a)
    }
    ;
    h.prototype.remove = function() {
        this.ka.disconnect();
        this.vj.disconnect();
        this.md.disconnect();
        this.Yk.disconnect();
        this.U.disconnect();
        this.T.disconnect()
    }
    ;
    h.prototype.Yc = function() {
        return this.ka
    }
    ;
    y.prototype.kd = function(a) {
        this.U.disconnect();
        this.U.connect(a);
        this.T.disconnect();
        this.T.connect(a)
    }
    ;
    y.prototype.remove = function() {
        this.ka.disconnect();
        this.Xf.disconnect();
        this.U.disconnect();
        this.T.disconnect()
    }
    ;
    y.prototype.Yc = function() {
        return this.ka
    }
    ;
    I.prototype.kd = function(a) {
        this.T.disconnect();
        this.T.connect(a);
        this.U.disconnect();
        this.U.connect(a)
    }
    ;
    I.prototype.remove = function() {
        this.ka.disconnect();
        this.md.disconnect();
        this.Hb.disconnect();
        this.Sc.disconnect();
        this.T.disconnect();
        this.U.disconnect();
        this.il.disconnect()
    }
    ;
    I.prototype.Yc = function() {
        return this.ka
    }
    ;
    q.prototype.kd = function(a) {
        this.T.disconnect();
        this.T.connect(a);
        this.U.disconnect();
        this.U.connect(a)
    }
    ;
    q.prototype.remove = function() {
        this.ka.disconnect();
        this.gb.disconnect();
        this.Hb.disconnect();
        this.Sc.disconnect();
        this.T.disconnect();
        this.U.disconnect()
    }
    ;
    q.prototype.Yc = function() {
        return this.ka
    }
    ;
    k.prototype.kd = function(a) {
        this.ma.disconnect();
        this.ma.connect(a)
    }
    ;
    k.prototype.remove = function() {
        this.ma.disconnect()
    }
    ;
    k.prototype.Yc = function() {
        return this.ma
    }
    ;
    u.prototype.kd = function(a) {
        this.ma.disconnect();
        this.ma.connect(a)
    }
    ;
    u.prototype.remove = function() {
        this.Hb.disconnect();
        this.Sc.disconnect();
        this.ma.disconnect()
    }
    ;
    u.prototype.Yc = function() {
        return this.ma
    }
    ;
    T.prototype.kd = function(a) {
        this.U.disconnect();
        this.U.connect(a);
        this.T.disconnect();
        this.T.connect(a)
    }
    ;
    T.prototype.remove = function() {
        this.Hb.disconnect();
        this.Rj.disconnect();
        this.ka.disconnect();
        this.U.disconnect();
        this.T.disconnect()
    }
    ;
    T.prototype.Yc = function() {
        return this.ka
    }
    ;
    A.prototype.qA = function(a, b) {
        .01 > a && (a = .01);
        this.vm.gain.value = a;
        this.um.gain.value = Math.pow(1 / a, .6) * b
    }
    ;
    A.prototype.shape = function(a, b, c) {
        var e = 1.05 * c * b - b;
        c = 0 > a ? -1 : 1;
        a = 0 > a ? -a : a;
        b = a < b ? a : b + e * (1 - Math.exp(-(1 / e) * (a - b)));
        return b * c
    }
    ;
    A.prototype.ny = function(a, b) {
        for (var c = Math.pow(10, a / 20), e = Math.pow(10, b / 20), f = 0, d = 0; 32768 > d; ++d)
            f = d / 32768,
            f = this.shape(f, c, e),
            this.Wk[32768 + d] = f,
            this.Wk[32768 - d - 1] = -f
    }
    ;
    A.prototype.kd = function(a) {
        this.U.disconnect();
        this.U.connect(a);
        this.T.disconnect();
        this.T.connect(a)
    }
    ;
    A.prototype.remove = function() {
        this.ka.disconnect();
        this.vm.disconnect();
        this.kn.disconnect();
        this.um.disconnect();
        this.U.disconnect();
        this.T.disconnect()
    }
    ;
    A.prototype.Yc = function() {
        return this.ka
    }
    ;
    v.prototype.kd = function(a) {
        this.ma.disconnect();
        this.ma.connect(a)
    }
    ;
    v.prototype.remove = function() {
        this.ma.disconnect()
    }
    ;
    v.prototype.Yc = function() {
        return this.ma
    }
    ;
    Y.prototype.La = function() {
        this.ma.getFloatFrequencyData(this.ly);
        this.ma.getByteTimeDomainData(this.Vt);
        for (var a = this.ma.fftSize, b = 0, c = this.Ej = 0, e = 0; b < a; b++)
            e = (this.Vt[b] - 128) / 128,
            0 > e && (e = -e),
            this.Ej < e && (this.Ej = e),
            c += e * e;
        this.Ej = t(this.Ej);
        t(Math.sqrt(c / a))
    }
    ;
    Y.prototype.kd = function(a) {
        this.ma.disconnect();
        this.ma.connect(a)
    }
    ;
    Y.prototype.remove = function() {
        this.ma.disconnect()
    }
    ;
    Y.prototype.Yc = function() {
        return this.ma
    }
    ;
    P.prototype.Sj = function(a) {
        this.Aa = a
    }
    ;
    P.prototype.Dl = function() {
        return !!this.Aa
    }
    ;
    P.prototype.La = function() {}
    ;
    M.prototype.dA = function() {
        var a, b, c, e;
        c = a = 0;
        for (b = D.length; a < b; ++a)
            e = D[a],
            D[c] = e,
            e.buffer === this ? e.stop() : ++c;
        D.length = c;
        this.Kh && (this.Kh.disconnect(),
        this.Kh = null);
        this.Rh && (this.Rh.disconnect(),
        this.Rh = null);
        this.we = this.la = null
    }
    ;
    M.prototype.or = function() {
        if (!this.la && this.we) {
            var a = this;
            if (w.decodeAudioData)
                w.decodeAudioData(this.we, function(b) {
                    a.la = b;
                    a.we = null;
                    var c, e, f;
                    if (ja(a.qm) || J)
                        ja(a.Rk) || (c = a.Rk.Xf,
                        c.normalize = a.Ws,
                        c.buffer = b);
                    else if (a.Sh.length) {
                        c = 0;
                        for (e = a.Sh.length; c < e; c++) {
                            b = a.Sh[c];
                            f = new x(a,b.eu);
                            f.Pp(!0);
                            if ("undefined" !== typeof b.Ys && (b.Aa = F.mg(b.Ys),
                            !b.Aa))
                                continue;
                            if (b.Aa) {
                                var d = Ra(b.Aa.x, b.Aa.y, -b.Aa.n.Qb(), aa, la, !0)
                                  , g = Ra(b.Aa.x, b.Aa.y, -b.Aa.n.Qb(), aa, la, !1);
                                f.Op(d, g, Ha(b.Aa.k - b.Aa.n.Qb()), b.zo, b.jp, b.mp);
                                f.Sj(b.Aa)
                            } else
                                f.Op(b.x, b.y, b.yw, b.zo, b.jp, b.mp);
                            f.play(a.bp, a.pq, a.Em);
                            a.om && f.pause();
                            D.push(f)
                        }
                        U(a.Sh)
                    } else
                        f = new x(a,a.qm || ""),
                        f.play(a.bp, a.pq, a.Em),
                        a.om && f.pause(),
                        D.push(f)
                }, function() {
                    a.gl = !0
                });
            else if (this.la = w.createBuffer(this.we, !1),
            this.we = null,
            ja(this.qm) || J)
                ja(this.Rk) || (b = this.Rk.Xf,
                b.normalize = this.Ws,
                b.buffer = this.la);
            else {
                var b = new x(this,this.qm);
                b.play(this.bp, this.pq, this.Em);
                this.om && b.pause();
                D.push(b)
            }
        }
    }
    ;
    M.prototype.ds = function() {
        switch (this.da) {
        case 0:
            var a = 4 <= this.la.readyState;
            a && (this.qq = !0);
            return a || this.qq;
        case 1:
            return !!this.we || !!this.la;
        case 2:
            return !0;
        case 3:
            return !0
        }
        return !1
    }
    ;
    M.prototype.hz = function() {
        switch (this.da) {
        case 0:
            return this.ds();
        case 1:
            return !!this.la;
        case 2:
            return !0;
        case 3:
            return !0
        }
        return !1
    }
    ;
    M.prototype.Xy = function() {
        switch (this.da) {
        case 0:
            return !!this.la.error;
        case 1:
            return this.gl
        }
        return !1
    }
    ;
    x.prototype.pg = function() {
        switch (this.da) {
        case 0:
            return this.q.ended;
        case 1:
            return 1 === this.buffer.da ? !this.ge && !this.Ib && this.q.loop || this.Oc ? !1 : this.oh : this.q.ended;
        case 2:
            return this.oh;
        case 3:
            !0
        }
        return !0
    }
    ;
    x.prototype.Lw = function() {
        return this.ge || this.Ib ? !0 : this.pg()
    }
    ;
    x.prototype.Pp = function(a) {
        1 === z && (!this.le && a ? this.tb && (this.mb || (this.mb = w.createPanner(),
        this.mb.panningModel = "number" === typeof this.mb.panningModel ? Gb : ["equalpower", "HRTF", "soundfield"][Gb],
        this.mb.distanceModel = "number" === typeof this.mb.distanceModel ? Ib : ["linear", "inverse", "exponential"][Ib],
        this.mb.refDistance = Gc,
        this.mb.maxDistance = Hc,
        this.mb.rolloffFactor = Ic),
        this.tb.disconnect(),
        this.tb.connect(this.mb),
        this.mb.connect(l(this.tag)),
        this.le = !0) : this.le && !a && this.tb && (this.mb.disconnect(),
        this.tb.disconnect(),
        this.tb.connect(l(this.tag)),
        this.le = !1))
    }
    ;
    x.prototype.Op = function(a, b, c, e, f, d) {
        this.le && 1 === z && (this.mb.setPosition(a, b, 0),
        this.mb.setOrientation(Math.cos(V(c)), Math.sin(V(c)), 0),
        this.mb.coneInnerAngle = e,
        this.mb.coneOuterAngle = f,
        this.mb.coneOuterGain = d,
        this.lt = a,
        this.mt = b,
        this.ht = c,
        this.it = e,
        this.jt = f,
        this.kt = d)
    }
    ;
    x.prototype.Sj = function(a) {
        this.le && 1 === z && (this.Tb || (this.Tb = new P),
        this.Tb.Sj(a))
    }
    ;
    x.prototype.La = function(a) {
        if (this.le && 1 === z && this.Tb && this.Tb.Dl() && this.rh()) {
            this.Tb.La(a);
            a = this.Tb.Aa;
            var b = Ra(a.x, a.y, -a.n.Qb(), aa, la, !0)
              , c = Ra(a.x, a.y, -a.n.Qb(), aa, la, !1);
            this.mb.setPosition(b, c, 0);
            b = 0;
            "undefined" !== typeof this.Tb.Aa.k && (b = a.k - a.n.Qb(),
            this.mb.setOrientation(Math.cos(b), Math.sin(b), 0))
        }
    }
    ;
    x.prototype.play = function(a, b, f, d) {
        var g = this.q;
        this.ke = a;
        this.volume = b;
        f = f || 0;
        d = d || 0;
        switch (this.da) {
        case 0:
            1 !== g.playbackRate && (g.playbackRate = 1);
            g.volume !== b * Z && (g.volume = b * Z);
            g.loop !== a && (g.loop = a);
            g.muted && (g.muted = !1);
            if (g.currentTime !== f)
                try {
                    g.currentTime = f
                } catch (k) {}
            m(this);
            break;
        case 1:
            this.muted = !1;
            this.Mh = 1;
            if (1 === this.buffer.da)
                this.tb.gain.value = b * Z,
                this.ge || (this.q = w.createBufferSource(),
                this.q.buffer = this.buffer.la,
                this.q.connect(this.tb)),
                this.q.onended = this.pp,
                this.yk = this.q,
                this.q.loop = a,
                this.oh = !1,
                0 === f ? e(this.q, d) : c(this.q, f, this.lg(), d);
            else {
                1 !== g.playbackRate && (g.playbackRate = 1);
                g.loop !== a && (g.loop = a);
                g.volume = b * Z;
                if (g.currentTime !== f)
                    try {
                        g.currentTime = f
                    } catch (h) {}
                m(this)
            }
            break;
        case 2:
            (!this.ge && this.Ib || 0 !== f) && g.seekTo(f);
            g.play();
            this.oh = !1;
            break;
        case 3:
            F.kc ? AppMobi.context.playSound(this.src, a) : AppMobi.player.playSound(this.src, a)
        }
        this.playbackRate = 1;
        this.startTime = (this.sh ? F.ib.R : F.cf.R) - f;
        this.Oc = this.Ib = this.ge = !1
    }
    ;
    x.prototype.stop = function() {
        switch (this.da) {
        case 0:
            this.q.paused || this.q.pause();
            break;
        case 1:
            1 === this.buffer.da ? f(this.q) : this.q.paused || this.q.pause();
            break;
        case 2:
            this.q.stop();
            break;
        case 3:
            F.kc && AppMobi.context.stopSound(this.src)
        }
        this.Ib = !0;
        this.Oc = !1
    }
    ;
    x.prototype.pause = function() {
        if (!(this.ge || this.Ib || this.pg() || this.Oc)) {
            switch (this.da) {
            case 0:
                this.q.paused || this.q.pause();
                break;
            case 1:
                1 === this.buffer.da ? (this.Fc = this.oo(!0),
                this.ke && (this.Fc = this.Fc % this.lg()),
                this.Oc = !0,
                f(this.q)) : this.q.paused || this.q.pause();
                break;
            case 2:
                this.q.pause();
                break;
            case 3:
                F.kc && AppMobi.context.stopSound(this.src)
            }
            this.Oc = !0
        }
    }
    ;
    x.prototype.hA = function() {
        if (!(this.ge || this.Ib || this.pg()) && this.Oc) {
            switch (this.da) {
            case 0:
                m(this);
                break;
            case 1:
                1 === this.buffer.da ? (this.q = w.createBufferSource(),
                this.q.buffer = this.buffer.la,
                this.q.connect(this.tb),
                this.q.onended = this.pp,
                this.yk = this.q,
                this.q.loop = this.ke,
                this.tb.gain.value = Z * this.volume * this.Mh,
                this.cn(),
                this.startTime = (this.sh ? F.ib.R : F.cf.R) - this.Fc / (this.playbackRate || .001),
                c(this.q, this.Fc, this.lg())) : m(this);
                break;
            case 2:
                this.q.play();
                break;
            case 3:
                F.kc && AppMobi.context.resumeSound(this.src)
            }
            this.Oc = !1
        }
    }
    ;
    x.prototype.seek = function(a) {
        if (!(this.ge || this.Ib || this.pg()))
            switch (this.da) {
            case 0:
                try {
                    this.q.currentTime = a
                } catch (b) {}
                break;
            case 1:
                if (1 === this.buffer.da)
                    this.Oc ? this.Fc = a : (this.pause(),
                    this.Fc = a,
                    this.hA());
                else
                    try {
                        this.q.currentTime = a
                    } catch (c) {}
                break;
            case 3:
                F.kc && AppMobi.context.seekSound(this.src, a)
            }
    }
    ;
    x.prototype.cA = function(a) {
        1 === this.da && (this.le ? (this.mb.disconnect(),
        this.mb.connect(a)) : (this.tb.disconnect(),
        this.tb.connect(a)))
    }
    ;
    x.prototype.lg = function() {
        var a = 0;
        switch (this.da) {
        case 0:
            "undefined" !== typeof this.q.duration && (a = this.q.duration);
            break;
        case 1:
            a = this.buffer.la.duration;
            break;
        case 2:
            a = this.q.getDuration();
            break;
        case 3:
            F.kc && (a = AppMobi.context.getDurationSound(this.src))
        }
        return a
    }
    ;
    x.prototype.oo = function(a) {
        var b = this.lg()
          , c = 0;
        switch (this.da) {
        case 0:
            "undefined" !== typeof this.q.currentTime && (c = this.q.currentTime);
            break;
        case 1:
            if (1 === this.buffer.da) {
                if (this.Oc)
                    return this.Fc;
                c = (this.sh ? F.ib.R : F.cf.R) - this.startTime
            } else
                "undefined" !== typeof this.q.currentTime && (c = this.q.currentTime);
            break;
        case 3:
            F.kc && (c = AppMobi.context.getPlaybackTimeSound(this.src))
        }
        a && (c *= this.playbackRate);
        !this.ke && c > b && (c = b);
        return c
    }
    ;
    x.prototype.rh = function() {
        return !this.Oc && !this.ge && !this.Ib && !this.pg()
    }
    ;
    x.prototype.wA = function() {
        return !this.ge && !this.Ib && !this.pg()
    }
    ;
    x.prototype.vA = function(a) {
        this.volume = a;
        this.uu()
    }
    ;
    x.prototype.uu = function() {
        var a = this.volume * Z;
        isFinite(a) || (a = 0);
        switch (this.da) {
        case 0:
            "undefined" !== typeof this.q.volume && this.q.volume !== a && (this.q.volume = a);
            break;
        case 1:
            1 === this.buffer.da ? this.tb.gain.value = a * this.Mh : "undefined" !== typeof this.q.volume && this.q.volume !== a && (this.q.volume = a)
        }
    }
    ;
    x.prototype.bl = function(a) {
        switch (this.da) {
        case 0:
            this.q.muted !== !!a && (this.q.muted = !!a);
            break;
        case 1:
            1 === this.buffer.da ? (this.Mh = a ? 0 : 1,
            this.tb.gain.value = Z * this.volume * this.Mh) : this.q.muted !== !!a && (this.q.muted = !!a)
        }
    }
    ;
    x.prototype.rA = function() {
        this.wh = !0;
        this.bl(this.wh || this.$i)
    }
    ;
    x.prototype.Ot = function(a) {
        this.$i = !!a;
        this.bl(this.wh || this.$i)
    }
    ;
    x.prototype.cn = function() {
        var a = this.playbackRate;
        this.sh && (a *= F.Qg);
        switch (this.da) {
        case 0:
            this.q.playbackRate !== a && (this.q.playbackRate = a);
            break;
        case 1:
            1 === this.buffer.da ? this.q.playbackRate.value !== a && (this.q.playbackRate.value = a) : this.q.playbackRate !== a && (this.q.playbackRate = a)
        }
    }
    ;
    x.prototype.tA = function(a) {
        switch (this.da) {
        case 0:
            a ? this.rh() ? (this.ed = !0,
            this.q.pause()) : this.ed = !1 : this.ed && (this.q.play(),
            this.ed = !1);
            break;
        case 1:
            a ? this.rh() ? (this.ed = !0,
            1 === this.buffer.da ? (this.Fc = this.oo(!0),
            this.ke && (this.Fc = this.Fc % this.lg()),
            f(this.q)) : this.q.pause()) : this.ed = !1 : this.ed && (1 === this.buffer.da ? (this.q = w.createBufferSource(),
            this.q.buffer = this.buffer.la,
            this.q.connect(this.tb),
            this.q.onended = this.pp,
            this.yk = this.q,
            this.q.loop = this.ke,
            this.tb.gain.value = Z * this.volume * this.Mh,
            this.cn(),
            this.startTime = (this.sh ? F.ib.R : F.cf.R) - this.Fc / (this.playbackRate || .001),
            c(this.q, this.Fc, this.lg())) : this.q.play(),
            this.ed = !1);
            break;
        case 2:
            a ? this.rh() ? (this.q.pause(),
            this.ed = !0) : this.ed = !1 : this.ed && (this.ed = !1,
            this.q.play())
        }
    }
    ;
    N.K = function(a) {
        this.type = a;
        F = this.b = a.b;
        R = this;
        this.Rc = null;
        this.mj = -600;
        this.b.Ll && (qb = !0);
        !(this.b.bj || this.b.Gl && (this.b.Io || this.b.Hl)) || this.b.Jl || this.b.hb || this.b.bs || qb || (Jc = !0);
        w = null;
        "undefined" !== typeof AudioContext ? (z = 1,
        w = new AudioContext) : "undefined" !== typeof webkitAudioContext && (z = 1,
        w = new webkitAudioContext);
        this.b.bj && w && (w.close && w.close(),
        "undefined" !== typeof AudioContext ? w = new AudioContext : "undefined" !== typeof webkitAudioContext && (w = new webkitAudioContext));
        1 !== z && (this.b.De && "undefined" !== typeof window.Media ? z = 2 : this.b.cs && (z = 3));
        2 === z && (E = location.href,
        a = E.lastIndexOf("/"),
        -1 < a && (E = E.substr(0, a + 1)),
        E = E.replace("file://", ""));
        if (this.b.jz && this.b.kz && "undefined" === typeof Audio)
            alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),
            this.b.Xd(this);
        else {
            if (this.b.kc)
                S = this.b.Gl;
            else
                try {
                    S = !!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')
                } catch (b) {
                    S = !1
                }
            this.b.di(this)
        }
    }
    ;
    var va = N.K.prototype;
    va.G = function() {
        this.b.Wg = this;
        ba = this.u[0];
        this.Se = this.u[1];
        this.Nz = 0 !== this.u[2];
        this.Us = 0;
        Gb = this.u[3];
        Ib = this.u[4];
        this.mj = -this.u[5];
        Gc = this.u[6];
        Hc = this.u[7];
        Ic = this.u[8];
        this.Rc = new P;
        var a = this.b.N || this.b.width
          , b = this.b.M || this.b.height;
        1 === z && (w.listener.setPosition(a / 2, b / 2, this.mj),
        w.listener.setOrientation(0, 0, 1, 0, -1, 0),
        window.c2OnAudioMicStream = function(a, b) {
            Ja && Ja.disconnect();
            Jb = b.toLowerCase();
            Ja = w.createMediaStreamSource(a);
            Ja.connect(l(Jb))
        }
        );
        this.b.Xq(function(a) {
            R.Iz(a)
        });
        var c = this;
        this.b.zk(function(a) {
            c.Bj(a)
        })
    }
    ;
    va.Bj = function(a) {
        var b, c, e;
        b = 0;
        for (c = D.length; b < c; b++)
            e = D[b],
            e.Tb && e.Tb.Aa === a && (e.Tb.Aa = null,
            e.le && e.rh() && e.ke && e.stop());
        this.Rc.Aa === a && (this.Rc.Aa = null)
    }
    ;
    va.cb = function() {
        var a = {
            silent: J,
            masterVolume: Z,
            listenerZ: this.mj,
            listenerUid: this.Rc.Dl() ? this.Rc.Aa.uid : -1,
            playing: [],
            effects: {}
        }, b = a.playing, c, e, f, d, g, k;
        c = 0;
        for (e = D.length; c < e; c++)
            f = D[c],
            !f.wA() || 3 === this.Se || f.ie && 1 === this.Se || !f.ie && 2 === this.Se || (d = f.oo(),
            f.ke && (d = d % f.lg()),
            d = {
                tag: f.tag,
                buffersrc: f.buffer.src,
                is_music: f.ie,
                playbackTime: d,
                volume: f.volume,
                looping: f.ke,
                muted: f.wh,
                playbackRate: f.playbackRate,
                paused: f.Oc,
                resume_position: f.Fc
            },
            f.le && (d.pan = {},
            k = d.pan,
            f.Tb && f.Tb.Dl() ? k.objUid = f.Tb.Aa.uid : (k.x = f.lt,
            k.y = f.mt,
            k.a = f.ht),
            k.ia = f.it,
            k.oa = f.jt,
            k.og = f.kt),
            b.push(d));
        b = a.effects;
        for (g in ca)
            if (ca.hasOwnProperty(g)) {
                f = [];
                c = 0;
                for (e = ca[g].length; c < e; c++)
                    f.push({
                        type: ca[g][c].type,
                        params: ca[g][c].Vb
                    });
                b[g] = f
            }
        return a
    }
    ;
    var cb = [];
    va.yb = function(a) {
        var b = a.silent;
        Z = a.masterVolume;
        this.mj = a.listenerZ;
        this.Rc.Sj(null);
        var c = a.listenerUid;
        -1 !== c && (this.Rc.Wl = c,
        cb.push(this.Rc));
        var c = a.playing, e, f, d, n, l, t, r, p, m, x, G;
        if (3 !== this.Se)
            for (e = 0,
            f = D.length; e < f; e++)
                m = D[e],
                m.ie && 1 === this.Se || (m.ie || 2 !== this.Se) && m.stop();
        for (l in ca)
            if (ca.hasOwnProperty(l))
                for (e = 0,
                f = ca[l].length; e < f; e++)
                    ca[l][e].remove();
        Va(ca);
        for (l in a.effects)
            if (a.effects.hasOwnProperty(l))
                for (t = a.effects[l],
                e = 0,
                f = t.length; e < f; e++)
                    switch (d = t[e].type,
                    x = t[e].params,
                    d) {
                    case "filter":
                        C(l, new g(x[0],x[1],x[2],x[3],x[4],x[5]));
                        break;
                    case "delay":
                        C(l, new h(x[0],x[1],x[2]));
                        break;
                    case "convolve":
                        d = x[2];
                        m = this.tl(d, !1);
                        m.la ? d = new y(m.la,x[0],x[1],d) : (d = new y(null,x[0],x[1],d),
                        m.Ws = x[0],
                        m.Rk = d);
                        C(l, d);
                        break;
                    case "flanger":
                        C(l, new I(x[0],x[1],x[2],x[3],x[4]));
                        break;
                    case "phaser":
                        C(l, new q(x[0],x[1],x[2],x[3],x[4],x[5]));
                        break;
                    case "gain":
                        C(l, new k(x[0]));
                        break;
                    case "tremolo":
                        C(l, new u(x[0],x[1]));
                        break;
                    case "ringmod":
                        C(l, new T(x[0],x[1]));
                        break;
                    case "distortion":
                        C(l, new A(x[0],x[1],x[2],x[3],x[4]));
                        break;
                    case "compressor":
                        C(l, new v(x[0],x[1],x[2],x[3],x[4]));
                        break;
                    case "analyser":
                        C(l, new Y(x[0],x[1]))
                    }
        e = 0;
        for (f = c.length; e < f; e++)
            3 === this.Se || (a = c[e],
            d = a.buffersrc,
            n = a.is_music,
            l = a.tag,
            t = a.playbackTime,
            r = a.looping,
            p = a.volume,
            G = (x = a.pan) && x.hasOwnProperty("objUid") ? x.objUid : -1,
            n && 1 === this.Se) || !n && 2 === this.Se || ((m = this.Jr(d, l, n, r, p)) ? (m.Fc = a.resume_position,
            m.Pp(!!x),
            m.play(r, p, t),
            m.cn(),
            m.uu(),
            m.bl(m.wh || m.$i),
            a.paused && m.pause(),
            a.muted && m.rA(),
            m.bl(m.wh || m.$i),
            x && (-1 !== G ? (m.Tb = m.Tb || new P,
            m.Tb.Wl = G,
            cb.push(m.Tb)) : m.Op(x.x, x.y, x.a, x.ia, x.oa, x.og))) : (m = this.tl(d, n),
            m.Em = t,
            m.om = a.paused,
            x && (-1 !== G ? m.Sh.push({
                Ys: G,
                zo: x.ia,
                jp: x.oa,
                mp: x.og,
                eu: l
            }) : m.Sh.push({
                x: x.x,
                y: x.y,
                yw: x.a,
                zo: x.ia,
                jp: x.oa,
                mp: x.og,
                eu: l
            }))));
        if (b && !J) {
            e = 0;
            for (f = D.length; e < f; e++)
                D[e].Ot(!0);
            J = !0
        } else if (!b && J) {
            e = 0;
            for (f = D.length; e < f; e++)
                D[e].Ot(!1);
            J = !1
        }
    }
    ;
    va.$d = function() {
        var a, b, c, e;
        a = 0;
        for (b = cb.length; a < b; a++)
            c = cb[a],
            e = this.b.mg(c.Wl),
            c.Sj(e),
            c.Wl = -1,
            e && (aa = e.x,
            la = e.y);
        U(cb)
    }
    ;
    va.Iz = function(a) {
        if (!this.Nz) {
            !a && w && w.resume && (w.resume(),
            Hb = !1);
            var b, c;
            b = 0;
            for (c = D.length; b < c; b++)
                D[b].tA(a);
            a && w && w.suspend && (w.suspend(),
            Hb = !0)
        }
    }
    ;
    va.La = function() {
        var a = this.b.bg, b, c, e;
        b = 0;
        for (c = D.length; b < c; b++)
            e = D[b],
            e.La(a),
            0 !== ba && e.cn();
        var f, d;
        for (f in ca)
            if (ca.hasOwnProperty(f))
                for (e = ca[f],
                b = 0,
                c = e.length; b < c; b++)
                    d = e[b],
                    d.La && d.La();
        1 === z && this.Rc.Dl() && (this.Rc.La(a),
        aa = this.Rc.Aa.x,
        la = this.Rc.Aa.y,
        w.listener.setPosition(this.Rc.Aa.x, this.Rc.Aa.y, this.mj))
    }
    ;
    var db = [];
    va.sA = function(a) {
        var b, c, e, f, d, g = 0;
        b = 0;
        for (c = a.length; b < c; ++b)
            if (e = a[b],
            f = e[0],
            e = 2 * e[1],
            (d = 4 < f.length && ".ogg" === f.substr(f.length - 4)) && S || !d && !S)
                db.push({
                    filename: f,
                    size: e,
                    Aa: null
                }),
                g += e;
        return g
    }
    ;
    va.yA = function() {
        var a, b, c, e;
        a = 0;
        for (b = db.length; a < b; ++a)
            c = db[a],
            e = this.b.Zn + c.filename,
            c.Aa = this.tl(e, !1)
    }
    ;
    va.By = function() {
        var a = 0, b, c, e;
        b = 0;
        for (c = db.length; b < c; ++b)
            e = db[b],
            e.Aa.hz() || e.Aa.Xy() || this.b.hb || this.b.Hl ? a += e.size : e.Aa.ds() && (a += Math.floor(e.size / 2));
        return a
    }
    ;
    va.eA = function() {
        var a, b, c, e;
        c = a = 0;
        for (b = K.length; a < b; ++a)
            e = K[a],
            K[c] = e,
            e.ie ? e.dA() : ++c;
        K.length = c
    }
    ;
    va.tl = function(a, b) {
        var c, e, f, d = null;
        c = 0;
        for (e = K.length; c < e; c++)
            if (f = K[c],
            f.src === a) {
                d = f;
                break
            }
        d || (qb && b && this.eA(),
        d = new M(a,b),
        K.push(d));
        return d
    }
    ;
    va.Jr = function(a, b, c, e, f) {
        var d, g, k;
        d = 0;
        for (g = D.length; d < g; d++)
            if (k = D[d],
            k.src === a && (k.Lw() || c))
                return k.tag = b,
                k;
        a = this.tl(a, c);
        if (!a.la)
            return "<preload>" !== b && (a.qm = b,
            a.bp = e,
            a.pq = f),
            null;
        k = new x(a,b);
        D.push(k);
        return k
    }
    ;
    var Ba = [];
    O.prototype.qk = function(a) {
        return jb(H, a)
    }
    ;
    O.prototype.dv = function(a) {
        G(a);
        var b;
        a = 0;
        for (b = Ba.length; a < b; a++)
            if (Ba[a].rh())
                return !0;
        return !1
    }
    ;
    N.j = new O;
    Q.prototype.Play = function(a, b, c, e) {
        // AUTOSPLITTER 4 - on playing a sound file
		var soundName = a[0];
        _autosplitter.onSound(soundName);
        
        !J && (c = n(c),
        L = this.Jr(this.b.Zn + a[0] + (S ? ".ogg" : ".m4a"), e, a[1], 0 !== b, c)) && (L.Pp(!1),
        L.play(0 !== b, c, 0, this.Us),
        this.Us = 0)
    }
    ;
    Q.prototype.fw = function(a, b) {
        G(a);
        var c = n(b), e, f;
        e = 0;
        for (f = Ba.length; e < f; e++)
            Ba[e].vA(c)
    }
    ;
    N.A = new Q;
    N.za = new function() {}
}
)();
function sc(d) {
    this.b = d
}
(function() {
    function d() {
        n && t && window.OfflineClientInfo && window.OfflineClientInfo.SetMessageCallback(function(a) {
            l.Hz(a)
        })
    }
    function m() {}
    var p = sc.prototype;
    p.S = function(a) {
        this.Fa = a;
        this.b = a.b
    }
    ;
    var r = p.S.prototype;
    r.G = function() {}
    ;
    var n = !1
      , t = !1;
    document.addEventListener("DOMContentLoaded", function() {
        if (window.C2_RegisterSW && navigator.of) {
            var a = document.createElement("script");
            a.onload = function() {
                n = !0;
                d()
            }
            ;
            a.src = "offlineClient.js";
            document.head.appendChild(a)
        }
    });
    var l = null;
    r.dt = function() {
        t = !0;
        d()
    }
    ;
    p.K = function(a) {
        this.type = a;
        this.b = a.b
    }
    ;
    r = p.K.prototype;
    r.G = function() {
        var a = this;
        window.addEventListener("resize", function() {
            a.b.trigger(sc.prototype.j.Hv, a)
        });
        l = this;
        "undefined" !== typeof navigator.onLine && (window.addEventListener("online", function() {
            a.b.trigger(sc.prototype.j.Ev, a)
        }),
        window.addEventListener("offline", function() {
            a.b.trigger(sc.prototype.j.Cv, a)
        }));
        "undefined" !== typeof window.applicationCache && (window.applicationCache.addEventListener("updateready", function() {
            a.b.Hh = 1;
            a.b.trigger(sc.prototype.j.uk, a)
        }),
        window.applicationCache.addEventListener("progress", function(b) {
            a.b.Hh = b.loaded / b.total || 0
        }));
        this.b.kc || (document.addEventListener("appMobi.device.update.available", function() {
            a.b.trigger(sc.prototype.j.uk, a)
        }),
        document.addEventListener("backbutton", function() {
            a.b.trigger(sc.prototype.j.pk, a)
        }),
        document.addEventListener("menubutton", function() {
            a.b.trigger(sc.prototype.j.Lq, a)
        }),
        document.addEventListener("searchbutton", function() {
            a.b.trigger(sc.prototype.j.Iv, a)
        }),
        document.addEventListener("tizenhwkey", function(b) {
            var e;
            switch (b.keyName) {
            case "back":
                e = a.b.trigger(sc.prototype.j.pk, a);
                !e && window.tizen && window.tizen.application.getCurrentApplication().exit();
                break;
            case "menu":
                (e = a.b.trigger(sc.prototype.j.Lq, a)) || b.preventDefault()
            }
        }));
        this.b.No && "undefined" !== typeof Windows ? Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested", function(b) {
            a.b.trigger(sc.prototype.j.pk, a) && (b.handled = !0)
        }) : this.b.hs && WinJS.Application && (WinJS.Application.onbackclick = function() {
            return !!a.b.trigger(sc.prototype.j.pk, a)
        }
        );
        this.b.Xq(function(b) {
            b ? a.b.trigger(sc.prototype.j.Fv, a) : a.b.trigger(sc.prototype.j.Gv, a)
        })
    }
    ;
    r.Hz = function(a) {
        a = a.data.type;
        "downloading-update" === a ? this.b.trigger(sc.prototype.j.Kv, this) : "update-ready" === a || "update-pending" === a ? this.b.trigger(sc.prototype.j.uk, this) : "offline-ready" === a && this.b.trigger(sc.prototype.j.Dv, this)
    }
    ;
    m.prototype.Ev = function() {
        return !0
    }
    ;
    m.prototype.Cv = function() {
        return !0
    }
    ;
    m.prototype.uk = function() {
        return !0
    }
    ;
    m.prototype.Gv = function() {
        return !0
    }
    ;
    m.prototype.Fv = function() {
        return !0
    }
    ;
    m.prototype.Hv = function() {
        return !0
    }
    ;
    m.prototype.pk = function() {
        return !0
    }
    ;
    m.prototype.Lq = function() {
        return !0
    }
    ;
    m.prototype.Iv = function() {
        return !0
    }
    ;
    m.prototype.Kv = function() {
        return !0
    }
    ;
    m.prototype.uk = function() {
        return !0
    }
    ;
    m.prototype.Dv = function() {
        return !0
    }
    ;
    p.j = new m;
    p.A = new function() {}
    ;
    p.za = new function() {}
}
)();
function qc(d) {
    this.b = d
}
(function() {
    function d() {
        this.name = "";
        this.Pj = 0;
        this.Vb = []
    }
    function m() {
        a++;
        a === l.length && l.push(new d);
        return l[a]
    }
    function p() {}
    function r() {}
    function n() {}
    var t = qc.prototype;
    t.S = function(a) {
        this.Fa = a;
        this.b = a.b
    }
    ;
    t.S.prototype.G = function() {}
    ;
    t.K = function(a) {
        this.type = a;
        this.b = a.b
    }
    ;
    var l = []
      , a = -1;
    t.K.prototype.G = function() {
        var b = this;
        window.c2_callFunction = function(e, c) {
            var f, d, h, n = m();
            n.name = e.toLowerCase();
            n.Pj = 0;
            if (c)
                for (n.Vb.length = c.length,
                f = 0,
                d = c.length; f < d; ++f)
                    h = c[f],
                    n.Vb[f] = "number" === typeof h || "string" === typeof h ? h : "boolean" === typeof h ? h ? 1 : 0 : 0;
            else
                U(n.Vb);
            b.b.trigger(qc.prototype.j.sk, b, n.name);
            a--;
            return n.Pj
        }
    }
    ;
    p.prototype.sk = function(b) {
        var e = 0 > a ? null : l[a];
        return e ? jb(b, e.name) : !1
    }
    ;
    t.j = new p;
    r.prototype.CallFunction = function(b, e) {
        var c = m();
        c.name = b.toLowerCase();
        c.Pj = 0;
        Ca(c.Vb, e);
        this.b.trigger(qc.prototype.j.sk, this, c.name);
        a--
    }
    ;
    t.A = new r;
    n.prototype.Eu = function(b, e) {
        var c = m();
        c.name = e.toLowerCase();
        c.Pj = 0;
        U(c.Vb);
        var f, d;
        f = 2;
        for (d = arguments.length; f < d; f++)
            c.Vb.push(arguments[f]);
        this.b.trigger(qc.prototype.j.sk, this, c.name);
        a--;
        b.Rp(c.Pj)
    }
    ;
    t.za = new n
}
)();
function tc(d) {
    this.b = d
}
(function() {
    function d() {}
    var m = tc.prototype;
    m.S = function(d) {
        this.Fa = d;
        this.b = d.b
    }
    ;
    m.S.prototype.G = function() {}
    ;
    m.K = function(d) {
        this.type = d;
        this.b = d.b;
        this.fj = Array(256);
        this.hk = Array(256);
        this.$e = 0
    }
    ;
    var p = m.K.prototype;
    p.G = function() {
        var d = this;
        this.b.hb || (jQuery(document).keydown(function(t) {
            d.np(t)
        }),
        jQuery(document).keyup(function(t) {
            d.op(t)
        }))
    }
    ;
    var r = [32, 33, 34, 35, 36, 37, 38, 39, 40, 44];
    p.np = function(d) {
        var t = !1;
        window != window.top && -1 < r.indexOf(d.which) && (d.preventDefault(),
        t = !0,
        d.stopPropagation());
        if (this.fj[d.which])
            this.hk[d.which] && !t && d.preventDefault();
        else {
            this.fj[d.which] = !0;
            this.$e = d.which;
            this.b.ad = !0;
            this.b.trigger(tc.prototype.j.rv, this);
            var l = this.b.trigger(tc.prototype.j.Fq, this)
              , a = this.b.trigger(tc.prototype.j.yv, this);
            this.b.ad = !1;
            if (l || a)
                this.hk[d.which] = !0,
                t || d.preventDefault()
        }
    }
    ;
    p.op = function(d) {
        this.fj[d.which] = !1;
        this.$e = d.which;
        this.b.ad = !0;
        this.b.trigger(tc.prototype.j.yq, this);
        var t = this.b.trigger(tc.prototype.j.Hq, this)
          , l = this.b.trigger(tc.prototype.j.Gq, this);
        this.b.ad = !1;
        if (t || l || this.hk[d.which])
            this.hk[d.which] = !0,
            d.preventDefault()
    }
    ;
    p.If = function() {
        var d;
        for (d = 0; 256 > d; ++d)
            if (this.fj[d]) {
                this.fj[d] = !1;
                this.$e = d;
                this.b.trigger(tc.prototype.j.yq, this);
                var t = this.b.trigger(tc.prototype.j.Hq, this)
                  , l = this.b.trigger(tc.prototype.j.Gq, this);
                if (t || l)
                    this.hk[d] = !0
            }
    }
    ;
    p.cb = function() {
        return {
            triggerKey: this.$e
        }
    }
    ;
    p.yb = function(d) {
        this.$e = d.triggerKey
    }
    ;
    d.prototype.Fq = function(d) {
        return d === this.$e
    }
    ;
    d.prototype.rv = function() {
        return !0
    }
    ;
    d.prototype.yq = function() {
        return !0
    }
    ;
    d.prototype.Hq = function(d) {
        return d === this.$e
    }
    ;
    d.prototype.yv = function(d) {
        return d === this.$e
    }
    ;
    d.prototype.Gq = function(d) {
        return d === this.$e
    }
    ;
    m.j = new d;
    m.A = new function() {}
    ;
    m.za = new function() {}
}
)();

// This is the Kongregate plugin
function uc(d) {
    this.b = d
}
(function() {
    function d() {}
    function m() {}
    function p() {}
    function r() {}
    var n = uc.prototype;
    n.S = function(a) {
        this.Fa = a;
        this.b = a.b
    }
    ;
    n.S.prototype.G = function() {};
    var t = null
      , l = null
      , a = null
      , b = 0;
    n.K = function(b) {};
    var e = n.K.prototype;
    e.G = function() {};
    e.Qh = function() {
        return true;
    };
    p.prototype.rn = function() {
        return true
    };
    n.j = new p;
    r.prototype.mw = function(a, b) {};
    n.A = new r;
    n.za = new function() {};
}
)();
var vc = !1;
try {
    !function() {
        var d, m, p;
        !function() {
            var r = {}
              , n = {};
            d = function(d, l, a) {
                r[d] = {
                    Vw: l,
                    Kw: a
                }
            }
            ;
            p = m = function(d) {
                function l(a) {
                    if ("." !== a.charAt(0))
                        return a;
                    a = a.split("/");
                    for (var b = d.split("/").slice(0, -1), c = 0, e = a.length; e > c; c++) {
                        var f = a[c];
                        ".." === f ? b.pop() : "." !== f && b.push(f)
                    }
                    return b.join("/")
                }
                if (p.GB = r,
                n[d])
                    return n[d];
                if (n[d] = {},
                !r[d])
                    throw Error("Could not find module " + d);
                for (var a, b = r[d], e = b.Vw, b = b.Kw, c = [], f = 0, g = e.length; g > f; f++)
                    "exports" === e[f] ? c.push(a = {}) : c.push(m(l(e[f])));
                e = b.apply(this, c);
                return n[d] = a || e
            }
        }();
        d("promise/all", ["./utils", "exports"], function(d, n) {
            var t = d.isArray
              , l = d.isFunction;
            n.all = function(a) {
                if (!t(a))
                    throw new TypeError("You must pass an array to all.");
                return new this(function(b, e) {
                    function c(a) {
                        return function(c) {
                            d[a] = c;
                            0 === --h && b(d)
                        }
                    }
                    var f, d = [], h = a.length;
                    0 === h && b([]);
                    for (var n = 0; n < a.length; n++)
                        (f = a[n]) && l(f.then) ? f.then(c(n), e) : (d[n] = f,
                        0 === --h && b(d))
                }
                )
            }
        });
        d("promise/asap", ["exports"], function(d) {
            function n() {
                return function() {
                    process.OB(a)
                }
            }
            function t() {
                var b = 0
                  , e = new c(a)
                  , f = document.createTextNode("");
                return e.observe(f, {
                    characterData: !0
                }),
                function() {
                    f.data = b = ++b % 2
                }
            }
            function l() {
                return function() {
                    f.setTimeout(a, 1)
                }
            }
            function a() {
                for (var a = 0; a < g.length; a++) {
                    var b = g[a];
                    (0,
                    b[0])(b[1])
                }
                g = []
            }
            var b, e = "undefined" != typeof window ? window : {}, c = e.MutationObserver || e.WebKitMutationObserver, f = "undefined" != typeof global ? global : void 0 === this ? window : this, g = [];
            b = "undefined" != typeof process && "[object process]" === {}.toString.call(process) ? n() : c ? t() : l();
            d.Ew = function(a, c) {
                1 === g.push([a, c]) && b()
            }
        });
        d("promise/config", ["exports"], function(d) {
            var n = {
                MB: !1
            };
            d.mr = n;
            d.Ow = function(d, l) {
                return 2 !== arguments.length ? n[d] : void (n[d] = l)
            }
        });
        d("promise/polyfill", ["./promise", "./utils", "exports"], function(d, n, t) {
            var l = d.Promise
              , a = n.isFunction;
            t.Pz = function() {
                var b;
                b = "undefined" != typeof global ? global : "undefined" != typeof window && window.document ? window : self;
                "Promise"in b && "resolve"in b.Promise && "reject"in b.Promise && "all"in b.Promise && "race"in b.Promise && function() {
                    var e;
                    return new b.Promise(function(a) {
                        e = a
                    }
                    ),
                    a(e)
                }() || (b.Promise = l)
            }
        });
        d("promise/promise", "./config ./utils ./all ./race ./resolve ./reject ./asap exports".split(" "), function(d, n, t, l, a, b, e, c) {
            function f(a) {
                if (!M(a))
                    throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
                if (!(this instanceof f))
                    throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
                this.xk = [];
                g(a, this)
            }
            function g(a, b) {
                function c(a) {
                    k(b, a)
                }
                function e(a) {
                    T(b, a)
                }
                try {
                    a(c, e)
                } catch (f) {
                    e(f)
                }
            }
            function h(a, b, c, e) {
                var f, d, g, h, u = M(c);
                if (u)
                    try {
                        f = c(e),
                        g = !0
                    } catch (l) {
                        h = !0,
                        d = l
                    }
                else
                    f = e,
                    g = !0;
                q(b, f) || (u && g ? k(b, f) : h ? T(b, d) : a === C ? k(b, f) : a === O && T(b, f))
            }
            function m(a, b, c, e) {
                a = a.xk;
                var f = a.length;
                a[f] = b;
                a[f + C] = c;
                a[f + O] = e
            }
            function p(a, b) {
                for (var c, e, f = a.xk, d = a.wk, g = 0; g < f.length; g += 3)
                    c = f[g],
                    e = f[g + b],
                    h(b, c, e, d);
                a.xk = null
            }
            function q(a, b) {
                var c, e = null;
                try {
                    if (a === b)
                        throw new TypeError("A promises callback cannot return that same promise.");
                    if (P(b) && (e = b.then,
                    M(e)))
                        return e.call(b, function(e) {
                            return c ? !0 : (c = !0,
                            void (b !== e ? k(a, e) : u(a, e)))
                        }, function(b) {
                            return c ? !0 : (c = !0,
                            void T(a, b))
                        }),
                        !0
                } catch (f) {
                    return c ? !0 : (T(a, f),
                    !0)
                }
                return !1
            }
            function k(a, b) {
                a === b ? u(a, b) : q(a, b) || u(a, b)
            }
            function u(a, b) {
                a.ue === x && (a.ue = G,
                a.wk = b,
                Y.async(A, a))
            }
            function T(a, b) {
                a.ue === x && (a.ue = G,
                a.wk = b,
                Y.async(v, a))
            }
            function A(a) {
                p(a, a.ue = C)
            }
            function v(a) {
                p(a, a.ue = O)
            }
            var Y = d.mr
              , P = (d.Ow,
            n.Az)
              , M = n.isFunction;
            d = (n.now,
            t.all);
            l = l.race;
            a = a.resolve;
            b = b.reject;
            Y.async = e.Ew;
            var x = void 0
              , G = 0
              , C = 1
              , O = 2;
            f.prototype = {
                constructor: f,
                ue: void 0,
                wk: void 0,
                xk: void 0,
                then: function(a, b) {
                    var c = this
                      , e = new this.constructor(function() {}
                    );
                    if (this.ue) {
                        var f = arguments;
                        Y.async(function() {
                            h(c.ue, e, f[c.ue - 1], c.wk)
                        })
                    } else
                        m(this, e, a, b);
                    return e
                },
                "catch": function(a) {
                    return this.then(null, a)
                }
            };
            f.all = d;
            f.race = l;
            f.resolve = a;
            f.reject = b;
            c.Promise = f
        });
        d("promise/race", ["./utils", "exports"], function(d, n) {
            var t = d.isArray;
            n.race = function(d) {
                if (!t(d))
                    throw new TypeError("You must pass an array to race.");
                return new this(function(a, b) {
                    for (var e, c = 0; c < d.length; c++)
                        (e = d[c]) && "function" == typeof e.then ? e.then(a, b) : a(e)
                }
                )
            }
        });
        d("promise/reject", ["exports"], function(d) {
            d.reject = function(d) {
                return new this(function(t, l) {
                    l(d)
                }
                )
            }
        });
        d("promise/resolve", ["exports"], function(d) {
            d.resolve = function(d) {
                return d && "object" == typeof d && d.constructor === this ? d : new this(function(t) {
                    t(d)
                }
                )
            }
        });
        d("promise/utils", ["exports"], function(d) {
            function n(d) {
                return "function" == typeof d
            }
            var t = Date.now || function() {
                return (new Date).getTime()
            }
            ;
            d.Az = function(d) {
                return n(d) || "object" == typeof d && null !== d
            }
            ;
            d.isFunction = n;
            d.isArray = function(d) {
                return "[object Array]" === Object.prototype.toString.call(d)
            }
            ;
            d.now = t
        });
        m("promise/polyfill").Pz()
    }();
    var wc = function() {
        return function(d) {
            function m(r) {
                if (p[r])
                    return p[r].ee;
                var n = p[r] = {
                    ee: {},
                    id: r,
                    loaded: !1
                };
                return d[r].call(n.ee, n, n.ee, m),
                n.loaded = !0,
                n.ee
            }
            var p = {};
            return m.of = d,
            m.wi = p,
            m.tr = "",
            m(0)
        }([function(d, m, p) {
            m.vk = !0;
            var r = function(d) {
                function t(a, b) {
                    a[b] = function() {
                        var c = arguments;
                        return a.ready().then(function() {
                            return a[b].apply(a, c)
                        })
                    }
                }
                function l() {
                    for (var a = 1; a < arguments.length; a++) {
                        var b = arguments[a];
                        if (b)
                            for (var c in b)
                                b.hasOwnProperty(c) && (h(b[c]) ? arguments[0][c] = b[c].slice() : arguments[0][c] = b[c])
                    }
                    return arguments[0]
                }
                function a(a) {
                    for (var b in e)
                        if (e.hasOwnProperty(b) && e[b] === a)
                            return !0;
                    return !1
                }
                var b = {}
                  , e = {
                    mi: "asyncStorage",
                    ni: "localStorageWrapper",
                    pi: "webSQLStorage"
                }
                  , c = "clear getItem iterate key keys length removeItem setItem".split(" ")
                  , f = {
                    description: "",
                    gh: [e.mi, e.pi, e.ni].slice(),
                    name: "localforage",
                    size: 4980736,
                    Ca: "keyvaluepairs",
                    version: 1
                }
                  , g = function(a) {
                    var b = {}, c;
                    try {
                        var f = f || a.indexedDB || a.webkitIndexedDB || a.mozIndexedDB || a.oz || a.msIndexedDB;
                        c = "undefined" != typeof a.openDatabase && a.navigator && a.navigator.userAgent && /Safari/.test(a.navigator.userAgent) && !/Chrome/.test(a.navigator.userAgent) ? !1 : f && "function" == typeof f.open && "undefined" != typeof a.IDBKeyRange
                    } catch (d) {
                        c = !1
                    }
                    b[e.mi] = !!c;
                    var g;
                    try {
                        g = a.openDatabase
                    } catch (h) {
                        g = !1
                    }
                    b[e.pi] = !!g;
                    var l;
                    try {
                        l = a.localStorage && "setItem"in a.localStorage && a.localStorage.setItem
                    } catch (n) {
                        l = !1
                    }
                    return b[e.ni] = !!l,
                    b
                }(d)
                  , h = Array.isArray || function(a) {
                    return "[object Array]" === Object.prototype.toString.call(a)
                }
                ;
                return new (function() {
                    function d(a) {
                        if (!(this instanceof d))
                            throw new TypeError("Cannot call a class as a function");
                        this.mi = e.mi;
                        this.ni = e.ni;
                        this.pi = e.pi;
                        this.wn = l({}, f);
                        this.Rf = l({}, this.wn, a);
                        this.Tq = this.Yd = null;
                        this.ff = !1;
                        this.wa = null;
                        this.Uq();
                        this.Jt(this.Rf.gh)
                    }
                    return d.prototype.mr = function(a) {
                        if ("object" == typeof a) {
                            if (this.ff)
                                return Error("Can't call config() after localforage has been used.");
                            for (var b in a)
                                "storeName" === b && (a[b] = a[b].replace(/\W/g, "_")),
                                this.Rf[b] = a[b];
                            return "driver"in a && a.gh && this.Jt(this.Rf.gh),
                            !0
                        }
                        return "string" == typeof a ? this.Rf[a] : this.Rf
                    }
                    ,
                    d.prototype.gh = function() {
                        return this.qi || null
                    }
                    ,
                    d.prototype.Lr = function(c, e, f) {
                        var d = this
                          , g = function() {
                            if (a(c))
                                switch (c) {
                                case d.mi:
                                    return new Promise(function(a) {
                                        a(p(1))
                                    }
                                    );
                                case d.ni:
                                    return new Promise(function(a) {
                                        a(p(2))
                                    }
                                    );
                                case d.pi:
                                    return new Promise(function(a) {
                                        a(p(4))
                                    }
                                    )
                                }
                            else if (b[c])
                                return Promise.resolve(b[c]);
                            return Promise.reject(Error("Driver not found."))
                        }();
                        return g.then(e, f),
                        g
                    }
                    ,
                    d.prototype.ready = function(a) {
                        var b = this
                          , c = b.Yd.then(function() {
                            return null === b.ff && (b.ff = b.Tq()),
                            b.ff
                        });
                        return c.then(a, a),
                        c
                    }
                    ,
                    d.prototype.Jt = function(a, b, c) {
                        function e() {
                            d.Rf.gh = d.gh()
                        }
                        function f(a) {
                            return function() {
                                function b() {
                                    for (; c < a.length; ) {
                                        var f = a[c];
                                        return c++,
                                        d.wa = null,
                                        d.ff = null,
                                        d.Lr(f).then(function(a) {
                                            return d.ww(a),
                                            e(),
                                            d.ff = d.yn(d.Rf),
                                            d.ff
                                        })["catch"](b)
                                    }
                                    e();
                                    return d.Yd = Promise.reject(Error("No available storage method found.")),
                                    d.Yd
                                }
                                var c = 0;
                                return b()
                            }
                        }
                        var d = this;
                        h(a) || (a = [a]);
                        var g = this.xw(a);
                        return this.Yd = (null !== this.Yd ? this.Yd["catch"](function() {
                            return Promise.resolve()
                        }) : Promise.resolve()).then(function() {
                            var a = g[0];
                            return d.wa = null,
                            d.ff = null,
                            d.Lr(a).then(function(a) {
                                d.qi = a.qi;
                                e();
                                d.Uq();
                                d.Tq = f(g)
                            })
                        })["catch"](function() {
                            e();
                            return d.Yd = Promise.reject(Error("No available storage method found.")),
                            d.Yd
                        }),
                        this.Yd.then(b, c),
                        this.Yd
                    }
                    ,
                    d.prototype.supports = function(a) {
                        return !!g[a]
                    }
                    ,
                    d.prototype.ww = function(a) {
                        l(this, a)
                    }
                    ,
                    d.prototype.xw = function(a) {
                        for (var b = [], c = 0, e = a.length; e > c; c++) {
                            var f = a[c];
                            this.supports(f) && b.push(f)
                        }
                        return b
                    }
                    ,
                    d.prototype.Uq = function() {
                        for (var a = 0; a < c.length; a++)
                            t(this, c[a])
                    }
                    ,
                    d.prototype.Nn = function(a) {
                        return new d(a)
                    }
                    ,
                    d
                }())
            }("undefined" != typeof window ? window : self);
            m["default"] = r;
            d.ee = m["default"]
        }
        , function(d, m) {
            m.vk = !0;
            m["default"] = function(d) {
                function r(a, b) {
                    a = a || [];
                    b = b || {};
                    try {
                        return new Blob(a,b)
                    } catch (c) {
                        if ("TypeError" !== c.name)
                            throw c;
                        for (var e = new (d.BlobBuilder || d.of || d.tr || d.WebKitBlobBuilder), f = 0; f < a.length; f += 1)
                            e.append(a[f]);
                        return e.getBlob(b.type)
                    }
                }
                function n(a) {
                    return new Promise(function(b, c) {
                        var e = new XMLHttpRequest;
                        e.open("GET", a);
                        e.withCredentials = !0;
                        e.responseType = "arraybuffer";
                        e.onreadystatechange = function() {
                            return 4 === e.readyState ? 200 === e.status ? b({
                                response: e.response,
                                type: e.getResponseHeader("Content-Type")
                            }) : void c({
                                status: e.status,
                                response: e.response
                            }) : void 0
                        }
                        ;
                        e.send()
                    }
                    )
                }
                function t(a) {
                    return (new Promise(function(b, c) {
                        var e = r([""], {
                            type: "image/png"
                        })
                          , f = a.transaction([x], "readwrite");
                        f.objectStore(x).put(e, "key");
                        f.oncomplete = function() {
                            var e = a.transaction([x], "readwrite").objectStore(x).get("key");
                            e.onerror = c;
                            e.onsuccess = function(a) {
                                var c = URL.createObjectURL(a.target.result);
                                n(c).then(function(a) {
                                    b(!(!a || "image/png" !== a.type))
                                }, function() {
                                    b(!1)
                                }).then(function() {
                                    URL.revokeObjectURL(c)
                                })
                            }
                        }
                        ;
                        f.onerror = f.onabort = c
                    }
                    ))["catch"](function() {
                        return !1
                    })
                }
                function l(a) {
                    return "boolean" == typeof P ? Promise.resolve(P) : t(a).then(function(a) {
                        return P = a
                    })
                }
                function a(a) {
                    return new Promise(function(b, c) {
                        var e = new FileReader;
                        e.onerror = c;
                        e.onloadend = function(c) {
                            b({
                                Sq: !0,
                                data: btoa(c.target.result || ""),
                                type: a.type
                            })
                        }
                        ;
                        e.readAsBinaryString(a)
                    }
                    )
                }
                function b(a) {
                    for (var b = atob(a.data), c = b.length, e = new ArrayBuffer(c), f = new Uint8Array(e), d = 0; c > d; d++)
                        f[d] = b.charCodeAt(d);
                    return r([e], {
                        type: a.type
                    })
                }
                function e(a) {
                    var b = this
                      , c = b.xn().then(function() {
                        var a = M[b.wa.name];
                        return a && a.bh ? a.bh : void 0
                    });
                    return c.then(a, a),
                    c
                }
                function c(a) {
                    a = M[a.name];
                    var b = {};
                    b.promise = new Promise(function(a) {
                        b.resolve = a
                    }
                    );
                    a.pr.push(b);
                    a.bh ? a.bh = a.bh.then(function() {
                        return b.promise
                    }) : a.bh = b.promise
                }
                function f(a) {
                    function b() {
                        return Promise.resolve()
                    }
                    var c = this
                      , f = {
                        db: null
                    };
                    if (a)
                        for (var k in a)
                            f[k] = a[k];
                    M || (M = {});
                    var h = M[f.name];
                    h || (h = {
                        pl: [],
                        db: null,
                        bh: null,
                        pr: []
                    },
                    M[f.name] = h);
                    h.pl.push(c);
                    c.xn || (c.xn = c.ready,
                    c.ready = e);
                    a = [];
                    for (k = 0; k < h.pl.length; k++) {
                        var q = h.pl[k];
                        q !== c && a.push(q.xn()["catch"](b))
                    }
                    var u = h.pl.slice(0);
                    return Promise.all(a).then(function() {
                        return f.db = h.db,
                        g(f, !1)
                    }).then(function(a) {
                        f.db = a;
                        var b;
                        b = c.wn.version;
                        if (f.db) {
                            var e = !f.db.objectStoreNames.contains(f.Ca)
                              , k = f.version > f.db.version;
                            (f.version < f.db.version && (f.version !== b && d.console.warn('The database "' + f.name + "\" can't be downgraded from version " + f.db.version + " to version " + f.version + "."),
                            f.version = f.db.version),
                            k || e) ? (e && (b = f.db.version + 1,
                            b > f.version && (f.version = b)),
                            b = !0) : b = !1
                        } else
                            b = !0;
                        return b ? g(f, !0) : a
                    }).then(function(a) {
                        f.db = h.db = a;
                        c.wa = f;
                        for (a = 0; a < u.length; a++) {
                            var b = u[a];
                            b !== c && (b.wa.db = f.db,
                            b.wa.version = f.version)
                        }
                    })
                }
                function g(a, b) {
                    return new Promise(function(e, f) {
                        if (a.db) {
                            if (!b)
                                return e(a.db);
                            c(a);
                            a.db.close()
                        }
                        var g = [a.name];
                        b && g.push(a.version);
                        var k = Y.open.apply(Y, g);
                        b && (k.onupgradeneeded = function(b) {
                            var c = k.result;
                            try {
                                c.createObjectStore(a.Ca),
                                1 >= b.oldVersion && c.createObjectStore(x)
                            } catch (e) {
                                if ("ConstraintError" !== e.name)
                                    throw e;
                                d.console.warn('The database "' + a.name + '" has been upgraded from version ' + b.oldVersion + " to version " + b.newVersion + ', but the storage "' + a.Ca + '" already exists.')
                            }
                        }
                        );
                        k.onerror = function() {
                            f(k.error)
                        }
                        ;
                        k.onsuccess = function() {
                            e(k.result);
                            var b = M[a.name].pr.pop();
                            b && b.resolve()
                        }
                    }
                    )
                }
                function h(a, c) {
                    var e = this;
                    "string" != typeof a && (d.console.warn(a + " used as a key, but it is not a string."),
                    a = String(a));
                    var f = new Promise(function(c, f) {
                        e.ready().then(function() {
                            var d = e.wa
                              , g = d.db.transaction(d.Ca, "readonly").objectStore(d.Ca).get(a);
                            g.onsuccess = function() {
                                var a = g.result;
                                void 0 === a && (a = null);
                                a && a.Sq && (a = b(a));
                                c(a)
                            }
                            ;
                            g.onerror = function() {
                                f(g.error)
                            }
                        })["catch"](f)
                    }
                    );
                    return v(f, c),
                    f
                }
                function m(a, c) {
                    var e = this
                      , f = new Promise(function(c, f) {
                        e.ready().then(function() {
                            var d = e.wa
                              , g = d.db.transaction(d.Ca, "readonly").objectStore(d.Ca).openCursor()
                              , k = 1;
                            g.onsuccess = function() {
                                var e = g.result;
                                if (e) {
                                    var f = e.value;
                                    f && f.Sq && (f = b(f));
                                    f = a(f, e.key, k++);
                                    void 0 !== f ? c(f) : e["continue"]()
                                } else
                                    c()
                            }
                            ;
                            g.onerror = function() {
                                f(g.error)
                            }
                        })["catch"](f)
                    }
                    );
                    return v(f, c),
                    f
                }
                function I(b, c, e) {
                    var f = this;
                    "string" != typeof b && (d.console.warn(b + " used as a key, but it is not a string."),
                    b = String(b));
                    var g = new Promise(function(e, d) {
                        var g;
                        f.ready().then(function() {
                            return g = f.wa,
                            c instanceof Blob ? l(g.db).then(function(b) {
                                return b ? c : a(c)
                            }) : c
                        }).then(function(a) {
                            var c = g.db.transaction(g.Ca, "readwrite")
                              , f = c.objectStore(g.Ca);
                            null === a && (a = void 0);
                            c.oncomplete = function() {
                                void 0 === a && (a = null);
                                e(a)
                            }
                            ;
                            c.onabort = c.onerror = function() {
                                d(k.error ? k.error : k.transaction.error)
                            }
                            ;
                            var k = f.put(a, b)
                        })["catch"](d)
                    }
                    );
                    return v(g, e),
                    g
                }
                function q(a, b) {
                    var c = this;
                    "string" != typeof a && (d.console.warn(a + " used as a key, but it is not a string."),
                    a = String(a));
                    var e = new Promise(function(b, e) {
                        c.ready().then(function() {
                            var f = c.wa
                              , d = f.db.transaction(f.Ca, "readwrite")
                              , g = d.objectStore(f.Ca)["delete"](a);
                            d.oncomplete = function() {
                                b()
                            }
                            ;
                            d.onerror = function() {
                                e(g.error)
                            }
                            ;
                            d.onabort = function() {
                                e(g.error ? g.error : g.transaction.error)
                            }
                        })["catch"](e)
                    }
                    );
                    return v(e, b),
                    e
                }
                function k(a) {
                    var b = this
                      , c = new Promise(function(a, c) {
                        b.ready().then(function() {
                            var e = b.wa
                              , f = e.db.transaction(e.Ca, "readwrite")
                              , d = f.objectStore(e.Ca).clear();
                            f.oncomplete = function() {
                                a()
                            }
                            ;
                            f.onabort = f.onerror = function() {
                                c(d.error ? d.error : d.transaction.error)
                            }
                        })["catch"](c)
                    }
                    );
                    return v(c, a),
                    c
                }
                function u(a) {
                    var b = this
                      , c = new Promise(function(a, c) {
                        b.ready().then(function() {
                            var e = b.wa
                              , f = e.db.transaction(e.Ca, "readonly").objectStore(e.Ca).count();
                            f.onsuccess = function() {
                                a(f.result)
                            }
                            ;
                            f.onerror = function() {
                                c(f.error)
                            }
                        })["catch"](c)
                    }
                    );
                    return v(c, a),
                    c
                }
                function T(a, b) {
                    var c = this
                      , e = new Promise(function(b, e) {
                        return 0 > a ? void b(null) : void c.ready().then(function() {
                            var f = c.wa
                              , d = !1
                              , g = f.db.transaction(f.Ca, "readonly").objectStore(f.Ca).openCursor();
                            g.onsuccess = function() {
                                var c = g.result;
                                return c ? void (0 === a ? b(c.key) : d ? b(c.key) : (d = !0,
                                c.advance(a))) : void b(null)
                            }
                            ;
                            g.onerror = function() {
                                e(g.error)
                            }
                        })["catch"](e)
                    }
                    );
                    return v(e, b),
                    e
                }
                function A(a) {
                    var b = this
                      , c = new Promise(function(a, c) {
                        b.ready().then(function() {
                            var e = b.wa
                              , f = e.db.transaction(e.Ca, "readonly").objectStore(e.Ca).openCursor()
                              , d = [];
                            f.onsuccess = function() {
                                var b = f.result;
                                return b ? (d.push(b.key),
                                void b["continue"]()) : void a(d)
                            }
                            ;
                            f.onerror = function() {
                                c(f.error)
                            }
                        })["catch"](c)
                    }
                    );
                    return v(c, a),
                    c
                }
                function v(a, b) {
                    b && a.then(function(a) {
                        b(null, a)
                    }, function(a) {
                        b(a)
                    })
                }
                var Y = Y || d.indexedDB || d.webkitIndexedDB || d.mozIndexedDB || d.oz || d.msIndexedDB;
                if (Y) {
                    var P, M, x = "local-forage-detect-blob-support";
                    return {
                        qi: "asyncStorage",
                        yn: f,
                        os: m,
                        getItem: h,
                        setItem: I,
                        removeItem: q,
                        clear: k,
                        length: u,
                        key: T,
                        keys: A
                    }
                }
            }("undefined" != typeof window ? window : self);
            d.ee = m["default"]
        }
        , function(d, m, p) {
            m.vk = !0;
            m["default"] = function(d) {
                function n(a, b) {
                    b && a.then(function(a) {
                        b(null, a)
                    }, function(a) {
                        b(a)
                    })
                }
                var t = null;
                try {
                    if (!(d.localStorage && "setItem"in d.localStorage))
                        return;
                    t = d.localStorage
                } catch (l) {
                    return
                }
                return {
                    qi: "localStorageWrapper",
                    yn: function(a) {
                        var b = {};
                        if (a)
                            for (var e in a)
                                b[e] = a[e];
                        return b.je = b.name + "/",
                        b.Ca !== this.wn.Ca && (b.je += b.Ca + "/"),
                        this.wa = b,
                        (new Promise(function(a) {
                            a(p(3))
                        }
                        )).then(function(a) {
                            return b.Jg = a,
                            Promise.resolve()
                        })
                    },
                    os: function(a, b) {
                        var e = this
                          , c = e.ready().then(function() {
                            for (var b = e.wa, c = b.je, d = c.length, l = t.length, n = 1, q = 0; l > q; q++) {
                                var k = t.key(q);
                                if (0 === k.indexOf(c)) {
                                    var u = t.getItem(k);
                                    if (u && (u = b.Jg.$k(u)),
                                    u = a(u, k.substring(d), n++),
                                    void 0 !== u)
                                        return u
                                }
                            }
                        });
                        return n(c, b),
                        c
                    },
                    getItem: function(a, b) {
                        var e = this;
                        "string" != typeof a && (d.console.warn(a + " used as a key, but it is not a string."),
                        a = String(a));
                        var c = e.ready().then(function() {
                            var b = e.wa
                              , c = t.getItem(b.je + a);
                            return c && (c = b.Jg.$k(c)),
                            c
                        });
                        return n(c, b),
                        c
                    },
                    setItem: function(a, b, e) {
                        var c = this;
                        "string" != typeof a && (d.console.warn(a + " used as a key, but it is not a string."),
                        a = String(a));
                        var f = c.ready().then(function() {
                            void 0 === b && (b = null);
                            var e = b;
                            return new Promise(function(f, d) {
                                var l = c.wa;
                                l.Jg.serialize(b, function(b, c) {
                                    if (c)
                                        d(c);
                                    else
                                        try {
                                            t.setItem(l.je + a, b),
                                            f(e)
                                        } catch (u) {
                                            "QuotaExceededError" !== u.name && "NS_ERROR_DOM_QUOTA_REACHED" !== u.name || d(u),
                                            d(u)
                                        }
                                })
                            }
                            )
                        });
                        return n(f, e),
                        f
                    },
                    removeItem: function(a, b) {
                        var e = this;
                        "string" != typeof a && (d.console.warn(a + " used as a key, but it is not a string."),
                        a = String(a));
                        var c = e.ready().then(function() {
                            t.removeItem(e.wa.je + a)
                        });
                        return n(c, b),
                        c
                    },
                    clear: function(a) {
                        var b = this
                          , e = b.ready().then(function() {
                            for (var a = b.wa.je, e = t.length - 1; 0 <= e; e--) {
                                var d = t.key(e);
                                0 === d.indexOf(a) && t.removeItem(d)
                            }
                        });
                        return n(e, a),
                        e
                    },
                    length: function(a) {
                        var b = this.keys().then(function(a) {
                            return a.length
                        });
                        return n(b, a),
                        b
                    },
                    key: function(a, b) {
                        var e = this
                          , c = e.ready().then(function() {
                            var b, c = e.wa;
                            try {
                                b = t.key(a)
                            } catch (d) {
                                b = null
                            }
                            return b && (b = b.substring(c.je.length)),
                            b
                        });
                        return n(c, b),
                        c
                    },
                    keys: function(a) {
                        var b = this
                          , e = b.ready().then(function() {
                            for (var a = b.wa, e = t.length, d = [], h = 0; e > h; h++)
                                0 === t.key(h).indexOf(a.je) && d.push(t.key(h).substring(a.je.length));
                            return d
                        });
                        return n(e, a),
                        e
                    }
                }
            }("undefined" != typeof window ? window : self);
            d.ee = m["default"]
        }
        , function(d, m) {
            m.vk = !0;
            m["default"] = function(d) {
                function r(a) {
                    var b, e, c, f, d;
                    b = .75 * a.length;
                    var h = a.length
                      , l = 0;
                    "=" === a[a.length - 1] && (b--,
                    "=" === a[a.length - 2] && b--);
                    var n = new ArrayBuffer(b)
                      , q = new Uint8Array(n);
                    for (b = 0; h > b; b += 4)
                        e = t.indexOf(a[b]),
                        c = t.indexOf(a[b + 1]),
                        f = t.indexOf(a[b + 2]),
                        d = t.indexOf(a[b + 3]),
                        q[l++] = e << 2 | c >> 4,
                        q[l++] = (15 & c) << 4 | f >> 2,
                        q[l++] = (3 & f) << 6 | 63 & d;
                    return n
                }
                function n(a) {
                    var b = new Uint8Array(a)
                      , e = "";
                    for (a = 0; a < b.length; a += 3)
                        e += t[b[a] >> 2],
                        e += t[(3 & b[a]) << 4 | b[a + 1] >> 4],
                        e += t[(15 & b[a + 1]) << 2 | b[a + 2] >> 6],
                        e += t[63 & b[a + 2]];
                    return 2 === b.length % 3 ? e = e.substring(0, e.length - 1) + "=" : 1 === b.length % 3 && (e = e.substring(0, e.length - 2) + "=="),
                    e
                }
                var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
                  , l = /^~~local_forage_type~([^~]+)~/;
                return {
                    serialize: function(a, b) {
                        var e = "";
                        if (a && (e = a.toString()),
                        a && ("[object ArrayBuffer]" === a.toString() || a.buffer && "[object ArrayBuffer]" === a.buffer.toString())) {
                            var c, f = "__lfsc__:";
                            a instanceof ArrayBuffer ? (c = a,
                            f += "arbf") : (c = a.buffer,
                            "[object Int8Array]" === e ? f += "si08" : "[object Uint8Array]" === e ? f += "ui08" : "[object Uint8ClampedArray]" === e ? f += "uic8" : "[object Int16Array]" === e ? f += "si16" : "[object Uint16Array]" === e ? f += "ur16" : "[object Int32Array]" === e ? f += "si32" : "[object Uint32Array]" === e ? f += "ui32" : "[object Float32Array]" === e ? f += "fl32" : "[object Float64Array]" === e ? f += "fl64" : b(Error("Failed to get type for BinaryArray")));
                            b(f + n(c))
                        } else if ("[object Blob]" === e)
                            e = new FileReader,
                            e.onload = function() {
                                var c = "~~local_forage_type~" + a.type + "~" + n(this.result);
                                b("__lfsc__:blob" + c)
                            }
                            ,
                            e.readAsArrayBuffer(a);
                        else
                            try {
                                b(JSON.stringify(a))
                            } catch (d) {
                                console.error("Couldn't convert value into a JSON string: ", a),
                                b(null, d)
                            }
                    },
                    $k: function(a) {
                        if ("__lfsc__:" !== a.substring(0, 9))
                            return JSON.parse(a);
                        var b, e = a.substring(13);
                        a = a.substring(9, 13);
                        if ("blob" === a && l.test(e)) {
                            var c = e.match(l);
                            b = c[1];
                            e = e.substring(c[0].length)
                        }
                        e = r(e);
                        switch (a) {
                        case "arbf":
                            return e;
                        case "blob":
                            var f;
                            e = [e];
                            b = {
                                type: b
                            };
                            e = e || [];
                            b = b || {};
                            try {
                                f = new Blob(e,b)
                            } catch (g) {
                                if ("TypeError" !== g.name)
                                    throw g;
                                f = new (d.BlobBuilder || d.of || d.tr || d.WebKitBlobBuilder);
                                for (a = 0; a < e.length; a += 1)
                                    f.append(e[a]);
                                f = f.getBlob(b.type)
                            }
                            return f;
                        case "si08":
                            return new Int8Array(e);
                        case "ui08":
                            return new Uint8Array(e);
                        case "uic8":
                            return new Uint8ClampedArray(e);
                        case "si16":
                            return new Int16Array(e);
                        case "ur16":
                            return new Uint16Array(e);
                        case "si32":
                            return new Int32Array(e);
                        case "ui32":
                            return new Uint32Array(e);
                        case "fl32":
                            return new Float32Array(e);
                        case "fl64":
                            return new Float64Array(e);
                        default:
                            throw Error("Unkown type: " + a);
                        }
                    },
                    SB: r,
                    IB: n
                }
            }("undefined" != typeof window ? window : self);
            d.ee = m["default"]
        }
        , function(d, m, p) {
            m.vk = !0;
            m["default"] = function(d) {
                function n(a) {
                    var b = this
                      , c = {
                        db: null
                    };
                    if (a)
                        for (var e in a)
                            c[e] = "string" != typeof a[e] ? a[e].toString() : a[e];
                    var f = new Promise(function(a, e) {
                        try {
                            c.db = m(c.name, String(c.version), c.description, c.size)
                        } catch (f) {
                            return e(f)
                        }
                        c.db.transaction(function(f) {
                            f.executeSql("CREATE TABLE IF NOT EXISTS " + c.Ca + " (id INTEGER PRIMARY KEY, key unique, value)", [], function() {
                                b.wa = c;
                                a()
                            }, function(a, b) {
                                e(b)
                            })
                        })
                    }
                    );
                    return (new Promise(function(a) {
                        a(p(3))
                    }
                    )).then(function(a) {
                        return c.Jg = a,
                        f
                    })
                }
                function t(a, b) {
                    var c = this;
                    "string" != typeof a && (d.console.warn(a + " used as a key, but it is not a string."),
                    a = String(a));
                    var e = new Promise(function(b, e) {
                        c.ready().then(function() {
                            var f = c.wa;
                            f.db.transaction(function(c) {
                                c.executeSql("SELECT * FROM " + f.Ca + " WHERE key = ? LIMIT 1", [a], function(a, c) {
                                    var e = c.rows.length ? c.rows.item(0).value : null;
                                    e && (e = f.Jg.$k(e));
                                    b(e)
                                }, function(a, b) {
                                    e(b)
                                })
                            })
                        })["catch"](e)
                    }
                    );
                    return h(e, b),
                    e
                }
                function l(a, b) {
                    var c = this
                      , e = new Promise(function(b, e) {
                        c.ready().then(function() {
                            var f = c.wa;
                            f.db.transaction(function(c) {
                                c.executeSql("SELECT * FROM " + f.Ca, [], function(c, e) {
                                    for (var d = e.rows, g = d.length, k = 0; g > k; k++) {
                                        var h = d.item(k)
                                          , q = h.value;
                                        if (q && (q = f.Jg.$k(q)),
                                        q = a(q, h.key, k + 1),
                                        void 0 !== q)
                                            return void b(q)
                                    }
                                    b()
                                }, function(a, b) {
                                    e(b)
                                })
                            })
                        })["catch"](e)
                    }
                    );
                    return h(e, b),
                    e
                }
                function a(a, b, c) {
                    var e = this;
                    "string" != typeof a && (d.console.warn(a + " used as a key, but it is not a string."),
                    a = String(a));
                    var f = new Promise(function(c, f) {
                        e.ready().then(function() {
                            void 0 === b && (b = null);
                            var d = b
                              , g = e.wa;
                            g.Jg.serialize(b, function(b, e) {
                                e ? f(e) : g.db.transaction(function(e) {
                                    e.executeSql("INSERT OR REPLACE INTO " + g.Ca + " (key, value) VALUES (?, ?)", [a, b], function() {
                                        c(d)
                                    }, function(a, b) {
                                        f(b)
                                    })
                                }, function(a) {
                                    a.code === a.QUOTA_ERR && f(a)
                                })
                            })
                        })["catch"](f)
                    }
                    );
                    return h(f, c),
                    f
                }
                function b(a, b) {
                    var c = this;
                    "string" != typeof a && (d.console.warn(a + " used as a key, but it is not a string."),
                    a = String(a));
                    var e = new Promise(function(b, e) {
                        c.ready().then(function() {
                            var f = c.wa;
                            f.db.transaction(function(c) {
                                c.executeSql("DELETE FROM " + f.Ca + " WHERE key = ?", [a], function() {
                                    b()
                                }, function(a, b) {
                                    e(b)
                                })
                            })
                        })["catch"](e)
                    }
                    );
                    return h(e, b),
                    e
                }
                function e(a) {
                    var b = this
                      , c = new Promise(function(a, c) {
                        b.ready().then(function() {
                            var e = b.wa;
                            e.db.transaction(function(b) {
                                b.executeSql("DELETE FROM " + e.Ca, [], function() {
                                    a()
                                }, function(a, b) {
                                    c(b)
                                })
                            })
                        })["catch"](c)
                    }
                    );
                    return h(c, a),
                    c
                }
                function c(a) {
                    var b = this
                      , c = new Promise(function(a, c) {
                        b.ready().then(function() {
                            var e = b.wa;
                            e.db.transaction(function(b) {
                                b.executeSql("SELECT COUNT(key) as c FROM " + e.Ca, [], function(b, c) {
                                    var e = c.rows.item(0).wi;
                                    a(e)
                                }, function(a, b) {
                                    c(b)
                                })
                            })
                        })["catch"](c)
                    }
                    );
                    return h(c, a),
                    c
                }
                function f(a, b) {
                    var c = this
                      , e = new Promise(function(b, e) {
                        c.ready().then(function() {
                            var f = c.wa;
                            f.db.transaction(function(c) {
                                c.executeSql("SELECT key FROM " + f.Ca + " WHERE id = ? LIMIT 1", [a + 1], function(a, c) {
                                    var e = c.rows.length ? c.rows.item(0).key : null;
                                    b(e)
                                }, function(a, b) {
                                    e(b)
                                })
                            })
                        })["catch"](e)
                    }
                    );
                    return h(e, b),
                    e
                }
                function g(a) {
                    var b = this
                      , c = new Promise(function(a, c) {
                        b.ready().then(function() {
                            var e = b.wa;
                            e.db.transaction(function(b) {
                                b.executeSql("SELECT key FROM " + e.Ca, [], function(b, c) {
                                    for (var e = [], f = 0; f < c.rows.length; f++)
                                        e.push(c.rows.item(f).key);
                                    a(e)
                                }, function(a, b) {
                                    c(b)
                                })
                            })
                        })["catch"](c)
                    }
                    );
                    return h(c, a),
                    c
                }
                function h(a, b) {
                    b && a.then(function(a) {
                        b(null, a)
                    }, function(a) {
                        b(a)
                    })
                }
                var m = d.openDatabase;
                if (m)
                    return {
                        qi: "webSQLStorage",
                        yn: n,
                        os: l,
                        getItem: t,
                        setItem: a,
                        removeItem: b,
                        clear: e,
                        length: c,
                        key: f,
                        keys: g
                    }
            }("undefined" != typeof window ? window : self);
            d.ee = m["default"]
        }
        ])
    };
    "object" == typeof exports && "object" == typeof module ? module.ee = wc() : "function" == typeof define && define.HB ? define([], wc) : "object" == typeof exports ? exports.localforage = wc() : this.localforage = wc()
} catch (xc) {
    vc = !0
}
function yc(d) {
    this.b = d
}
(function() {
    function d(a) {
        a.b.trigger(yc.prototype.j.rk, a)
    }
    function m() {}
    function p() {}
    function r() {}
    var n = ""
      , t = ""
      , l = "";
    "undefined" !== typeof window.is_scirra_arcade && (l = "sa" + window.scirra_arcade_id + "_");
    var a = yc.prototype;
    a.S = function(a) {
        this.Fa = a;
        this.b = a.b
    }
    ;
    a.S.prototype.G = function() {}
    ;
    a.K = function(a) {
        this.type = a;
        this.b = a.b
    }
    ;
    var b = a.K.prototype;
    b.G = function() {
        this.tp = this.up = 0
    }
    ;
    b.Ne = function() {}
    ;
    b.cb = function() {
        return {}
    }
    ;
    b.yb = function() {}
    ;
    m.prototype.xv = function(a) {
        return n === a
    }
    ;
    m.prototype.qv = function() {
        return !0
    }
    ;
    m.prototype.Cq = function(a) {
        return n === a
    }
    ;
    m.prototype.pv = function() {
        return !0
    }
    ;
    m.prototype.rk = function() {
        return !0
    }
    ;
    m.prototype.Bq = function(a) {
        return n === a
    }
    ;
    m.prototype.Dq = function(a) {
        return n === a
    }
    ;
    m.prototype.nv = function() {
        return !0
    }
    ;
    m.prototype.lv = function() {
        return !0
    }
    ;
    a.j = new m;
    p.prototype.Wv = function(a, b) {
        if (vc)
            d(this);
        else {
            var f = l + a;
            this.up++;
            var g = this;
            localforage.setItem(f, b, function(b, c) {
                g.up--;
                b ? g.b.trigger(yc.prototype.j.rk, g) : (n = a,
                t = c,
                g.b.trigger(yc.prototype.j.qv, g),
                g.b.trigger(yc.prototype.j.xv, g),
                t = n = "");
                0 === g.up && g.b.trigger(yc.prototype.j.nv, g)
            })
        }
    }
    ;
    p.prototype.Tu = function(a) {
        if (vc)
            d(this);
        else {
            var b = l + a;
            this.tp++;
            var f = this;
            localforage.getItem(b, function(b, c) {
                f.tp--;
                if (b)
                    f.b.trigger(yc.prototype.j.rk, f);
                else {
                    n = a;
                    t = c;
                    if ("undefined" === typeof t || null === t)
                        t = "";
                    f.b.trigger(yc.prototype.j.pv, f);
                    f.b.trigger(yc.prototype.j.Cq, f);
                    t = n = ""
                }
                0 === f.tp && f.b.trigger(yc.prototype.j.lv, f)
            })
        }
    }
    ;
    p.prototype.Fu = function(a) {
        if (vc)
            d(this);
        else {
            var b = this;
            localforage.getItem(l + a, function(f, d) {
                f ? b.b.trigger(yc.prototype.j.rk, b) : (n = a,
                null === d ? (t = "",
                b.b.trigger(yc.prototype.j.Dq, b)) : (t = d,
                b.b.trigger(yc.prototype.j.Bq, b)),
                t = n = "")
            })
        }
    }
    ;
    a.A = new p;
    r.prototype.gv = function(a) {
        a.Rp(t)
    }
    ;
    a.za = new r
}
)();
function zc(d) {
    this.b = d
}
(function() {
    function d() {}
    function m() {}
    function p() {}
    var r = zc.prototype;
    r.S = function(a) {
        this.Fa = a;
        this.b = a.b
    }
    ;
    r.S.prototype.G = function() {}
    ;
    r.K = function(a) {
        this.type = a;
        this.b = a.b;
        this.Xg = Array(4);
        this.lu = this.$m = this.Rg = this.Ke = this.Je = 0;
        this.wo = !1
    }
    ;
    var n = r.K.prototype;
    n.G = function() {
        var a = this;
        if (!this.b.hb) {
            jQuery(document).mousemove(function(b) {
                a.Fz(b)
            });
            jQuery(document).mousedown(function(b) {
                a.Ez(b)
            });
            jQuery(document).mouseup(function(b) {
                a.Gz(b)
            });
            jQuery(document).dblclick(function(b) {
                a.Dz(b)
            });
            var b = function(b) {
                a.Jz(b)
            };
            document.addEventListener("mousewheel", b, !1);
            document.addEventListener("DOMMouseScroll", b, !1)
        }
    }
    ;
    var t = {
        left: 0,
        top: 0
    };
    n.Fz = function(a) {
        var b = this.b.hb ? t : jQuery(this.b.canvas).offset();
        this.Je = a.pageX - b.left;
        this.Ke = a.pageY - b.top
    }
    ;
    n.Ss = function() {
        return 0 < this.b.zc ? !0 : 0 <= this.Je && 0 <= this.Ke && this.Je < this.b.width && this.Ke < this.b.height
    }
    ;
    n.Ez = function(a) {
        this.Ss() && (this.Xg[a.which] = !0,
        this.b.ad = !0,
        this.b.trigger(zc.prototype.j.xq, this),
        this.Rg = a.which - 1,
        this.$m = 0,
        this.b.trigger(zc.prototype.j.qn, this),
        this.b.trigger(zc.prototype.j.sn, this),
        this.b.ad = !1)
    }
    ;
    n.Gz = function(a) {
        this.Xg[a.which] && (this.b.Tr && !this.b.qh && a.preventDefault(),
        this.b.Tr = !0,
        this.Xg[a.which] = !1,
        this.b.ad = !0,
        this.Rg = a.which - 1,
        this.b.trigger(zc.prototype.j.Mq, this),
        this.b.ad = !1)
    }
    ;
    n.Dz = function(a) {
        this.Ss() && (a.preventDefault(),
        this.b.ad = !0,
        this.Rg = a.which - 1,
        this.$m = 1,
        this.b.trigger(zc.prototype.j.qn, this),
        this.b.trigger(zc.prototype.j.sn, this),
        this.b.ad = !1)
    }
    ;
    n.Jz = function(a) {
        this.lu = 0 > (a.wheelDelta ? a.wheelDelta : a.detail ? -a.detail : 0) ? 0 : 1;
        this.wo = !1;
        this.b.ad = !0;
        this.b.trigger(zc.prototype.j.Lv, this);
        this.b.ad = !1;
        this.wo && kb(a) && a.preventDefault()
    }
    ;
    n.If = function() {
        var a, b;
        a = 0;
        for (b = this.Xg.length; a < b; ++a)
            this.Xg[a] && (this.Xg[a] = !1,
            this.Rg = a - 1,
            this.b.trigger(zc.prototype.j.Mq, this))
    }
    ;
    d.prototype.qn = function(a, b) {
        return a === this.Rg && b === this.$m
    }
    ;
    d.prototype.xq = function() {
        return !0
    }
    ;
    d.prototype.Mq = function(a) {
        return a === this.Rg
    }
    ;
    d.prototype.bv = function(a) {
        var b = this.b.mh();
        return Ta(this.b.cu(a, this.Je, this.Ke, b.ph), b.ph)
    }
    ;
    d.prototype.sn = function(a, b, e) {
        return a !== this.Rg || b !== this.$m ? !1 : this.b.cu(e, this.Je, this.Ke, !1)
    }
    ;
    d.prototype.Lv = function(a) {
        this.wo = !0;
        return a === this.lu
    }
    ;
    r.j = new d;
    var l = null;
    m.prototype.Tv = function(a) {
        this.b.hb || (a = "auto pointer text crosshair move help wait none".split(" ")[a],
        l !== a && (l = a,
        document.body.style.cursor = a))
    }
    ;
    r.A = new m;
    p.prototype.Rq = function(a, b) {
        var e, c, f, d, h;
        ja(b) ? (e = this.b.Ki(0),
        c = e.scale,
        f = e.Wd,
        d = e.rd,
        h = e.k,
        e.scale = 1,
        e.Wd = 1,
        e.rd = 1,
        e.k = 0,
        a.L(e.ic(this.Je, this.Ke, !0)),
        e.scale = c,
        e.Wd = f,
        e.rd = d,
        e.k = h) : (e = ka(b) ? this.b.Ki(b) : this.b.no(b)) ? a.L(e.ic(this.Je, this.Ke, !0)) : a.L(0)
    }
    ;
    p.prototype.vn = function(a, b) {
        var e, c, f, d, h;
        ja(b) ? (e = this.b.Ki(0),
        c = e.scale,
        f = e.Wd,
        d = e.sd,
        h = e.k,
        e.scale = 1,
        e.Wd = 1,
        e.sd = 1,
        e.k = 0,
        a.L(e.ic(this.Je, this.Ke, !1)),
        e.scale = c,
        e.Wd = f,
        e.sd = d,
        e.k = h) : (e = ka(b) ? this.b.Ki(b) : this.b.no(b)) ? a.L(e.ic(this.Je, this.Ke, !1)) : a.L(0)
    }
    ;
    r.za = new p
}
)();
function Ac(d) {
    this.b = d
}
(function() {
    function d(d) {
        this.Oa = d;
        this.Sa = !1;
        this.k = this.speed = this.y = this.x = 0;
        this.opacity = 1;
        this.jf = this.nh = this.size = this.zl = 0
    }
    function m() {}
    var p = Ac.prototype;
    p.S = function(d) {
        this.Fa = d;
        this.b = d.b
    }
    ;
    var r = p.S.prototype;
    r.G = function() {
        this.I || (this.O = new Image,
        this.O.Mn = this.Um,
        this.ta = null,
        this.b.jn(this.O, this.dk))
    }
    ;
    r.Cj = function() {
        this.I || (this.ta = null)
    }
    ;
    r.Dj = function() {
        this.I || !this.e.length || this.ta || (this.ta = this.b.B.Gh(this.O, !0, this.b.Na, this.ek))
    }
    ;
    r.Vl = function() {
        this.I || this.ta || !this.b.B || (this.ta = this.b.B.Gh(this.O, !0, this.b.Na, this.ek))
    }
    ;
    r.gk = function() {
        this.I || this.e.length || !this.ta || (this.b.B.deleteTexture(this.ta),
        this.ta = null)
    }
    ;
    r.Ij = function(d) {
        d.drawImage(this.O, 0, 0)
    }
    ;
    d.prototype.init = function() {
        var d = this.Oa;
        this.x = d.x - d.ln / 2 + Math.random() * d.ln;
        this.y = d.y - d.mn / 2 + Math.random() * d.mn;
        this.speed = d.Fo - d.Qm / 2 + Math.random() * d.Qm;
        this.k = d.k - d.Rm / 2 + Math.random() * d.Rm;
        this.opacity = d.Do;
        this.size = d.Eo - d.Pm / 2 + Math.random() * d.Pm;
        this.zl = d.vo - d.Al / 2 + Math.random() * d.Al;
        this.jf = this.nh = 0
    }
    ;
    d.prototype.La = function(d) {
        var l = this.Oa;
        this.x += Math.cos(this.k) * this.speed * d;
        this.y += Math.sin(this.k) * this.speed * d;
        this.y += this.nh * d;
        this.speed += l.Zd * d;
        this.size += this.zl * d;
        this.nh += l.Ac * d;
        this.jf += d;
        1 > this.size ? this.Sa = !1 : (0 !== l.jj && (this.k += Math.random() * l.jj * d - l.jj * d / 2),
        0 !== l.lj && (this.speed += Math.random() * l.lj * d - l.lj * d / 2),
        0 !== l.kj && (this.opacity += Math.random() * l.kj * d - l.kj * d / 2,
        0 > this.opacity ? this.opacity = 0 : 1 < this.opacity && (this.opacity = 1)),
        1 >= l.eh && this.jf >= l.timeout && (this.Sa = !1),
        2 === l.eh && 0 >= this.speed && (this.Sa = !1))
    }
    ;
    d.prototype.nd = function(d) {
        var l = this.Oa.opacity * this.opacity;
        if (0 !== l) {
            0 === this.Oa.eh && (l *= 1 - this.jf / this.Oa.timeout);
            d.globalAlpha = l;
            var l = this.x - this.size / 2
              , a = this.y - this.size / 2;
            this.Oa.b.dd && (l = l + .5 | 0,
            a = a + .5 | 0);
            d.drawImage(this.Oa.type.O, l, a, this.size, this.size)
        }
    }
    ;
    d.prototype.gc = function(d) {
        var l = this.Oa.opacity * this.opacity;
        0 === this.Oa.eh && (l *= 1 - this.jf / this.Oa.timeout);
        var a = this.size
          , b = a * this.Oa.pt
          , e = this.x - a / 2
          , c = this.y - a / 2;
        this.Oa.b.dd && (e = e + .5 | 0,
        c = c + .5 | 0);
        1 > b || 0 === l || (b < d.xz || b > d.dp ? (d.Nf(l),
        d.Uh(e, c, e + a, c, e + a, c + a, e, c + a)) : d.Oz(this.x, this.y, b, l))
    }
    ;
    d.prototype.left = function() {
        return this.x - this.size / 2
    }
    ;
    d.prototype.right = function() {
        return this.x + this.size / 2
    }
    ;
    d.prototype.top = function() {
        return this.y - this.size / 2
    }
    ;
    d.prototype.bottom = function() {
        return this.y + this.size / 2
    }
    ;
    p.K = function(d) {
        this.type = d;
        this.b = d.b
    }
    ;
    var r = p.K.prototype
      , n = [];
    r.G = function() {
        var d = this.u;
        this.zm = d[0];
        this.Rm = V(d[1]);
        this.$h = d[2];
        this.Vp = !0;
        this.Fo = d[3];
        this.Eo = d[4];
        this.Do = d[5] / 100;
        this.vo = d[6];
        this.ln = d[7];
        this.mn = d[8];
        this.Qm = d[9];
        this.Pm = d[10];
        this.Al = d[11];
        this.Zd = d[12];
        this.Ac = d[13];
        this.jj = d[14];
        this.lj = d[15];
        this.kj = d[16];
        this.eh = d[17];
        this.timeout = d[18];
        this.Fg = 0;
        this.pt = 1;
        this.lm = this.x;
        this.nm = this.y;
        this.mm = this.x;
        this.km = this.y;
        this.Bw(function(d) {
            d.Ia.set(d.lm, d.nm, d.mm, d.km);
            d.Lc.Zh(d.Ia);
            d.Ik = !1;
            d.nq();
            d.vu()
        });
        this.qc || (this.oc = []);
        this.b.di(this);
        this.type.Vl();
        if (1 === this.$h)
            for (d = 0; d < this.zm; d++)
                this.An().opacity = 0;
        this.ml = !0
    }
    ;
    r.cb = function() {
        var d = {
            r: this.zm,
            sc: this.Rm,
            st: this.$h,
            s: this.Vp,
            isp: this.Fo,
            isz: this.Eo,
            io: this.Do,
            gr: this.vo,
            xr: this.ln,
            yr: this.mn,
            spr: this.Qm,
            szr: this.Pm,
            grnd: this.Al,
            acc: this.Zd,
            g: this.Ac,
            lar: this.jj,
            lsr: this.lj,
            lor: this.kj,
            dm: this.eh,
            to: this.timeout,
            pcc: this.Fg,
            ft: this.ml,
            p: []
        }, l, a, b, e = d.p;
        l = 0;
        for (a = this.oc.length; l < a; l++)
            b = this.oc[l],
            e.push([b.x, b.y, b.speed, b.k, b.opacity, b.zl, b.size, b.nh, b.jf]);
        return d
    }
    ;
    r.yb = function(d) {
        this.zm = d.r;
        this.Rm = d.sc;
        this.$h = d.st;
        this.Vp = d.s;
        this.Fo = d.isp;
        this.Eo = d.isz;
        this.Do = d.io;
        this.vo = d.gr;
        this.ln = d.xr;
        this.mn = d.yr;
        this.Qm = d.spr;
        this.Pm = d.szr;
        this.Al = d.grnd;
        this.Zd = d.acc;
        this.Ac = d.g;
        this.jj = d.lar;
        this.lj = d.lsr;
        this.kj = d.lor;
        this.eh = d.dm;
        this.timeout = d.to;
        this.Fg = d.pcc;
        this.ml = d.ft;
        n.push.apply(n, this.oc);
        U(this.oc);
        var l, a, b, e = d.p;
        d = 0;
        for (l = e.length; d < l; d++)
            a = this.An(),
            b = e[d],
            a.x = b[0],
            a.y = b[1],
            a.speed = b[2],
            a.k = b[3],
            a.opacity = b[4],
            a.zl = b[5],
            a.size = b[6],
            a.nh = b[7],
            a.jf = b[8]
    }
    ;
    r.Ne = function() {
        n.push.apply(n, this.oc);
        U(this.oc)
    }
    ;
    r.An = function() {
        var m;
        n.length ? (m = n.pop(),
        m.Oa = this) : m = new d(this);
        this.oc.push(m);
        m.Sa = !0;
        return m
    }
    ;
    r.La = function() {
        var d = this.b.kg(this), l, a, b, e;
        if (0 === this.$h && this.Vp)
            for (this.Fg += d * this.zm,
            a = B(this.Fg),
            this.Fg -= a,
            l = 0; l < a; l++)
                b = this.An(),
                b.init();
        this.lm = this.x;
        this.nm = this.y;
        this.mm = this.x;
        this.km = this.y;
        e = l = 0;
        for (a = this.oc.length; l < a; l++)
            b = this.oc[l],
            this.oc[e] = b,
            this.b.ba = !0,
            1 === this.$h && this.ml && b.init(),
            b.La(d),
            b.Sa ? (b.left() < this.lm && (this.lm = b.left()),
            b.right() > this.mm && (this.mm = b.right()),
            b.top() < this.nm && (this.nm = b.top()),
            b.bottom() > this.km && (this.km = b.bottom()),
            e++) : n.push(b);
        Aa(this.oc, e);
        this.F();
        this.ml = !1;
        1 === this.$h && 0 === this.oc.length && this.b.Xd(this)
    }
    ;
    r.nd = function(d) {
        var l, a, b, e = this.n;
        l = 0;
        for (a = this.oc.length; l < a; l++)
            b = this.oc[l],
            b.right() >= e.qa && b.bottom() >= e.ra && b.left() <= e.Ea && b.top() <= e.Da && b.nd(d)
    }
    ;
    r.gc = function(d) {
        this.pt = this.n.Zc();
        d.Gc(this.type.ta);
        var l, a, b, e = this.n;
        l = 0;
        for (a = this.oc.length; l < a; l++)
            b = this.oc[l],
            b.right() >= e.qa && b.bottom() >= e.ra && b.left() <= e.Ea && b.top() <= e.Da && b.gc(d)
    }
    ;
    p.j = new function() {}
    ;
    m.prototype.Pq = function(d) {
        this.Ac = d
    }
    ;
    p.A = new m;
    p.za = new function() {}
}
)();
function X(d) {
    this.b = d
}
(function() {
    function d() {
        if (0 === this.Rn.length) {
            var a = document.createElement("canvas");
            a.width = this.width;
            a.height = this.height;
            var b = a.getContext("2d");
            this.ai ? b.drawImage(this.O, this.Oh, this.Ph, this.width, this.height, 0, 0, this.width, this.height) : b.drawImage(this.O, 0, 0, this.width, this.height);
            this.Rn = a.toDataURL("image/png")
        }
        return this.Rn
    }
    function m() {}
    function p(a) {
        a[0] = 0;
        a[1] = 0;
        a[2] = 0;
        g.push(a)
    }
    function r(a, b) {
        return a < b ? "" + a + "," + b : "" + b + "," + a
    }
    function n(a, b, c, e) {
        b = b.uid;
        c = c.uid;
        var d = r(b, c);
        if (a.hasOwnProperty(d))
            a[d][2] = e;
        else {
            var f = g.length ? g.pop() : [0, 0, 0];
            f[0] = b;
            f[1] = c;
            f[2] = e;
            a[d] = f
        }
    }
    function t(a, b, c) {
        b = r(b.uid, c.uid);
        a.hasOwnProperty(b) && (p(a[b]),
        delete a[b])
    }
    function l(a, b, c) {
        b = r(b.uid, c.uid);
        if (a.hasOwnProperty(b))
            return h = a[b][2],
            !0;
        h = -2;
        return !1
    }
    function a() {}
    var b = X.prototype;
    b.S = function(a) {
        this.Fa = a;
        this.b = a.b
    }
    ;
    var e = b.S.prototype;
    e.G = function() {
        if (!this.I) {
            var a, b, c, e, f, g, k, h, q;
            this.Bd = [];
            this.Pi = !1;
            a = 0;
            for (b = this.Kc.length; a < b; a++) {
                f = this.Kc[a];
                k = {};
                k.name = f[0];
                k.speed = f[1];
                k.loop = f[2];
                k.Ep = f[3];
                k.Fp = f[4];
                k.qt = f[5];
                k.fa = f[6];
                k.frames = [];
                c = 0;
                for (e = f[7].length; c < e; c++)
                    g = f[7][c],
                    h = {},
                    h.dk = g[0],
                    h.Um = g[1],
                    h.Oh = g[2],
                    h.Ph = g[3],
                    h.width = g[4],
                    h.height = g[5],
                    h.duration = g[6],
                    h.Bc = g[7],
                    h.Cc = g[8],
                    h.Bo = g[9],
                    h.rm = g[10],
                    h.tt = g[11],
                    h.ai = 0 !== h.width,
                    h.Rn = "",
                    h.KB = d,
                    q = {
                        left: 0,
                        top: 0,
                        right: 1,
                        bottom: 1
                    },
                    h.Sp = q,
                    h.ta = null,
                    (q = this.b.jy(g[0])) ? h.O = q : (h.O = new Image,
                    h.O.Qw = g[0],
                    h.O.Mn = g[1],
                    h.O.Jw = null,
                    this.b.jn(h.O, g[0])),
                    k.frames.push(h),
                    this.Bd.push(h);
                this.Kc[a] = k
            }
        }
    }
    ;
    e.tu = function() {
        var a, b, c;
        a = 0;
        for (b = this.e.length; a < b; a++)
            c = this.e[a],
            c.Tk = c.Nb.ta
    }
    ;
    e.Cj = function() {
        if (!this.I) {
            var a, b, c;
            a = 0;
            for (b = this.Bd.length; a < b; ++a)
                c = this.Bd[a],
                c.O.Jw = null,
                c.ta = null;
            this.Pi = !1;
            this.tu()
        }
    }
    ;
    e.Dj = function() {
        if (!this.I && this.e.length) {
            var a, b, c;
            a = 0;
            for (b = this.Bd.length; a < b; ++a)
                c = this.Bd[a],
                c.ta = this.b.B.Gh(c.O, !1, this.b.Na, c.tt);
            this.tu()
        }
    }
    ;
    e.Vl = function() {
        if (!this.I && !this.Pi && this.b.B) {
            var a, b, c;
            a = 0;
            for (b = this.Bd.length; a < b; ++a)
                c = this.Bd[a],
                c.ta = this.b.B.Gh(c.O, !1, this.b.Na, c.tt);
            this.Pi = !0
        }
    }
    ;
    e.gk = function() {
        if (!this.I && !this.e.length && this.Pi) {
            var a, b, c;
            a = 0;
            for (b = this.Bd.length; a < b; ++a)
                c = this.Bd[a],
                this.b.B.deleteTexture(c.ta),
                c.ta = null;
            this.Pi = !1
        }
    }
    ;
    var c = [];
    e.Ij = function(a) {
        var b, e, d;
        U(c);
        b = 0;
        for (e = this.Bd.length; b < e; ++b)
            d = this.Bd[b].O,
            -1 === c.indexOf(d) && (a.drawImage(d, 0, 0),
            c.push(d))
    }
    ;
    b.K = function(a) {
        this.type = a;
        this.b = a.b;
        a = this.type.Kc[0].frames[0].rm;
        this.qc ? this.xa.Uj(a) : this.xa = new bb(a)
    }
    ;
    var f = b.K.prototype;
    f.G = function() {
        this.visible = 0 === this.u[0];
        this.El = this.tg = !1;
        this.Vc = 0 !== this.u[3];
        this.Ma = this.Ir(this.u[1]) || this.type.Kc[0];
        this.J = this.u[2];
        0 > this.J && (this.J = 0);
        this.J >= this.Ma.frames.length && (this.J = this.Ma.frames.length - 1);
        var a = this.Ma.frames[this.J];
        this.xa.Uj(a.rm);
        this.Bc = a.Bc;
        this.Cc = a.Cc;
        this.Yf = this.Ma.speed;
        this.wf = this.Ma.Fp;
        1 === this.type.Kc.length && 1 === this.type.Kc[0].frames.length || 0 === this.Yf || (this.b.di(this),
        this.tg = !0);
        this.qc ? this.ae.reset() : this.ae = new $a;
        this.Be = this.ae.R;
        this.Sf = !0;
        this.ve = 0;
        this.lf = !0;
        this.Yg = this.Yq = "";
        this.jr = 0;
        this.Mk = -1;
        this.type.Vl();
        var b, c, e, d, f, g, k, a = 0;
        for (b = this.type.Kc.length; a < b; a++)
            for (d = this.type.Kc[a],
            c = 0,
            e = d.frames.length; c < e; c++)
                f = d.frames[c],
                0 === f.width && (f.width = f.O.width,
                f.height = f.O.height),
                f.ai && (k = f.O,
                g = f.Sp,
                g.left = f.Oh / k.width,
                g.top = f.Ph / k.height,
                g.right = (f.Oh + f.width) / k.width,
                g.bottom = (f.Ph + f.height) / k.height,
                0 === f.Oh && 0 === f.Ph && f.width === k.width && f.height === k.height && (f.ai = !1));
        this.Nb = this.Ma.frames[this.J];
        this.Tk = this.Nb.ta
    }
    ;
    f.cb = function() {
        var a = {
            a: this.Ma.fa,
            f: this.J,
            cas: this.Yf,
            fs: this.Be,
            ar: this.ve,
            at: this.ae.R,
            rt: this.wf
        };
        this.Sf || (a.ap = this.Sf);
        this.lf || (a.af = this.lf);
        return a
    }
    ;
    f.yb = function(a) {
        var b = this.oy(a.a);
        b && (this.Ma = b);
        this.J = a.f;
        0 > this.J && (this.J = 0);
        this.J >= this.Ma.frames.length && (this.J = this.Ma.frames.length - 1);
        this.Yf = a.cas;
        this.Be = a.fs;
        this.ve = a.ar;
        this.ae.reset();
        this.ae.R = a.at;
        this.Sf = a.hasOwnProperty("ap") ? a.ap : !0;
        this.lf = a.hasOwnProperty("af") ? a.af : !0;
        a.hasOwnProperty("rt") ? this.wf = a.rt : this.wf = this.Ma.Fp;
        this.Nb = this.Ma.frames[this.J];
        this.Tk = this.Nb.ta;
        this.xa.Uj(this.Nb.rm);
        this.Bc = this.Nb.Bc;
        this.Cc = this.Nb.Cc
    }
    ;
    f.Dn = function(a) {
        this.J = a ? 0 : this.Ma.frames.length - 1;
        this.Sf = !1;
        this.Yq = this.Ma.name;
        this.El = !0;
        this.b.trigger(X.prototype.j.wq, this);
        this.b.trigger(X.prototype.j.ov, this);
        this.El = !1;
        this.ve = 0
    }
    ;
    f.of = function() {
        return this.ae.R
    }
    ;
    f.La = function() {
        this.ae.add(this.b.kg(this));
        this.Yg.length && this.qr();
        0 <= this.Mk && this.rr();
        var a = this.ae.R
          , b = this.Ma
          , c = b.frames[this.J]
          , e = c.duration / this.Yf;
        this.Sf && a >= this.Be + e && (this.lf ? this.J++ : this.J--,
        this.Be += e,
        this.J >= b.frames.length && (b.qt ? (this.lf = !1,
        this.J = b.frames.length - 2) : b.loop ? this.J = this.wf : (this.ve++,
        this.ve >= b.Ep ? this.Dn(!1) : this.J = this.wf)),
        0 > this.J && (b.qt ? (this.J = 1,
        this.lf = !0,
        b.loop || (this.ve++,
        this.ve >= b.Ep && this.Dn(!0))) : b.loop ? this.J = this.wf : (this.ve++,
        this.ve >= b.Ep ? this.Dn(!0) : this.J = this.wf)),
        0 > this.J ? this.J = 0 : this.J >= b.frames.length && (this.J = b.frames.length - 1),
        a > this.Be + b.frames[this.J].duration / this.Yf && (this.Be = a),
        a = b.frames[this.J],
        this.Vg(c, a),
        this.b.ba = !0)
    }
    ;
    f.Ir = function(a) {
        var b, c, e;
        b = 0;
        for (c = this.type.Kc.length; b < c; b++)
            if (e = this.type.Kc[b],
            jb(e.name, a))
                return e;
        return null
    }
    ;
    f.oy = function(a) {
        var b, c, e;
        b = 0;
        for (c = this.type.Kc.length; b < c; b++)
            if (e = this.type.Kc[b],
            e.fa === a)
                return e;
        return null
    }
    ;
    f.qr = function() {
        var a = this.Ma.frames[this.J]
          , b = this.Ir(this.Yg);
        this.Yg = "";
        !b || jb(b.name, this.Ma.name) && this.Sf || (this.Ma = b,
        this.Yf = b.speed,
        this.wf = b.Fp,
        0 > this.J && (this.J = 0),
        this.J >= this.Ma.frames.length && (this.J = this.Ma.frames.length - 1),
        1 === this.jr && (this.J = 0),
        this.Sf = !0,
        this.Be = this.ae.R,
        this.lf = !0,
        this.Vg(a, this.Ma.frames[this.J]),
        this.b.ba = !0)
    }
    ;
    f.rr = function() {
        var a = this.Ma.frames[this.J]
          , b = this.J;
        this.J = B(this.Mk);
        0 > this.J && (this.J = 0);
        this.J >= this.Ma.frames.length && (this.J = this.Ma.frames.length - 1);
        b !== this.J && (this.Vg(a, this.Ma.frames[this.J]),
        this.Be = this.ae.R,
        this.b.ba = !0);
        this.Mk = -1
    }
    ;
    f.Vg = function(a, b) {
        var c = a.width
          , e = a.height
          , d = b.width
          , f = b.height;
        c != d && (this.width *= d / c);
        e != f && (this.height *= f / e);
        this.Bc = b.Bc;
        this.Cc = b.Cc;
        this.xa.Uj(b.rm);
        this.F();
        this.Nb = b;
        this.Tk = b.ta;
        c = 0;
        for (e = this.P.length; c < e; c++)
            d = this.P[c],
            d.et && d.et(a, b);
        this.b.trigger(X.prototype.j.Vg, this)
    }
    ;
    f.nd = function(a) {
        a.globalAlpha = this.opacity;
        var b = this.Nb
          , c = b.ai
          , e = b.O
          , d = this.x
          , f = this.y
          , g = this.width
          , k = this.height;
        if (0 === this.k && 0 <= g && 0 <= k)
            d -= this.Bc * g,
            f -= this.Cc * k,
            this.b.dd && (d = Math.round(d),
            f = Math.round(f)),
            c ? a.drawImage(e, b.Oh, b.Ph, b.width, b.height, d, f, g, k) : a.drawImage(e, d, f, g, k);
        else {
            this.b.dd && (d = Math.round(d),
            f = Math.round(f));
            a.save();
            var h = 0 < g ? 1 : -1
              , q = 0 < k ? 1 : -1;
            a.translate(d, f);
            1 === h && 1 === q || a.scale(h, q);
            a.rotate(this.k * h * q);
            d = 0 - this.Bc * pa(g);
            f = 0 - this.Cc * pa(k);
            c ? a.drawImage(e, b.Oh, b.Ph, b.width, b.height, d, f, pa(g), pa(k)) : a.drawImage(e, d, f, pa(g), pa(k));
            a.restore()
        }
    }
    ;
    f.ag = function(a) {
        this.gc(a)
    }
    ;
    f.gc = function(a) {
        a.Gc(this.Tk);
        a.Nf(this.opacity);
        var b = this.Nb
          , c = this.Lc;
        if (this.b.dd) {
            var e = Math.round(this.x) - this.x
              , d = Math.round(this.y) - this.y;
            b.ai ? a.Re(c.pb + e, c.qb + d, c.Zb + e, c.$b + d, c.Lb + e, c.Mb + d, c.Jb + e, c.Kb + d, b.Sp) : a.Uh(c.pb + e, c.qb + d, c.Zb + e, c.$b + d, c.Lb + e, c.Mb + d, c.Jb + e, c.Kb + d)
        } else
            b.ai ? a.Re(c.pb, c.qb, c.Zb, c.$b, c.Lb, c.Mb, c.Jb, c.Kb, b.Sp) : a.Uh(c.pb, c.qb, c.Zb, c.$b, c.Lb, c.Mb, c.Jb, c.Kb)
    }
    ;
    f.wy = function(a) {
        var b = this.Nb, c, e;
        c = 0;
        for (e = b.Bo.length; c < e; c++)
            if (jb(a, b.Bo[c][0]))
                return c;
        return -1
    }
    ;
    f.Ji = function(a, b) {
        var c = this.Nb, e = c.Bo, d;
        ma(a) ? d = this.wy(a) : d = a - 1;
        d = B(d);
        if (0 > d || d >= e.length)
            return b ? this.x : this.y;
        var f = (e[d][1] - c.Bc) * this.width
          , e = e[d][2]
          , e = (e - c.Cc) * this.height
          , c = Math.cos(this.k);
        d = Math.sin(this.k);
        var g = f * c - e * d
          , e = e * c + f * d
          , f = g + this.x
          , e = e + this.y;
        return b ? f : e
    }
    ;
    var g = []
      , h = -2
      , y = [];
    m.prototype.tv = function(a) {
        if (!a)
            return !1;
        var b = this.b
          , c = b.mh()
          , e = c.type
          , d = null;
        c.H.collmemory ? d = c.H.collmemory : (d = {},
        c.H.collmemory = d);
        c.H.spriteCreatedDestroyCallback || (c.H.spriteCreatedDestroyCallback = !0,
        b.zk(function(a) {
            var b = c.H.collmemory;
            a = a.uid;
            var e, d;
            for (e in b)
                b.hasOwnProperty(e) && (d = b[e],
                d[0] === a || d[1] === a) && (p(b[e]),
                delete b[e])
        }));
        var f = e.Z(), g = a.Z(), f = f.Nc(), k, q, u, m, r, T, I, E = this.b.Pg, z = E - 1, w = b.Za().fb;
        for (q = 0; q < f.length; q++) {
            u = f[q];
            g.ea ? (u.Ha(),
            this.b.ho(u.n, a, u.Ia, y),
            k = y,
            this.b.Aw(u, a, k)) : k = g.Nc();
            for (m = 0; m < k.length; m++)
                r = k[m],
                b.Ic(u, r) || b.Mw(u, r) ? (T = l(d, u, r),
                T = !T || h < z,
                n(d, u, r, E),
                T && (b.Lj(w.Ga),
                T = e.Z(),
                I = a.Z(),
                T.ea = !1,
                I.ea = !1,
                e === a ? (T.e.length = 2,
                T.e[0] = u,
                T.e[1] = r,
                e.Dd()) : (T.e.length = 1,
                I.e.length = 1,
                T.e[0] = u,
                I.e[0] = r,
                e.Dd(),
                a.Dd()),
                w.Gp(),
                b.Kf(w.Ga))) : t(d, u, r);
            U(y)
        }
        return !1
    }
    ;
    var I = null
      , q = new fa
      , k = !1
      , u = []
      , T = new wa(0,0,0,0);
    e.finish = function(a) {
        if (k) {
            if (a) {
                var b = this.b.Za().fb.cd;
                a = I.Z();
                var c = q.bf(), e, d;
                if (a.ea) {
                    a.ea = !1;
                    U(a.e);
                    e = 0;
                    for (d = c.length; e < d; ++e)
                        a.e[e] = c[e];
                    if (b)
                        for (U(a.Y),
                        e = 0,
                        d = I.e.length; e < d; ++e)
                            c = I.e[e],
                            q.contains(c) || a.Y.push(c)
                } else if (b)
                    for (b = a.e.length,
                    e = 0,
                    d = c.length; e < d; ++e)
                        a.e[b + e] = c[e],
                        Fa(a.Y, c[e]);
                else
                    Ca(a.e, c);
                I.Dd()
            }
            q.clear();
            k = !1
        }
    }
    ;
    m.prototype.cv = function(a) {
        if (a) {
            var b = !1, c, e, d, f = this.b.mh(), g = f.type, f = f.ph;
            c = a.Z();
            e = this.b.Za().fb.cd;
            var h;
            c.ea ? (this.Ha(),
            T.$g(this.Ia),
            T.offset(0, 0),
            this.b.ho(this.n, a, T, u),
            h = u) : h = e ? this.b.ez() && !c.Y.length && c.e.length ? c.e : c.Y : c.e;
            I = a;
            k = g !== a && !f;
            c = 0;
            for (e = h.length; c < e; c++)
                if (d = h[c],
                this.b.Ic(this, d)) {
                    b = !0;
                    if (f)
                        break;
                    g !== a && q.add(d)
                }
            U(u);
            a = b
        } else
            a = !1;
        return a
    }
    ;
    m.prototype.Wu = function(a) {
        return this.Yg.length ? jb(this.Yg, a) : jb(this.Ma.name, a)
    }
    ;
    m.prototype.Ju = function(a, b) {
        return fc(this.J, a, b)
    }
    ;
    m.prototype.ov = function(a) {
        return jb(this.Yq, a)
    }
    ;
    m.prototype.wq = function() {
        return !0
    }
    ;
    m.prototype.Vg = function() {
        return !0
    }
    ;
    m.prototype.$u = function() {
        return this.Vc
    }
    ;
    b.j = new m;
    a.prototype.iw = function(a, b, c) {
        if (a && b && (b = this.b.Nn(a, b, this.Ji(c, !0), this.Ji(c, !1)))) {
            "undefined" !== typeof b.k && (b.k = this.k,
            b.F());
            this.b.Md++;
            var e, d, f;
            this.b.trigger(Object.getPrototypeOf(a.Fa).j.oi, b);
            if (b.lc)
                for (e = 0,
                d = b.siblings.length; e < d; e++)
                    f = b.siblings[e],
                    this.b.trigger(Object.getPrototypeOf(f.type.Fa).j.oi, f);
            this.b.Md--;
            e = this.b.ty();
            c = !1;
            if (ja(e.H.Spawn_LastExec) || e.H.Spawn_LastExec < this.b.hg)
                c = !0,
                e.H.Spawn_LastExec = this.b.hg;
            if (a != this.type && (a = a.Z(),
            a.ea = !1,
            c ? (U(a.e),
            a.e[0] = b) : a.e.push(b),
            b.lc))
                for (e = 0,
                d = b.siblings.length; e < d; e++)
                    f = b.siblings[e],
                    a = f.type.Z(),
                    a.ea = !1,
                    c ? (U(a.e),
                    a.e[0] = f) : a.e.push(f)
        }
    }
    ;
    a.prototype.Ov = function(a, b) {
        this.Yg = a;
        this.jr = b;
        this.tg || (this.b.di(this),
        this.tg = !0);
        this.El || this.qr()
    }
    ;
    a.prototype.Pv = function(a) {
        this.Mk = a;
        this.tg || (this.b.di(this),
        this.tg = !0);
        this.El || this.rr()
    }
    ;
    a.prototype.Qv = function(a) {
        this.Yf = pa(a);
        this.lf = 0 <= a;
        this.tg || (this.b.di(this),
        this.tg = !0)
    }
    ;
    a.prototype.Yv = function(a) {
        a = pa(this.width) * (0 === a ? -1 : 1);
        this.width !== a && (this.width = a,
        this.F())
    }
    ;
    a.prototype.Sv = function(a) {
        this.Vc !== (0 !== a) && ((this.Vc = 0 !== a) ? this.F() : (this.jd.right >= this.jd.left && this.type.yi.update(this, this.jd, null),
        this.jd.set(0, 0, -1, -1)))
    }
    ;
    b.A = new a;
    b.za = new function() {}
}
)();
function Bc(d) {
    this.b = d
}
(function() {
    function d(a, b) {
        return a.length ? a.pop() : new b
    }
    function m(a, b, c) {
        if (c) {
            var e;
            c = 0;
            for (e = b.length; c < e; c++)
                a.length < l && a.push(b[c]);
            U(b)
        } else
            for (e in b)
                Object.prototype.hasOwnProperty.call(b, e) && (a.length < l && a.push(b[e]),
                delete b[e])
    }
    function p(b, c, e) {
        var f = b.zg;
        e = e.replace(/\s\s*$/, "");
        c >= f.length && f.push(d(a, Object));
        c = f[c];
        c.text = e;
        c.width = b.ip(e);
        b.ci = qa(b.ci, c.width)
    }
    function r() {}
    var n = Bc.prototype;
    n.G = function() {}
    ;
    n.S = function(a) {
        this.Fa = a;
        this.b = a.b
    }
    ;
    var t = n.S.prototype;
    t.G = function() {
        this.I || (this.O = new Image,
        this.b.jn(this.O, this.dk),
        this.ta = null)
    }
    ;
    t.Cj = function() {
        this.I || (this.ta = null)
    }
    ;
    t.Dj = function() {
        if (!this.I && this.e.length) {
            this.ta || (this.ta = this.b.B.Gh(this.O, !1, this.b.Na, this.ek));
            var a, b;
            a = 0;
            for (b = this.e.length; a < b; a++)
                this.e[a].ta = this.ta
        }
    }
    ;
    t.gk = function() {
        this.I || this.e.length || !this.ta || (this.b.B.deleteTexture(this.ta),
        this.ta = null)
    }
    ;
    t.Ij = function(a) {
        a.drawImage(this.O, 0, 0)
    }
    ;
    n.K = function(a) {
        this.type = a;
        this.b = a.b
    }
    ;
    t = n.K.prototype;
    t.Ne = function() {
        m(a, this.zg, !0);
        m(b, this.Ok, !1);
        m(e, this.Pk, !1);
        Va(this.tf)
    }
    ;
    t.G = function() {
        this.O = this.type.O;
        this.Nk = this.u[0];
        this.rf = this.u[1];
        this.characterSet = this.u[2];
        this.text = this.u[3];
        this.sf = this.u[4];
        this.visible = 0 === this.u[5];
        this.Cl = this.u[6] / 2;
        this.gn = this.u[7] / 2;
        this.KA = 0 === this.u[9];
        this.Zg = this.u[10];
        this.lineHeight = this.u[11];
        this.Og = this.ci = 0;
        this.qc ? (U(this.zg),
        Va(this.Ok),
        Va(this.Pk),
        Va(this.tf)) : (this.zg = [],
        this.Ok = {},
        this.Pk = {},
        this.tf = {});
        this.ck = !0;
        this.To = this.width;
        this.b.B && (this.type.ta || (this.type.ta = this.b.B.Gh(this.type.O, !1, this.b.Na, this.type.ek)),
        this.ta = this.type.ta);
        this.jw()
    }
    ;
    t.cb = function() {
        var a = {
            t: this.text,
            csc: this.sf,
            csp: this.Zg,
            lh: this.lineHeight,
            tw: this.ci,
            th: this.Og,
            lrt: this.qz,
            ha: this.Cl,
            va: this.gn,
            cw: {}
        }, b;
        for (b in this.tf)
            a.cw[b] = this.tf[b];
        return a
    }
    ;
    t.yb = function(a) {
        this.text = a.t;
        this.sf = a.csc;
        this.Zg = a.csp;
        this.lineHeight = a.lh;
        this.ci = a.tw;
        this.Og = a.th;
        this.qz = a.lrt;
        a.hasOwnProperty("ha") && (this.Cl = a.ha);
        a.hasOwnProperty("va") && (this.gn = a.va);
        for (var b in a.cw)
            this.tf[b] = a.cw[b];
        this.ck = !0;
        this.To = this.width
    }
    ;
    var l = 1E3
      , a = []
      , b = []
      , e = [];
    t.jw = function() {
        for (var a = this.O, c = a.width, f = a.height, a = this.Nk, l = this.rf, q = a / c, k = l / f, u = this.characterSet, c = Math.floor(c / a), f = Math.floor(f / l), n = 0; n < u.length && !(n >= c * f); n++) {
            var m = n % c
              , r = Math.floor(n / c)
              , p = u.charAt(n);
            if (this.b.B) {
                var t = this.Pk
                  , M = m * q
                  , x = r * k
                  , m = (m + 1) * q
                  , r = (r + 1) * k;
                void 0 === t[p] && (t[p] = d(e, wa));
                t[p].left = M;
                t[p].top = x;
                t[p].right = m;
                t[p].bottom = r
            } else
                t = this.Ok,
                m = m * a,
                r = r * l,
                M = a,
                x = l,
                void 0 === t[p] && (t[p] = d(b, Object)),
                t[p].x = m,
                t[p].y = r,
                t[p].hn = M,
                t[p].Bl = x
        }
    }
    ;
    var c = [];
    n.pw = function(a) {
        U(c);
        for (var b = "", e, d = 0; d < a.length; )
            if (e = a.charAt(d),
            "\n" === e)
                b.length && (c.push(b),
                b = ""),
                c.push("\n"),
                ++d;
            else if (" " === e || "\t" === e || "-" === e) {
                do
                    b += a.charAt(d),
                    d++;
                while (d < a.length && (" " === a.charAt(d) || "\t" === a.charAt(d)));
                c.push(b);
                b = ""
            } else
                d < a.length && (b += e,
                d++);
        b.length && c.push(b)
    }
    ;
    n.uw = function(b) {
        var c = b.text
          , e = b.zg;
        if (c && c.length) {
            var f = b.width;
            if (2 >= f)
                m(a, e, !0);
            else {
                var q = b.sf
                  , k = b.Zg;
                if (c.length * (b.Nk * q + k) - k <= f && -1 === c.indexOf("\n") && (k = b.ip(c),
                k <= f)) {
                    m(a, e, !0);
                    e.push(d(a, Object));
                    e[0].text = c;
                    e[0].width = k;
                    b.ci = k;
                    b.Og = b.rf * q + b.lineHeight;
                    return
                }
                this.vw(b);
                b.Og = e.length * (b.rf * q + b.lineHeight)
            }
        } else
            m(a, e, !0)
    }
    ;
    n.vw = function(b) {
        var e = b.KA
          , d = b.text
          , f = b.zg
          , q = b.width;
        e && (this.pw(d),
        d = c);
        var k = "", n, m, r, t = 0, Y = !1;
        for (r = 0; r < d.length; r++)
            "\n" === d[r] ? (!0 === Y ? Y = !1 : (p(b, t, k),
            t++),
            k = "") : (Y = !1,
            n = k,
            k += d[r],
            m = b.ip(k.replace(/\s\s*$/, "")),
            m > q && ("" === n ? (p(b, t, k),
            k = "",
            Y = !0) : (p(b, t, n),
            k = d[r]),
            t++,
            e || " " !== k || (k = "")));
        k.replace(/\s\s*$/, "").length && (p(b, t, k),
        t++);
        for (r = t; r < f.length; r++)
            a.length < l && a.push(f[r]);
        f.length = t
    }
    ;
    t.ip = function(a) {
        for (var b = this.Zg, c = a.length, e = 0, d = 0; d < c; d++)
            e += this.fo(a.charAt(d)) * this.sf + b;
        return e - (0 < e ? b : 0)
    }
    ;
    t.fo = function(a) {
        var b = this.tf;
        return void 0 !== b[a] ? b[a] : this.Nk
    }
    ;
    t.Bt = function() {
        if (this.ck || this.width !== this.To)
            this.Og = this.ci = 0,
            this.type.Fa.uw(this),
            this.ck = !1,
            this.To = this.width
    }
    ;
    t.nd = function(a) {
        var b = this.O;
        if ("" !== this.text && null != b && (this.Bt(),
        !(this.height < this.rf * this.sf + this.lineHeight))) {
            a.globalAlpha = this.opacity;
            var b = this.x
              , c = this.y;
            this.b.dd && (b = Math.round(b),
            c = Math.round(c));
            var e = this.n.qa
              , d = this.n.ra
              , f = this.n.Ea
              , l = this.n.Da;
            a.save();
            a.translate(b, c);
            a.rotate(this.k);
            for (var n = this.k, m = this.Cl, r = this.sf, t = this.rf * r, p = this.lineHeight, M = this.Zg, x = this.zg, G, C = -(this.Bc * this.width), O = -(this.Cc * this.height), O = O + this.gn * qa(0, this.height - this.Og), Q, N, F, R = 0; R < x.length; R++) {
                var H = x[R].text;
                G = m * qa(0, this.width - x[R].width);
                Q = C + G;
                O += p;
                if (0 === n && c + O + t < d)
                    O += t;
                else {
                    for (var E = 0; E < H.length; E++) {
                        N = H.charAt(E);
                        G = this.fo(N);
                        var z = this.Ok[N];
                        if (0 === n && b + Q + G * r + M < e)
                            Q += G * r + M;
                        else {
                            if (Q + G * r > this.width + 1E-5)
                                break;
                            void 0 !== z && (N = Q,
                            F = O,
                            0 === n && 1 === r && (N = Math.round(N),
                            F = Math.round(F)),
                            a.drawImage(this.O, z.x, z.y, z.hn, z.Bl, N, F, z.hn * r, z.Bl * r));
                            Q += G * r + M;
                            if (0 === n && b + Q > f)
                                break
                        }
                    }
                    O += t;
                    if (0 === n && (O + t + p > this.height || c + O > l))
                        break
                }
            }
            a.restore()
        }
    }
    ;
    var f = new xa;
    t.gc = function(a) {
        a.Gc(this.ta);
        a.Nf(this.opacity);
        if (this.text && (this.Bt(),
        !(this.height < this.rf * this.sf + this.lineHeight))) {
            this.Ha();
            var b = this.Lc
              , c = 0
              , e = 0;
            this.b.dd && (c = Math.round(this.x) - this.x,
            e = Math.round(this.y) - this.y);
            var d = this.n.qa, k = this.n.ra, n = this.n.Ea, l = this.n.Da, r = this.k, m = this.Cl, t = this.gn, p = this.sf, M = this.rf * p, x = this.lineHeight, G = this.Zg, C = this.zg, O = this.Og, Q, N, F;
            0 !== r && (N = Math.cos(r),
            F = Math.sin(r));
            for (var c = b.pb + c, b = b.qb + e, R, t = t * qa(0, this.height - O), H, E, O = 0; O < C.length; O++)
                if (e = C[O].text,
                R = Q = m * qa(0, this.width - C[O].width),
                t += x,
                0 === r && b + t + M < k)
                    t += M;
                else {
                    for (var z = 0; z < e.length; z++) {
                        var w = e.charAt(z);
                        Q = this.fo(w);
                        w = this.Pk[w];
                        if (0 === r && c + R + Q * p + G < d)
                            R += Q * p + G;
                        else {
                            if (R + Q * p > this.width + 1E-5)
                                break;
                            if (void 0 !== w) {
                                var K = this.Nk * p
                                  , D = this.rf * p;
                                H = R;
                                E = t;
                                0 === r && 1 === p && (H = Math.round(H),
                                E = Math.round(E));
                                f.pb = H;
                                f.qb = E;
                                f.Zb = H + K;
                                f.$b = E;
                                f.Jb = H;
                                f.Kb = E + D;
                                f.Lb = H + K;
                                f.Mb = E + D;
                                0 !== r && (H = f,
                                E = N,
                                K = F,
                                D = void 0,
                                D = H.pb * E - H.qb * K,
                                H.qb = H.qb * E + H.pb * K,
                                H.pb = D,
                                D = H.Zb * E - H.$b * K,
                                H.$b = H.$b * E + H.Zb * K,
                                H.Zb = D,
                                D = H.Jb * E - H.Kb * K,
                                H.Kb = H.Kb * E + H.Jb * K,
                                H.Jb = D,
                                D = H.Lb * E - H.Mb * K,
                                H.Mb = H.Mb * E + H.Lb * K,
                                H.Lb = D);
                                f.offset(c, b);
                                a.Re(f.pb, f.qb, f.Zb, f.$b, f.Lb, f.Mb, f.Jb, f.Kb, w)
                            }
                            R += Q * p + G;
                            if (0 === r && c + R > n)
                                break
                        }
                    }
                    t += M;
                    if (0 === r && (t + M + x > this.height || b + t > l))
                        break
                }
        }
    }
    ;
    n.j = new function() {}
    ;
    r.prototype.bw = function(a) {
        ka(a) && 1E9 > a && (a = Math.round(1E10 * a) / 1E10);
        a = a.toString();
        this.text !== a && (this.text = a,
        this.ck = !0,
        this.b.ba = !0)
    }
    ;
    t.of = function(a, b) {
        var c = parseInt(b, 10);
        this.tf[a] !== c && (this.tf[a] = c,
        this.ck = !0,
        this.b.ba = !0)
    }
    ;
    n.A = new r;
    n.za = new function() {}
}
)();
function Cc(d) {
    this.b = d
}
(function() {
    function d() {
        this.Ym = this.id = -1;
        this.Zq = this.fh = this.kk = this.Qi = !1;
        this.Ba = new wa(0,0,0,0)
    }
    function m(a) {
        1E4 > g.length && g.push(a)
    }
    function p() {
        this.id = -1;
        this.Ba = new wa(0,0,0,0);
        this.Qe = null
    }
    function r(a) {
        1E4 > h.length && h.push(a)
    }
    function n(a, b, c) {
        var e;
        return y.length ? (e = y.pop(),
        e.c = a,
        e.x = b,
        e.y = c,
        e.left = e.x * e.c.rb * e.c.Db,
        e.top = e.y * e.c.Eb * e.c.Cb,
        e.clear(),
        e.Mj = !1,
        e) : new t(a,b,c)
    }
    function t(a, b, c) {
        this.c = a;
        this.x = b;
        this.y = c;
        this.left = this.x * this.c.rb * this.c.Db;
        this.top = this.y * this.c.Eb * this.c.Cb;
        this.re = [];
        this.Wb = [];
        this.jc = [];
        this.Mj = !1;
        var e, d;
        a = 0;
        for (b = this.c.Eb; a < b; ++a) {
            d = [];
            c = 0;
            for (e = this.c.rb; c < e; ++c)
                d.push(-1);
            this.re.push(d)
        }
    }
    var l = Cc.prototype;
    l.S = function(a) {
        this.Fa = a;
        this.b = a.b
    }
    ;
    var a = l.S.prototype;
    a.G = function() {
        var a, b, c;
        if (!this.I && (this.O = new Image,
        this.O.Mn = this.Um,
        this.b.jn(this.O, this.dk),
        this.Zf = [],
        this.Qn = !1,
        this.Rd = [],
        this.gu = !1,
        this.Xm && this.Xm.length))
            for (a = 0,
            b = this.Xm.length; a < b; ++a)
                (c = this.Xm[a]) ? this.Rd.push({
                    Qe: c,
                    nl: [[[null, null], [null, null]], [[null, null], [null, null]]]
                }) : this.Rd.push(null)
    }
    ;
    a.pf = function(a, b, c, e, d, f) {
        if (!(0 > a || a >= this.Rd.length) && this.Rd[a]) {
            var g = this.Rd[a].nl;
            a = new bb(this.Rd[a].Qe);
            a.Wf(b, c, 0);
            f && a.Xw();
            e && a.yz(b / 2);
            d && a.ky(c / 2);
            g[e ? 1 : 0][d ? 1 : 0][f ? 1 : 0] = a
        }
    }
    ;
    a.Qr = function(a) {
        if (-1 === a)
            return null;
        var d = a & f;
        return 0 > d || d >= this.Rd.length || !this.Rd[d] ? null : this.Rd[d].nl[a & b ? 1 : 0][a & e ? 1 : 0][a & c ? 1 : 0]
    }
    ;
    a.bo = function() {
        var a, b, c = this.b.B;
        if (c)
            for (a = 0,
            b = this.Zf.length; a < b; ++a)
                c.deleteTexture(this.Zf[a]);
        U(this.Zf);
        this.Qn = !1
    }
    ;
    a.fp = function(a, b, c, e, d, f, g) {
        if (!(this.Qn || 0 >= a || 0 >= b)) {
            this.bo();
            var h = this.O.width, n = this.O.height, l;
            for (l = e; l + b <= n; l += b + f)
                for (e = c; e + a <= h; e += a + d)
                    this.Zf.push(this.Ou(e, l, a, b, g));
            this.Qn = !0
        }
    }
    ;
    a.Ou = function(a, b, c, e, d) {
        if (this.b.B)
            return this.pn(a, b, c, e, !1, !1, !1, d);
        var f = [[[null, null], [null, null]], [[null, null], [null, null]]];
        f[0][0][0] = this.pn(a, b, c, e, !1, !1, !1, d);
        return {
            nl: f,
            x: a,
            y: b,
            hn: c,
            Bl: e
        }
    }
    ;
    a.vq = function(a, b, c, e, d) {
        if (0 > a || a >= this.Zf.length)
            return null;
        a = this.Zf[a];
        var f = a.nl;
        b = b ? 1 : 0;
        c = c ? 1 : 0;
        e = e ? 1 : 0;
        var g = f[b][c][e];
        if (g)
            return g;
        g = this.pn(a.x, a.y, a.hn, a.Bl, 0 !== b, 0 !== c, 0 !== e, d);
        return f[b][c][e] = g
    }
    ;
    a.pn = function(a, b, c, e, d, f, g, h) {
        var l = c
          , n = e;
        this.b.B && !h && (na(l) || (l = oa(l)),
        na(n) || (n = oa(n)));
        var r = document.createElement("canvas");
        r.width = l;
        r.height = n;
        var m = r.getContext("2d");
        if (this.b.Qa)
            return d ? f ? (g ? (m.rotate(Math.PI / 2),
            m.scale(-1, 1)) : m.scale(-1, -1),
            m.translate(-l, -n)) : g ? (m.rotate(Math.PI / 2),
            m.translate(0, -n)) : (m.scale(-1, 1),
            m.translate(-l, 0)) : f ? g ? (m.rotate(-Math.PI / 2),
            m.translate(-l, 0)) : (m.scale(1, -1),
            m.translate(0, -n)) : g && (m.scale(-1, 1),
            m.rotate(Math.PI / 2)),
            m.drawImage(this.O, a, b, c, e, 0, 0, l, n),
            h ? r : this.b.Qa.createPattern(r, "repeat");
        m.drawImage(this.O, a, b, c, e, 0, 0, l, n);
        a = this.b.B.Wc(l, n, this.b.Na, !1, !h);
        this.b.B.GA(r, a);
        return a
    }
    ;
    a.Cj = function() {
        this.I || this.bo()
    }
    ;
    a.Dj = function() {}
    ;
    a.Vl = function() {}
    ;
    a.gk = function() {
        this.I || this.e.length || this.bo()
    }
    ;
    a.Ij = function() {}
    ;
    l.K = function(a) {
        this.type = a;
        this.b = a.b
    }
    ;
    var a = l.K.prototype
      , b = -2147483648
      , e = 1073741824
      , c = 536870912
      , f = 536870911
      , g = []
      , h = []
      , y = [];
    t.prototype.clear = function() {
        var a, b, c, e, d;
        this.re.length = this.c.Eb;
        a = 0;
        for (b = this.re.length; a < b; ++a)
            for (d = this.re[a],
            d || (d = [],
            this.re[a] = d),
            d.length = this.c.rb,
            c = 0,
            e = d.length; c < e; ++c)
                d[c] = -1
    }
    ;
    t.prototype.wj = function() {
        if (!this.Mj) {
            var a = this.c.Db
              , k = this.c.Cb;
            if (!(0 >= a || 0 >= k)) {
                var l, n, t, v, y, P;
                l = 0;
                for (n = this.Wb.length; l < n; ++l)
                    m(this.Wb[l]);
                l = 0;
                for (n = this.jc.length; l < n; ++l)
                    r(this.jc[l]);
                U(this.Wb);
                U(this.jc);
                var M = Math.min(this.c.qd, Math.floor(this.c.width / a))
                  , x = Math.min(this.c.Nd, Math.floor(this.c.height / k))
                  , M = M - this.left / a
                  , x = x - this.top / k;
                M > this.c.rb && (M = this.c.rb);
                x > this.c.Eb && (x = this.c.Eb);
                var G = this.c.Lf
                  , C = null;
                l = 0;
                for (n = x; l < n; ++l) {
                    y = this.re[l];
                    t = 0;
                    for (v = M; t < v; ++t)
                        P = y[t],
                        -1 === P ? C && (this.Wb.push(C),
                        C = null) : G || !C || P !== C.id ? (C && this.Wb.push(C),
                        C = g.length ? g.pop() : new d,
                        C.id = P,
                        C.Ym = P & f,
                        C.Qi = 0 !== (P & b),
                        C.kk = 0 !== (P & e),
                        C.fh = 0 !== (P & c),
                        C.Zq = C.Qi || C.kk || C.fh,
                        C.Ba.left = t * a + this.left,
                        C.Ba.top = l * k + this.top,
                        C.Ba.right = C.Ba.left + a,
                        C.Ba.bottom = C.Ba.top + k) : C.Ba.right += a;
                    C && (this.Wb.push(C),
                    C = null)
                }
                var C = null
                  , I = !1;
                l = 0;
                for (n = x; l < n; ++l) {
                    y = this.re[l];
                    t = 0;
                    for (v = M; t < v; ++t)
                        P = y[t],
                        -1 === P ? C && (this.jc.push(C),
                        C = null,
                        I = !1) : (x = this.c.type.Qr(P),
                        !C || x || I ? (C && this.jc.push(C),
                        C = h.length ? h.pop() : new p,
                        C.id = P,
                        C.Qe = x ? x : null,
                        P = C.Ba,
                        P.left = t * a + this.left,
                        P.top = l * k + this.top,
                        P.right = P.left + a,
                        P.bottom = P.top + k,
                        I = !!x) : C.Ba.right += a);
                    C && (this.jc.push(C),
                    C = null,
                    I = !1)
                }
                if (!G)
                    for (n = this.Wb.length,
                    l = 0; l < n; ++l)
                        for (v = this.Wb[l],
                        a = l + 1; a < n; ++a)
                            if (t = this.Wb[a],
                            !(t.Ba.top < v.Ba.bottom)) {
                                if (t.Ba.top > v.Ba.bottom)
                                    break;
                                if (t.Ba.right > v.Ba.right || t.Ba.left > v.Ba.left)
                                    break;
                                t.id === v.id && t.Ba.left === v.Ba.left && t.Ba.right === v.Ba.right && (m(this.Wb[a]),
                                this.Wb.splice(a, 1),
                                --n,
                                v.Ba.bottom += k,
                                --a)
                            }
                n = this.jc.length;
                for (l = 0; l < n; ++l)
                    if (v = this.jc[l],
                    !v.Qe)
                        for (y = v.Ba,
                        a = l + 1; a < n; ++a)
                            if (t = this.jc[a],
                            v = t.Ba,
                            !(v.top < y.bottom)) {
                                if (v.top > y.bottom)
                                    break;
                                if (v.right > y.right || v.left > y.left)
                                    break;
                                t.Qe || v.left !== y.left || v.right !== y.right || (r(this.jc[a]),
                                this.jc.splice(a, 1),
                                --n,
                                y.bottom += k,
                                --a)
                            }
                this.Mj = !0
            }
        }
    }
    ;
    t.prototype.Qp = function(a, b, c) {
        this.re[b][a] !== c && (this.re[b][a] = c,
        this.Mj = !1,
        this.c.Dk = !0,
        this.c.Fj = !0,
        this.c.b.ba = !0)
    }
    ;
    a.G = function() {
        var a, b, c;
        this.visible = 0 === this.u[0];
        this.Db = this.u[1];
        this.Cb = this.u[2];
        this.Yp = this.u[3];
        this.$p = this.u[4];
        this.Zp = this.u[5];
        this.aq = this.u[6];
        this.Lf = 0 !== this.u[7];
        this.qd = this.ju;
        this.Nd = this.iu;
        this.Ql = this.width;
        this.Pl = this.height;
        var e = this.Db
          , d = this.Cb;
        0 === e && (e = 1);
        0 === d && (d = 1);
        this.rb = Math.ceil(this.b.lb / e);
        this.Eb = Math.ceil(this.b.kb / d);
        if (!this.type.gu)
            for (this.type.gu = !0,
            a = 0,
            b = this.type.Rd.length; a < b; ++a)
                if (c = this.type.Rd[a])
                    this.type.pf(a, e, d, !1, !1, !1),
                    this.type.pf(a, e, d, !1, !1, !0),
                    this.type.pf(a, e, d, !1, !0, !1),
                    this.type.pf(a, e, d, !1, !0, !0),
                    this.type.pf(a, e, d, !0, !1, !1),
                    this.type.pf(a, e, d, !0, !1, !0),
                    this.type.pf(a, e, d, !0, !0, !1),
                    this.type.pf(a, e, d, !0, !0, !0);
        this.qc || (this.vc = []);
        this.gp(!0);
        this.Pt(this.hu);
        this.type.fp(this.Db, this.Cb, this.Yp, this.$p, this.Zp, this.aq, this.Lf);
        this.Fj = !1;
        this.Dk = !0;
        this.ep()
    }
    ;
    a.ep = function() {
        if (this.Dk) {
            var a, b, c, e, d;
            a = 0;
            for (b = this.vc.length; a < b; ++a)
                for (d = this.vc[a],
                c = 0,
                e = d.length; c < e; ++c)
                    d[c].wj();
            this.Dk = !1
        }
    }
    ;
    a.Fm = function() {
        var a, b, c, e, d;
        a = 0;
        for (b = this.vc.length; a < b; ++a)
            for (d = this.vc[a],
            c = 0,
            e = d.length; c < e; ++c)
                d[c].Mj = !1;
        this.Dk = !0
    }
    ;
    a.gp = function(a) {
        var b = B(this.width / this.Db)
          , c = B(this.height / this.Cb);
        if (!(b <= this.qd && c <= this.Nd) || a) {
            var e;
            a ? (a = Math.ceil(this.Nd / this.Eb),
            e = Math.ceil(this.qd / this.rb)) : (a = this.vc.length,
            e = Math.ceil(this.qd / this.rb),
            c > this.Nd && (this.Nd = c,
            a = Math.ceil(this.Nd / this.Eb)),
            b > this.qd && (this.qd = b,
            e = Math.ceil(this.qd / this.rb)),
            this.Fm(),
            this.Fj = !0,
            this.b.ba = !0);
            for (var d, b = 0; b < a; ++b)
                if (d = this.vc[b])
                    for (c = d.length; c < e; ++c)
                        d.push(n(this, c, b));
                else {
                    d = [];
                    for (c = 0; c < e; ++c)
                        d.push(n(this, c, b));
                    this.vc[b] = d
                }
        }
    }
    ;
    a.Gn = function(a, b) {
        if (0 > a || 0 > b)
            return null;
        var c = B(b / this.Eb);
        if (c >= this.vc.length)
            return null;
        var c = this.vc[c]
          , e = B(a / this.rb);
        return e >= c.length ? null : c[e]
    }
    ;
    a.Hn = function(a, b) {
        if (0 > a || 0 > b || b >= this.vc.length)
            return null;
        var c = this.vc[b];
        return a >= c.length ? null : c[a]
    }
    ;
    a.Pt = function(a) {
        var d = [];
        a = a.split(",");
        var f, g, h, l, n;
        f = 0;
        for (g = a.length; f < g; ++f)
            if (h = a[f],
            l = h.indexOf("x"),
            -1 < l)
                for (n = parseInt(h.substring(0, l), 10),
                h = h.substring(l + 1),
                l = parseInt(h, 10),
                -1 < h.indexOf("h") && (l |= b),
                -1 < h.indexOf("v") && (l |= e),
                -1 < h.indexOf("d") && (l |= c); 0 < n; --n)
                    d.push(l);
            else
                l = parseInt(h, 10),
                -1 < h.indexOf("h") && (l |= b),
                -1 < h.indexOf("v") && (l |= e),
                -1 < h.indexOf("d") && (l |= c),
                d.push(l);
        for (f = a = 0; f < this.Nd; ++f)
            for (g = 0; g < this.qd; ++g)
                n = d[a++],
                (h = this.Gn(g, f)) && h.Qp(g % this.rb, f % this.Eb, n)
    }
    ;
    a.Gy = function() {
        var a = "";
        if (0 >= this.qd || 0 >= this.Nd)
            return a;
        var d = 1, g = this.ro(0, 0), h, l, n, r, m, t, p, y;
        r = B(this.width / this.Db);
        l = B(this.height / this.Cb);
        for (h = 0; h < l; ++h)
            for (n = 0 === h ? 1 : 0; n < r; ++n)
                m = this.ro(n, h),
                m === g ? ++d : (-1 === g ? (t = -1,
                g = y = p = !1) : (t = g & f,
                p = 0 !== (g & b),
                y = 0 !== (g & e),
                g = 0 !== (g & c)),
                a = 1 === d ? a + ("" + t) : a + ("" + d + "x" + t),
                p && (a += "h"),
                y && (a += "v"),
                g && (a += "d"),
                a += ",",
                d = 1,
                g = m);
        -1 === g ? (t = -1,
        g = y = p = !1) : (t = g & f,
        p = 0 !== (g & b),
        y = 0 !== (g & e),
        g = 0 !== (g & c));
        a = 1 === d ? a + ("" + t) : a + ("" + d + "x" + t);
        p && (a += "h");
        y && (a += "v");
        g && (a += "d");
        return a
    }
    ;
    a.ro = function(a, b) {
        a = Math.floor(a);
        b = Math.floor(b);
        if (0 > a || 0 > b || a >= this.qd || b >= this.Nd)
            return -1;
        var c = this.Gn(a, b);
        return c ? c.re[b % this.Eb][a % this.rb] : -1
    }
    ;
    a.Qp = function(a, b, c) {
        a = Math.floor(a);
        b = Math.floor(b);
        if (0 > a || 0 > b || a >= this.qd || b >= this.Nd)
            return -1;
        var e = this.Gn(a, b);
        if (!e)
            return -1;
        e.Qp(a % this.rb, b % this.Eb, c)
    }
    ;
    a.Au = function(a) {
        return Math.floor((a - this.x) / (this.rb * this.Db))
    }
    ;
    a.Bu = function(a) {
        return Math.floor((a - this.y) / (this.Eb * this.Cb))
    }
    ;
    a.IA = function(a) {
        return Math.floor((a - this.x) / this.Db)
    }
    ;
    a.JA = function(a) {
        return Math.floor((a - this.y) / this.Cb)
    }
    ;
    a.ry = function(a, b) {
        var c = this.Bu(a.top), e = this.Au(a.right), d = this.Bu(a.bottom), f, g, h;
        for (f = this.Au(a.left); f <= e; ++f)
            for (g = c; g <= d; ++g)
                if (h = this.Hn(f, g))
                    h.wj(),
                    Da(b, h.jc)
    }
    ;
    a.BA = function(a, b) {
        var c = this.ro(this.IA(a), this.JA(b));
        if (-1 === c)
            return !1;
        c = this.type.Qr(c);
        if (!c)
            return !0;
        var e = Math.floor((b - this.y) / this.Cb) * this.Cb + this.y;
        a -= Math.floor((a - this.x) / this.Db) * this.Db + this.x;
        return c.ec(a, b - e)
    }
    ;
    a.of = function(a) {
        var b, c, e, d, f, g;
        b = 0;
        for (c = this.vc.length; b < c; ++b)
            for (f = this.vc[b],
            e = 0,
            d = f.length; e < d; ++e)
                g = f[e],
                g.wj(),
                Da(a, g.jc)
    }
    ;
    a.Ne = function() {
        var a, b, c, e, d;
        a = 0;
        for (b = this.vc.length; a < b; ++a) {
            d = this.vc[a];
            c = 0;
            for (e = d.length; c < e; ++c) {
                for (var f = d[c], g = void 0, h = void 0, g = 0, h = f.Wb.length; g < h; ++g)
                    m(f.Wb[g]);
                U(f.Wb);
                g = 0;
                for (h = f.jc.length; g < h; ++g)
                    r(f.jc[g]);
                U(f.jc);
                1E3 > y.length && y.push(f)
            }
            U(d)
        }
        U(this.vc)
    }
    ;
    a.cb = function() {
        this.gp();
        return {
            w: B(this.width / this.Db),
            h: B(this.height / this.Cb),
            d: this.Gy()
        }
    }
    ;
    a.yb = function(a) {
        this.qd = a.w;
        this.Nd = a.h;
        this.gp(!0);
        this.Pt(a.d);
        this.Fj = !0;
        this.Fm()
    }
    ;
    a.nd = function(a) {
        if (!(0 >= this.Db || 0 >= this.Cb)) {
            this.type.fp(this.Db, this.Cb, this.Yp, this.$p, this.Zp, this.aq, this.Lf);
            if (this.width !== this.Ql || this.height !== this.Pl)
                this.Fj = !0,
                this.Fm(),
                this.ep(),
                this.Ql = this.width,
                this.Pl = this.height;
            a.globalAlpha = this.opacity;
            var b = this.n, c = b.qa, e = b.ra, d = b.Ea, b = b.Da, f = this.x, g = this.y, h = this.Lf, l;
            this.b.dd && (f = Math.round(f),
            g = Math.round(g));
            var n = this.rb * this.Db
              , r = this.Eb * this.Cb
              , m = Math.floor((c - f) / n)
              , n = Math.floor((d - f) / n)
              , t = Math.floor((e - g) / r)
              , r = Math.floor((b - g) / r)
              , p = f % this.Db
              , y = g % this.Cb;
            this.Lf && (y = p = 0);
            if (0 !== p || 0 !== y)
                a.save(),
                a.translate(p, y),
                f -= p,
                g -= y,
                c -= p,
                e -= y,
                d -= p,
                b -= y;
            for (var F, I, H, E, z, w, K, D, L; m <= n; ++m)
                for (F = t; F <= r; ++F)
                    if (I = this.Hn(m, F))
                        for (I.wj(),
                        H = 0,
                        E = I.Wb.length; H < E; ++H)
                            z = I.Wb[H],
                            -1 !== z.id && (l = z.Ba,
                            w = l.left + f,
                            K = l.top + g,
                            D = l.right + f,
                            l = l.bottom + g,
                            w > d || D < c || K > b || l < e || (L = this.type.vq(z.Ym, z.Qi, z.kk, z.fh, this.Lf),
                            h ? a.drawImage(L, w, K) : (a.fillStyle = this.type.vq(z.Ym, z.Qi, z.kk, z.fh, this.Lf),
                            a.fillRect(w, K, D - w, l - K))));
            0 === p && 0 === y || a.restore()
        }
    }
    ;
    var I = new wa(0,0,1,1);
    a.ag = function(a) {
        this.gc(a)
    }
    ;
    a.gc = function(a) {
        if (!(0 >= this.Db || 0 >= this.Cb)) {
            this.type.fp(this.Db, this.Cb, this.Yp, this.$p, this.Zp, this.aq, this.Lf);
            if (this.width !== this.Ql || this.height !== this.Pl)
                this.Fj = !0,
                this.Fm(),
                this.ep(),
                this.Ql = this.width,
                this.Pl = this.height;
            a.Nf(this.opacity);
            var b = this.type.Zf, c = this.n, e = c.qa, d = c.ra, f = c.Ea, c = c.Da, g = this.x, h = this.y, l;
            this.b.dd && (g = Math.round(g),
            h = Math.round(h));
            var n = this.rb * this.Db, r = this.Eb * this.Cb, m = Math.floor((f - g) / n), t = Math.floor((d - h) / r), r = Math.floor((c - h) / r), p, y, F, R, H, E, z, w, K, D, L, S, ba, J, Z, aa, la;
            for (Z = Math.floor((e - g) / n); Z <= m; ++Z)
                for (aa = t; aa <= r; ++aa)
                    if (la = this.Hn(Z, aa))
                        for (la.wj(),
                        n = 0,
                        p = la.Wb.length; n < p; ++n)
                            y = la.Wb[n],
                            -1 !== y.id && (l = y.Ba,
                            F = l.left + g,
                            R = l.top + h,
                            H = l.right + g,
                            l = l.bottom + h,
                            F > f || H < e || R > c || l < d || (a.Gc(b[y.Ym]),
                            I.right = (H - F) / this.Db,
                            I.bottom = (l - R) / this.Cb,
                            y.Zq ? (y.fh && (J = I.right,
                            I.right = I.bottom,
                            I.bottom = J),
                            z = E = 0,
                            w = I.right,
                            K = 0,
                            D = I.right,
                            L = I.bottom,
                            S = 0,
                            ba = I.bottom,
                            y.fh && (J = S,
                            S = w,
                            w = J,
                            J = ba,
                            ba = K,
                            K = J),
                            y.Qi && (J = E,
                            E = w,
                            w = J,
                            J = z,
                            z = K,
                            K = J,
                            J = S,
                            S = D,
                            D = J,
                            J = ba,
                            ba = L,
                            L = J),
                            y.kk && (J = E,
                            E = S,
                            S = J,
                            J = z,
                            z = ba,
                            ba = J,
                            J = w,
                            w = D,
                            D = J,
                            J = K,
                            K = L,
                            L = J),
                            a.aA(F, R, H, R, H, l, F, l, E, z, w, K, D, L, S, ba)) : a.Re(F, R, H, R, H, l, F, l, I)))
        }
    }
    ;
    l.j = new function() {}
    ;
    l.A = new function() {}
    ;
    l.za = new function() {}
}
)();
function Dc(d) {
    this.b = d
}
(function() {
    function d() {}
    function m() {}
    var p = Dc.prototype;
    p.S = function(d) {
        this.behavior = d;
        this.b = d.b
    }
    ;
    p.S.prototype.G = function() {}
    ;
    p.K = function(d, r) {
        this.type = d;
        this.behavior = d.behavior;
        this.c = r;
        this.b = d.b
    }
    ;
    var r = p.K.prototype;
    r.G = function() {
        this.zn = 1 === this.u[0];
        this.Nt = !1;
        this.Hi = this.u[1];
        this.nk = this.u[2];
        this.fl = this.u[3];
        this.Ww = this.u[4];
        this.Bb = this.zn ? 0 : 3;
        this.qc ? this.wd.reset() : this.wd = new $a;
        this.Hf = this.c.opacity ? this.c.opacity : 1;
        this.zn && (0 === this.Hi ? (this.Bb = 1,
        0 === this.nk && (this.Bb = 2)) : (this.c.opacity = 0,
        this.b.ba = !0))
    }
    ;
    r.cb = function() {
        return {
            fit: this.Hi,
            wt: this.nk,
            fot: this.fl,
            s: this.Bb,
            st: this.wd.R,
            mo: this.Hf
        }
    }
    ;
    r.yb = function(d) {
        this.Hi = d.fit;
        this.nk = d.wt;
        this.fl = d.fot;
        this.Bb = d.s;
        this.wd.reset();
        this.wd.R = d.st;
        this.Hf = d.mo
    }
    ;
    r.La = function() {
        this.wd.add(this.b.kg(this.c));
        0 === this.Bb && (this.c.opacity = this.wd.R / this.Hi * this.Hf,
        this.b.ba = !0,
        this.c.opacity >= this.Hf && (this.c.opacity = this.Hf,
        this.Bb = 1,
        this.wd.reset(),
        this.b.trigger(Dc.prototype.j.Aq, this.c)));
        1 === this.Bb && this.wd.R >= this.nk && (this.Bb = 2,
        this.wd.reset(),
        this.b.trigger(Dc.prototype.j.Oq, this.c));
        2 === this.Bb && 0 !== this.fl && (this.c.opacity = this.Hf - this.wd.R / this.fl * this.Hf,
        this.b.ba = !0,
        0 > this.c.opacity && (this.c.opacity = 0,
        this.Bb = 3,
        this.wd.reset(),
        this.b.trigger(Dc.prototype.j.uv, this.c),
        1 === this.Ww && this.b.Xd(this.c)))
    }
    ;
    r.qx = function() {
        this.Bb = 0;
        this.wd.reset();
        0 === this.Hi ? (this.Bb = 1,
        0 === this.nk && (this.Bb = 2)) : (this.c.opacity = 0,
        this.b.ba = !0)
    }
    ;
    d.prototype.uv = function() {
        return !0
    }
    ;
    d.prototype.Aq = function() {
        return !0
    }
    ;
    d.prototype.Oq = function() {
        return !0
    }
    ;
    p.j = new d;
    m.prototype.kw = function() {
        this.zn || this.Nt || (this.Hf = this.c.opacity ? this.c.opacity : 1,
        this.Nt = !0);
        3 === this.Bb && this.qx()
    }
    ;
    p.A = new m;
    p.za = new function() {}
}
)();
function Ec(d) {
    this.b = d
}
(function() {
    function d() {}
    var m = Ec.prototype;
    m.S = function(d) {
        this.behavior = d;
        this.b = d.b
    }
    ;
    m.S.prototype.G = function() {}
    ;
    m.K = function(d, n) {
        this.type = d;
        this.behavior = d.behavior;
        this.c = n;
        this.b = d.b
    }
    ;
    var p = m.K.prototype;
    p.G = function() {
        this.Ye = this.We = this.Bb = this.lp = this.qp = 0
    }
    ;
    p.cb = function() {
        return {
            ontime: this.qp,
            offtime: this.lp,
            stage: this.Bb,
            stagetimeleft: this.We,
            timeleft: this.Ye
        }
    }
    ;
    p.yb = function(d) {
        this.qp = d.ontime;
        this.lp = d.offtime;
        this.Bb = d.stage;
        this.We = d.stagetimeleft;
        this.Ye = d.timeleft;
        null === this.Ye && (this.Ye = Infinity)
    }
    ;
    p.La = function() {
        if (!(0 >= this.Ye)) {
            var d = this.b.kg(this.c);
            this.Ye -= d;
            0 >= this.Ye ? (this.Ye = 0,
            this.c.visible = !0,
            this.b.ba = !0,
            this.b.trigger(Ec.prototype.j.wv, this.c)) : (this.We -= d,
            0 >= this.We && (0 === this.Bb ? (this.c.visible = !1,
            this.Bb = 1,
            this.We += this.lp) : (this.c.visible = !0,
            this.Bb = 0,
            this.We += this.qp),
            this.b.ba = !0))
        }
    }
    ;
    d.prototype.wv = function() {
        return !0
    }
    ;
    m.j = new d;
    m.A = new function() {}
    ;
    m.za = new function() {}
}
)();
function Fc(d) {
    this.b = d
}
(function() {
    function d() {}
    var m = Fc.prototype;
    m.S = function(d) {
        this.behavior = d;
        this.b = d.b
    }
    ;
    m.S.prototype.G = function() {}
    ;
    m.K = function(d, n) {
        this.type = d;
        this.behavior = d.behavior;
        this.c = n;
        this.b = d.b
    }
    ;
    var p = m.K.prototype;
    p.G = function() {
        this.Ab = null;
        this.pm = -1;
        this.mode = this.Bh = this.Vm = this.Nh = this.Pe = this.Hj = 0;
        var d = this;
        this.qc || (this.xj = function(n) {
            d.Bj(n)
        }
        );
        this.b.zk(this.xj)
    }
    ;
    p.cb = function() {
        return {
            uid: this.Ab ? this.Ab.uid : -1,
            pa: this.Hj,
            pd: this.Pe,
            msa: this.Nh,
            tsa: this.Vm,
            lka: this.Bh,
            m: this.mode
        }
    }
    ;
    p.yb = function(d) {
        this.pm = d.uid;
        this.Hj = d.pa;
        this.Pe = d.pd;
        this.Nh = d.msa;
        this.Vm = d.tsa;
        this.Bh = d.lka;
        this.mode = d.m
    }
    ;
    p.$d = function() {
        -1 === this.pm ? this.Ab = null : this.Ab = this.b.mg(this.pm);
        this.pm = -1
    }
    ;
    p.Bj = function(d) {
        this.Ab == d && (this.Ab = null)
    }
    ;
    p.Ne = function() {
        this.Ab = null;
        this.b.Dt(this.xj)
    }
    ;
    p.La = function() {}
    ;
    p.fk = function() {
        if (this.Ab) {
            this.Bh !== this.c.k && (this.Nh = Ka(this.Nh + (this.c.k - this.Bh)));
            var d = this.c.x
              , n = this.c.y;
            if (3 === this.mode || 4 === this.mode) {
                var m = Sa(this.c.x, this.c.y, this.Ab.x, this.Ab.y);
                if (m > this.Pe || 4 === this.mode && m < this.Pe)
                    n = Na(this.Ab.x, this.Ab.y, this.c.x, this.c.y),
                    d = this.Ab.x + Math.cos(n) * this.Pe,
                    n = this.Ab.y + Math.sin(n) * this.Pe
            } else
                d = this.Ab.x + Math.cos(this.Ab.k + this.Hj) * this.Pe,
                n = this.Ab.y + Math.sin(this.Ab.k + this.Hj) * this.Pe;
            this.Bh = m = Ka(this.Nh + (this.Ab.k - this.Vm));
            0 !== this.mode && 1 !== this.mode && 3 !== this.mode && 4 !== this.mode || this.c.x === d && this.c.y === n || (this.c.x = d,
            this.c.y = n,
            this.c.F());
            0 !== this.mode && 2 !== this.mode || this.c.k === m || (this.c.k = m,
            this.c.F())
        }
    }
    ;
    m.j = new function() {}
    ;
    d.prototype.Mv = function(d, n) {
        if (d) {
            var m = d.Nr(this.c);
            m && (this.Ab = m,
            this.Hj = Na(m.x, m.y, this.c.x, this.c.y) - m.k,
            this.Pe = Sa(m.x, m.y, this.c.x, this.c.y),
            this.Bh = this.Nh = this.c.k,
            this.Vm = m.k,
            this.mode = n)
        }
    }
    ;
    m.A = new d;
    m.za = new function() {}
}
)();
function Lc(d) {
    this.b = d
}
(function() {
    function d() {}
    function m() {}
    var p = Lc.prototype;
    p.S = function(d) {
        this.behavior = d;
        this.b = d.b
    }
    ;
    p.S.prototype.G = function() {}
    ;
    p.K = function(d, m) {
        this.type = d;
        this.behavior = d.behavior;
        this.c = m;
        this.b = d.b;
        this.Xj = this.Nm = this.Mm = this.Ao = this.xi = this.Ei = this.zh = this.Ah = this.Qj = this.ij = !1;
        this.Sb = null;
        this.Vo = -1;
        this.vg = this.ug = 0;
        this.ol = !1;
        this.ig = this.Cd = 0;
        this.ll = !0;
        this.ya = this.X = 0
    }
    ;
    var r = p.K.prototype;
    r.kq = function() {
        this.Xa = Math.cos(this.kh);
        this.Ya = Math.sin(this.kh);
        this.Hg = Math.cos(this.kh - Math.PI / 2);
        this.Ig = Math.sin(this.kh - Math.PI / 2);
        this.Xa = ib(this.Xa);
        this.Ya = ib(this.Ya);
        this.Hg = ib(this.Hg);
        this.Ig = ib(this.Ig);
        this.sl = this.Ac;
        0 > this.Ac && (this.Xa *= -1,
        this.Ya *= -1,
        this.Ac = Math.abs(this.Ac))
    }
    ;
    r.G = function() {
        this.Ie = this.u[0];
        this.Zd = this.u[1];
        this.dh = this.u[2];
        this.ej = this.u[3];
        this.sl = this.Ac = this.u[4];
        this.fm = this.u[5];
        this.Vn = 0 !== this.u[6];
        this.Qo = this.u[7] / 1E3;
        this.Tw = 1 === this.u[8];
        this.enabled = 0 !== this.u[9];
        this.ki = !1;
        this.li = this.b.Xe(this.c);
        this.Wo = -1;
        this.Ng = 0;
        this.kh = V(90);
        this.kq();
        var d = this;
        this.Tw && !this.b.hb && (jQuery(document).keydown(function(m) {
            d.np(m)
        }),
        jQuery(document).keyup(function(m) {
            d.op(m)
        }));
        this.qc || (this.xj = function(m) {
            d.Bj(m)
        }
        );
        this.b.zk(this.xj);
        this.c.H.isPlatformBehavior = !0
    }
    ;
    r.cb = function() {
        return {
            ii: this.Ao,
            lfx: this.ug,
            lfy: this.vg,
            lfo: this.Sb ? this.Sb.uid : -1,
            am: this.Cd,
            en: this.enabled,
            fall: this.ig,
            ft: this.ll,
            dx: this.X,
            dy: this.ya,
            ms: this.Ie,
            acc: this.Zd,
            dec: this.dh,
            js: this.ej,
            g: this.Ac,
            g1: this.sl,
            mf: this.fm,
            wof: this.ki,
            woj: this.li ? this.li.uid : -1,
            ga: this.kh,
            edj: this.Vn,
            cdj: this.xi,
            dj: this.Ei,
            sus: this.Qo
        }
    }
    ;
    r.yb = function(d) {
        this.Ao = d.ii;
        this.ug = d.lfx;
        this.vg = d.lfy;
        this.Vo = d.lfo;
        this.Cd = d.am;
        this.enabled = d.en;
        this.ig = d.fall;
        this.ll = d.ft;
        this.X = d.dx;
        this.ya = d.dy;
        this.Ie = d.ms;
        this.Zd = d.acc;
        this.dh = d.dec;
        this.ej = d.js;
        this.Ac = d.g;
        this.sl = d.g1;
        this.fm = d.mf;
        this.ki = d.wof;
        this.Wo = d.woj;
        this.kh = d.ga;
        this.Vn = d.edj;
        this.xi = d.cdj;
        this.Ei = d.dj;
        this.Qo = d.sus;
        this.Xj = this.Nm = this.Mm = this.zh = this.Ah = this.Qj = this.ij = !1;
        this.Ng = 0;
        this.kq()
    }
    ;
    r.$d = function() {
        -1 === this.Vo ? this.Sb = null : this.Sb = this.b.mg(this.Vo);
        -1 === this.Wo ? this.li = null : this.li = this.b.mg(this.Wo)
    }
    ;
    r.Bj = function(d) {
        this.Sb == d && (this.Sb = null)
    }
    ;
    r.Ne = function() {
        this.Sb = null;
        this.b.Dt(this.xj)
    }
    ;
    r.np = function(d) {
        switch (d.which) {
        case 38:
            d.preventDefault();
            this.Ah = !0;
            break;
        case 37:
            d.preventDefault();
            this.ij = !0;
            break;
        case 39:
            d.preventDefault(),
            this.Qj = !0
        }
    }
    ;
    r.op = function(d) {
        switch (d.which) {
        case 38:
            d.preventDefault();
            this.zh = this.Ah = !1;
            break;
        case 37:
            d.preventDefault();
            this.ij = !1;
            break;
        case 39:
            d.preventDefault(),
            this.Qj = !1
        }
    }
    ;
    r.If = function() {
        this.Ah = this.Qj = this.ij = !1
    }
    ;
    r.of = function() {
        return 0 > this.Ac ? -1 : 1
    }
    ;
    r.es = function() {
        var d = null, m = null, l, a;
        l = this.c.x;
        a = this.c.y;
        this.c.x += this.Xa;
        this.c.y += this.Ya;
        this.c.F();
        if (this.Sb && this.b.Ic(this.c, this.Sb) && (!this.b.gq(this.Sb.type, pc) || this.Sb.H.solidEnabled))
            return this.c.x = l,
            this.c.y = a,
            this.c.F(),
            this.Sb;
        (d = this.b.uc(this.c)) || 0 !== this.ig || (m = this.b.Xe(this.c, !0));
        this.c.x = l;
        this.c.y = a;
        this.c.F();
        if (d) {
            if (this.b.Ic(this.c, d))
                return null;
            this.ol = !1;
            return d
        }
        if (m && m.length) {
            a = d = 0;
            for (l = m.length; d < l; d++)
                m[a] = m[d],
                this.b.Ic(this.c, m[d]) || a++;
            if (1 <= a)
                return this.ol = !0,
                m[0]
        }
        return null
    }
    ;
    r.La = function() {}
    ;
    r.xt = function() {
        var d = this.b.kg(this.c), m, l, a, b, e, c, f, g, h;
        this.Ah || this.Xj || (this.zh = !1);
        var r = this.ij || this.Mm;
        a = this.Qj || this.Nm;
        var p = (b = this.Ah || this.Xj) && !this.zh;
        this.Xj = this.Nm = this.Mm = !1;
        if (this.enabled) {
            this.Ao && (p = b = a = r = !1);
            b || (this.Ng = 0);
            g = this.Sb;
            h = !1;
            this.ll && ((this.b.uc(this.c) || this.b.Xe(this.c)) && this.b.ud(this.c, -this.Xa, -this.Ya, 4, !0),
            this.ll = !1);
            !g || 0 !== this.ya || g.y === this.vg && g.x === this.ug || (m = g.x - this.ug,
            l = g.y - this.vg,
            this.c.x += m,
            this.c.y += l,
            this.c.F(),
            this.ug = g.x,
            this.vg = g.y,
            h = !0,
            this.b.uc(this.c) && this.b.ud(this.c, -m, -l, 2.5 * Math.sqrt(m * m + l * l)));
            var q = this.es();
            if (l = this.b.uc(this.c))
                if (this.c.H.inputPredicted)
                    this.b.ud(this.c, -this.Xa, -this.Ya, 10, !1);
                else if (this.b.$z(this.c, Math.max(this.c.width, this.c.height) / 2))
                    this.b.Oj(this.c, l);
                else
                    return;
            q ? (this.xi = this.Ei = !1,
            0 < this.ya && (this.ki || (this.b.zp(this.c, -this.Xa, -this.Ya, q),
            this.ki = !0),
            this.ya = 0),
            g != q) ? (this.Sb = q,
            this.ug = q.x,
            this.vg = q.y,
            this.b.Oj(this.c, q)) : h && (l = this.b.uc(this.c)) && (this.b.Oj(this.c, l),
            0 !== m && (0 < m ? this.b.ud(this.c, -this.Hg, -this.Ig) : this.b.ud(this.c, this.Hg, this.Ig)),
            this.b.ud(this.c, -this.Xa, -this.Ya)) : b || (this.xi = !0);
            if (q && p || !q && this.Vn && b && this.xi && !this.Ei)
                g = this.c.x,
                h = this.c.y,
                this.c.x -= this.Xa,
                this.c.y -= this.Ya,
                this.c.F(),
                this.b.uc(this.c) ? p = !1 : (this.Ng = this.Qo,
                this.b.trigger(Lc.prototype.j.Eq, this.c),
                this.Cd = 2,
                this.ya = -this.ej,
                p = !0,
                q ? this.zh = !0 : this.Ei = !0),
                this.c.x = g,
                this.c.y = h,
                this.c.F();
            q || (b && 0 < this.Ng ? (this.ya = -this.ej,
            this.Ng -= d) : (this.Sb = null,
            this.ya += this.Ac * d,
            this.ya > this.fm && (this.ya = this.fm)),
            p && (this.zh = !0));
            this.ki = !!q;
            r == a && (0 > this.X ? (this.X += this.dh * d,
            0 < this.X && (this.X = 0)) : 0 < this.X && (this.X -= this.dh * d,
            0 > this.X && (this.X = 0)));
            r && !a && (this.X = 0 < this.X ? this.X - (this.Zd + this.dh) * d : this.X - this.Zd * d);
            a && !r && (this.X = 0 > this.X ? this.X + (this.Zd + this.dh) * d : this.X + this.Zd * d);
            this.X > this.Ie ? this.X = this.Ie : this.X < -this.Ie && (this.X = -this.Ie);
            r = !1;
            0 !== this.X && (g = this.c.x,
            h = this.c.y,
            m = this.X * d * this.Hg,
            l = this.X * d * this.Ig,
            this.c.x += this.Hg * (1 < this.X ? 1 : -1) - this.Xa,
            this.c.y += this.Ig * (1 < this.X ? 1 : -1) - this.Ya,
            this.c.F(),
            b = !1,
            e = this.b.uc(this.c),
            this.c.x = g + m,
            this.c.y = h + l,
            this.c.F(),
            a = this.b.uc(this.c),
            !a && q && (a = this.b.Xe(this.c)) && (this.c.x = g,
            this.c.y = h,
            this.c.F(),
            this.b.Ic(this.c, a) ? (a = null,
            b = !1) : b = !0,
            this.c.x = g + m,
            this.c.y = h + l,
            this.c.F()),
            a ? (m = Math.abs(this.X * d) + 2,
            e || !this.b.ud(this.c, -this.Xa, -this.Ya, m, b, a)) ? (this.b.Oj(this.c, a),
            m = Math.max(Math.abs(this.X * d * 2.5), 30),
            this.b.ud(this.c, this.Hg * (0 > this.X ? 1 : -1), this.Ig * (0 > this.X ? 1 : -1), m, !1) ? !q || b || this.ol || (g = this.c.x,
            h = this.c.y,
            this.c.x += this.Xa,
            this.c.y += this.Ya,
            this.b.uc(this.c) ? this.b.ud(this.c, -this.Xa, -this.Ya, 3, !1) || (this.c.x = g,
            this.c.y = h,
            this.c.F()) : (this.c.x = g,
            this.c.y = h,
            this.c.F())) : (this.c.x = g,
            this.c.y = h,
            this.c.F()),
            b || (this.X = 0)) : !e && !p && Math.abs(this.ya) < Math.abs(this.ej / 4) && (this.ya = 0,
            q || (r = !0)) : (g = this.es(),
            q && !g ? (l = Math.ceil(Math.abs(this.X * d)) + 2,
            g = this.c.x,
            h = this.c.y,
            this.c.x += this.Xa * l,
            this.c.y += this.Ya * l,
            this.c.F(),
            this.b.uc(this.c) || this.b.Xe(this.c) ? this.b.ud(this.c, -this.Xa, -this.Ya, l + 2, !0) : (this.c.x = g,
            this.c.y = h,
            this.c.F())) : g && 0 === this.ya && this.b.zp(this.c, -this.Xa, -this.Ya, g)));
            if (0 !== this.ya) {
                g = this.c.x;
                h = this.c.y;
                this.c.x += this.ya * d * this.Xa;
                this.c.y += this.ya * d * this.Ya;
                m = this.c.x;
                a = this.c.y;
                this.c.F();
                l = this.b.uc(this.c);
                b = !1;
                if (!l && 0 < this.ya && !q) {
                    if ((b = 0 < this.ig ? null : this.b.Xe(this.c, !0)) && b.length) {
                        if (this.li) {
                            this.c.x = g;
                            this.c.y = h;
                            this.c.F();
                            f = e = 0;
                            for (c = b.length; e < c; e++)
                                b[f] = b[e],
                                this.b.Ic(this.c, b[e]) || f++;
                            b.length = f;
                            this.c.x = m;
                            this.c.y = a;
                            this.c.F()
                        }
                        1 <= b.length && (l = b[0])
                    }
                    b = !!l
                }
                l && (this.b.Oj(this.c, l),
                this.Ng = 0,
                m = b ? Math.abs(this.ya * d * 2.5 + 10) : Math.max(Math.abs(this.ya * d * 2.5 + 10), 30),
                this.b.ud(this.c, this.Xa * (0 > this.ya ? 1 : -1), this.Ya * (0 > this.ya ? 1 : -1), m, b, l) ? (this.Sb = l,
                this.ug = l.x,
                this.vg = l.y,
                (this.ol = b) && (r = !0),
                this.ya = 0) : (this.c.x = g,
                this.c.y = h,
                this.c.F(),
                this.ki = !0,
                b || (this.ya = 0)))
            }
            3 !== this.Cd && 0 < this.ya && !q && (this.b.trigger(Lc.prototype.j.vv, this.c),
            this.Cd = 3);
            if (q || r)
                3 === this.Cd || r || p && 0 === this.ya ? (this.b.trigger(Lc.prototype.j.Iq, this.c),
                this.Cd = 0 === this.X && 0 === this.ya ? 0 : 1) : (0 !== this.Cd && 0 === this.X && 0 === this.ya && (this.b.trigger(Lc.prototype.j.Jv, this.c),
                this.Cd = 0),
                1 === this.Cd || 0 === this.X && 0 === this.ya || p || (this.b.trigger(Lc.prototype.j.Bv, this.c),
                this.Cd = 1));
            0 < this.ig && this.ig--;
            this.li = this.b.Xe(this.c)
        }
    }
    ;
    d.prototype.av = function() {
        if (0 !== this.ya)
            return !1;
        var d = null, m = null, l, a;
        l = this.c.x;
        a = this.c.y;
        this.c.x += this.Xa;
        this.c.y += this.Ya;
        this.c.F();
        (d = this.b.uc(this.c)) || 0 !== this.ig || (m = this.b.Xe(this.c, !0));
        this.c.x = l;
        this.c.y = a;
        this.c.F();
        if (d)
            return !this.b.Ic(this.c, d);
        if (m && m.length) {
            a = d = 0;
            for (l = m.length; d < l; d++)
                m[a] = m[d],
                this.b.Ic(this.c, m[d]) || a++;
            if (1 <= a)
                return !0
        }
        return !1
    }
    ;
    d.prototype.Eq = function() {
        return !0
    }
    ;
    d.prototype.vv = function() {
        return !0
    }
    ;
    d.prototype.Jv = function() {
        return !0
    }
    ;
    d.prototype.Bv = function() {
        return !0
    }
    ;
    d.prototype.Iq = function() {
        return !0
    }
    ;
    p.j = new d;
    m.prototype.Xv = function(d) {
        this.Ie = d;
        0 > this.Ie && (this.Ie = 0)
    }
    ;
    m.prototype.Pq = function(d) {
        this.sl !== d && (this.Ac = d,
        this.kq(),
        this.b.uc(this.c) && (this.b.ud(this.c, this.Xa, this.Ya, 10),
        this.c.x += 2 * this.Xa,
        this.c.y += 2 * this.Ya,
        this.c.F()),
        this.Sb = null)
    }
    ;
    m.prototype.hw = function(d) {
        switch (d) {
        case 0:
            this.Mm = !0;
            break;
        case 1:
            this.Nm = !0;
            break;
        case 2:
            this.Xj = !0
        }
    }
    ;
    m.prototype.ew = function(d) {
        this.ya = d
    }
    ;
    m.prototype.un = function(d) {
        this.enabled !== (1 === d) && (this.enabled = 1 === d,
        this.enabled || (this.Sb = null))
    }
    ;
    p.A = new m;
    p.za = new function() {}
}
)();
function Mc(d) {
    this.b = d
}
(function() {
    function d() {}
    var m = Mc.prototype;
    m.S = function(d) {
        this.behavior = d;
        this.b = d.b
    }
    ;
    m.S.prototype.G = function() {}
    ;
    m.K = function(d, a) {
        this.type = d;
        this.behavior = d.behavior;
        this.c = a;
        this.b = d.b;
        this.$a = 0
    }
    ;
    var p = m.K.prototype
      , r = 2 * Math.PI
      , n = Math.PI / 2
      , t = 3 * Math.PI / 2;
    p.G = function() {
        this.Sa = 1 === this.u[0];
        this.Lh = this.u[1];
        this.rq = this.u[2];
        this.Oe = this.u[3];
        this.Oe += Math.random() * this.u[4];
        0 === this.Oe ? this.$a = 0 : (this.$a = this.u[5] / this.Oe * r,
        this.$a += Math.random() * this.u[6] / this.Oe * r);
        this.nc = this.u[7];
        this.nc += Math.random() * this.u[8];
        this.Nj = this.rg = this.ja = 0;
        5 === this.Lh && (this.nc = V(this.nc));
        this.init()
    }
    ;
    p.cb = function() {
        return {
            i: this.$a,
            a: this.Sa,
            mv: this.Lh,
            w: this.rq,
            p: this.Oe,
            mag: this.nc,
            iv: this.ja,
            iv2: this.rg,
            r: this.Nj,
            lkv: this.Pc,
            lkv2: this.gj
        }
    }
    ;
    p.yb = function(d) {
        this.$a = d.i;
        this.Sa = d.a;
        this.Lh = d.mv;
        this.rq = d.w;
        this.Oe = d.p;
        this.nc = d.mag;
        this.ja = d.iv;
        this.rg = d.iv2 || 0;
        this.Nj = d.r;
        this.Pc = d.lkv;
        this.gj = d.lkv2 || 0
    }
    ;
    p.init = function() {
        switch (this.Lh) {
        case 0:
            this.ja = this.c.x;
            break;
        case 1:
            this.ja = this.c.y;
            break;
        case 2:
            this.ja = this.c.width;
            this.Nj = this.c.height / this.c.width;
            break;
        case 3:
            this.ja = this.c.width;
            break;
        case 4:
            this.ja = this.c.height;
            break;
        case 5:
            this.ja = this.c.k;
            break;
        case 6:
            this.ja = this.c.opacity;
            break;
        case 7:
            this.ja = 0;
            break;
        case 8:
            this.ja = this.c.x,
            this.rg = this.c.y
        }
        this.Pc = this.ja;
        this.gj = this.rg
    }
    ;
    p.te = function(d) {
        d = d % r;
        switch (this.rq) {
        case 0:
            return Math.sin(d);
        case 1:
            return d <= n ? d / n : d <= t ? 1 - 2 * (d - n) / Math.PI : (d - t) / n - 1;
        case 2:
            return 2 * d / r - 1;
        case 3:
            return -2 * d / r + 1;
        case 4:
            return d < Math.PI ? -1 : 1
        }
        return 0
    }
    ;
    p.La = function() {
        var d = this.b.kg(this.c);
        this.Sa && 0 !== d && (0 === this.Oe ? this.$a = 0 : (this.$a += d / this.Oe * r,
        this.$a = this.$a % r),
        this.CA())
    }
    ;
    p.CA = function() {
        switch (this.Lh) {
        case 0:
            this.c.x !== this.Pc && (this.ja += this.c.x - this.Pc);
            this.c.x = this.ja + this.te(this.$a) * this.nc;
            this.Pc = this.c.x;
            break;
        case 1:
            this.c.y !== this.Pc && (this.ja += this.c.y - this.Pc);
            this.c.y = this.ja + this.te(this.$a) * this.nc;
            this.Pc = this.c.y;
            break;
        case 2:
            this.c.width = this.ja + this.te(this.$a) * this.nc;
            this.c.height = this.c.width * this.Nj;
            break;
        case 3:
            this.c.width = this.ja + this.te(this.$a) * this.nc;
            break;
        case 4:
            this.c.height = this.ja + this.te(this.$a) * this.nc;
            break;
        case 5:
            this.c.k !== this.Pc && (this.ja = Ka(this.ja + (this.c.k - this.Pc)));
            this.c.k = Ka(this.ja + this.te(this.$a) * this.nc);
            this.Pc = this.c.k;
            break;
        case 6:
            this.c.opacity = this.ja + this.te(this.$a) * this.nc / 100;
            0 > this.c.opacity ? this.c.opacity = 0 : 1 < this.c.opacity && (this.c.opacity = 1);
            break;
        case 8:
            this.c.x !== this.Pc && (this.ja += this.c.x - this.Pc),
            this.c.y !== this.gj && (this.rg += this.c.y - this.gj),
            this.c.x = this.ja + Math.cos(this.c.k) * this.te(this.$a) * this.nc,
            this.c.y = this.rg + Math.sin(this.c.k) * this.te(this.$a) * this.nc,
            this.Pc = this.c.x,
            this.gj = this.c.y
        }
        this.c.F()
    }
    ;
    p.et = function(d, a) {
        switch (this.Lh) {
        case 2:
            this.ja *= a.width / d.width;
            this.Nj = a.height / a.width;
            break;
        case 3:
            this.ja *= a.width / d.width;
            break;
        case 4:
            this.ja *= a.height / d.height
        }
    }
    ;
    m.j = new function() {}
    ;
    m.A = new function() {}
    ;
    d.prototype.Pu = function(d) {
        d.L(this.$a / r)
    }
    ;
    d.prototype.rw = function(d) {
        d.L(this.te(this.$a) * this.nc)
    }
    ;
    m.za = new d
}
)();
function Nc(d) {
    this.b = d
}
(function() {
    var d = Nc.prototype;
    d.S = function(d) {
        this.behavior = d;
        this.b = d.b
    }
    ;
    d.S.prototype.G = function() {}
    ;
    d.K = function(d, p) {
        this.type = d;
        this.behavior = d.behavior;
        this.c = p;
        this.b = d.b;
        this.mode = 0
    }
    ;
    d = d.K.prototype;
    d.G = function() {
        this.mode = this.u[0]
    }
    ;
    d.La = function() {}
    ;
    d.fk = function() {
        this.c.Ha();
        var d = this.c.Ia
          , p = this.c.n.ab
          , r = !1;
        0 === this.mode ? (0 > this.c.x && (this.c.x = 0,
        r = !0),
        0 > this.c.y && (this.c.y = 0,
        r = !0),
        this.c.x > p.width && (this.c.x = p.width,
        r = !0),
        this.c.y > p.height && (this.c.y = p.height,
        r = !0)) : (0 > d.left && (this.c.x -= d.left,
        r = !0),
        0 > d.top && (this.c.y -= d.top,
        r = !0),
        d.right > p.width && (this.c.x -= d.right - p.width,
        r = !0),
        d.bottom > p.height && (this.c.y -= d.bottom - p.height,
        r = !0));
        r && this.c.F()
    }
}
)();
function Oc(d) {
    this.b = d
}
(function() {
    var d = Oc.prototype;
    d.S = function(d) {
        this.behavior = d;
        this.b = d.b
    }
    ;
    d.S.prototype.G = function() {}
    ;
    d.K = function(d, p) {
        this.type = d;
        this.behavior = d.behavior;
        this.c = p;
        this.b = d.b
    }
    ;
    d = d.K.prototype;
    d.G = function() {}
    ;
    d.La = function() {
        this.c.Ha();
        var d = this.c.Ia
          , p = this.c.n.ab;
        (0 > d.right || 0 > d.bottom || d.left > p.width || d.top > p.height) && this.b.Xd(this.c)
    }
}
)();
function Qc(d) {
    this.b = d;
    this.Lm = this.Wj = this.Lg = this.Km = 0
}
(function() {
    function d() {}
    var m = Qc.prototype;
    m.S = function(d) {
        this.behavior = d;
        this.b = d.b
    }
    ;
    m.S.prototype.G = function() {}
    ;
    m.K = function(d, m) {
        this.type = d;
        this.behavior = d.behavior;
        this.c = m;
        this.b = d.b
    }
    ;
    var p = m.K.prototype;
    p.G = function() {
        this.enabled = 0 !== this.u[0]
    }
    ;
    p.cb = function() {
        return {
            smg: this.behavior.Km,
            ss: this.behavior.Lg,
            se: this.behavior.Wj,
            smd: this.behavior.Lm
        }
    }
    ;
    p.yb = function(d) {
        this.behavior.Km = d.smg;
        this.behavior.Lg = d.ss;
        this.behavior.Wj = d.se;
        this.behavior.Lm = d.smd
    }
    ;
    p.La = function() {}
    ;
    p.fk = function() {
        if (this.enabled) {
            var d = this.behavior.gm.bf(), m = 0, p = 0, l, a, b, e = 0;
            l = 0;
            for (a = d.length; l < a; l++) {
                a: {
                    b = d[l];
                    for (var c = void 0, f = void 0, g = void 0, c = 0, f = b.P.length; c < f; ++c)
                        if (g = b.P[c],
                        g.behavior instanceof Qc) {
                            b = g;
                            break a
                        }
                    b = null
                }
                b && b.enabled && (m += d[l].x,
                p += d[l].y,
                ++e)
            }
            d = this.c.n.ab;
            a = this.b.ib.R;
            b = l = 0;
            a >= this.behavior.Lg && a < this.behavior.Wj && (l = this.behavior.Km * Math.min(this.b.Qg, 1),
            0 === this.behavior.Lm && (l *= 1 - (a - this.behavior.Lg) / (this.behavior.Wj - this.behavior.Lg)),
            a = Math.random() * Math.PI * 2,
            b = Math.random() * l,
            l = Math.cos(a) * b,
            b *= Math.sin(a));
            d.Mp(m / e + l);
            d.Np(p / e + b)
        }
    }
    ;
    d.prototype.gw = function(d, m, p) {
        this.behavior.Km = d;
        this.behavior.Lg = this.b.ib.R;
        this.behavior.Wj = this.behavior.Lg + m;
        this.behavior.Lm = p
    }
    ;
    d.prototype.un = function(d) {
        this.enabled = 0 !== d
    }
    ;
    m.A = new d
}
)();
function pc(d) {
    this.b = d
}
(function() {
    function d() {}
    var m = pc.prototype;
    m.S = function(d) {
        this.behavior = d;
        this.b = d.b
    }
    ;
    m.S.prototype.G = function() {}
    ;
    m.K = function(d, m) {
        this.type = d;
        this.behavior = d.behavior;
        this.c = m;
        this.b = d.b
    }
    ;
    var p = m.K.prototype;
    p.G = function() {
        this.c.H.solidEnabled = 0 !== this.u[0]
    }
    ;
    p.La = function() {}
    ;
    m.j = new function() {}
    ;
    d.prototype.un = function(d) {
        this.c.H.solidEnabled = !!d
    }
    ;
    m.A = new d
}
)();
function oc() {
    return [rc, sc, qc, tc, uc, yc, zc, Ac, X, Bc, Cc, pc, Lc, Oc, Nc, Ec, Dc, Mc, Qc, Fc, W.prototype.j.Jq, X.prototype.A.aw, Fc.prototype.A.Mv, X.prototype.A.Vv, X.prototype.za.Nu, X.prototype.A.Pv, W.prototype.za.random, Bc.prototype.A.bw, W.prototype.za.rz, rc.prototype.j.dv, rc.prototype.A.Play, W.prototype.j.Ru, tc.prototype.j.Fq, W.prototype.A.Nv, X.prototype.j.tv, X.prototype.A.Sv, Dc.prototype.A.kw, zc.prototype.j.sn, W.prototype.j.Mu, W.prototype.A.dw, rc.prototype.A.fw, W.prototype.j.uq, X.prototype.A.Ov, X.prototype.j.Yu, Lc.prototype.A.hw, X.prototype.A.Yv, X.prototype.j.cv, X.prototype.A.Rv, zc.prototype.j.qn, Lc.prototype.j.Eq, Lc.prototype.j.Iq, Lc.prototype.j.av, X.prototype.A.$v, zc.prototype.za.Rq, zc.prototype.za.vn, Lc.prototype.A.un, X.prototype.A.Zv, Qc.prototype.A.gw, X.prototype.za.vn, X.prototype.A.ow, qc.prototype.j.sk, W.prototype.j.Iu, X.prototype.A.iw, Lc.prototype.A.ew, qc.prototype.A.CallFunction, W.prototype.j.Qu, X.prototype.j.$u, X.prototype.A.tq, X.prototype.j.wq, X.prototype.j.oi, X.prototype.j.Wu, X.prototype.A.Qq, X.prototype.A.lw, zc.prototype.j.bv, zc.prototype.A.Tv, Bc.prototype.A.Qq, X.prototype.j.Ku, W.prototype.j.qw, X.prototype.A.Qv, W.prototype.A.sw, W.prototype.A.kv, Lc.prototype.A.Pq, Lc.prototype.A.Xv, X.prototype.A.Uv, W.prototype.j.Su, Mc.prototype.za.Pu, Mc.prototype.za.rw, X.prototype.j.Ju, Dc.prototype.j.Oq, X.prototype.j.zq, uc.prototype.A.mw, yc.prototype.A.Tu, yc.prototype.j.Cq, yc.prototype.za.gv, yc.prototype.A.Wv, W.prototype.A.Vu, yc.prototype.A.Fu, yc.prototype.j.Dq, yc.prototype.j.Bq, Bc.prototype.A.tq, Dc.prototype.j.Aq, Bc.prototype.j.Lu, zc.prototype.j.xq, W.prototype.A.Uu]
}
;