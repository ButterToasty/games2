var _0x4788=['display','968276XZivax','yVel','render','addEventListener','saveCode','localStorage','tilesize','length','innerHeight','src','loopType','actionPink','#000000','random','closePath','targetFrames','active','1rzOmWt','546c52724d553945556d684f656c45795457704e656b354852544a6156465531546c526a656b3155576d704f616b307a5431524e4d55357452544a4e616b313554587042656c70425054303d','beginPath','globalAlpha','renderForeground','log','currentPaper','toDataURL','677022nWSSDT','currentBomb','computeForeground','volume','fillRect','cameraFocus','darkgray','opacity','updateDeltaTime','time','getItem','getContext','innerWidth','speed','onended','shiftKey','currentLevel','push','deathRecord','535221xYKQHe','renderVfxs','clearRect','parse','foreground','initial','546d70524d55394555586c4f656b30795457704e6555354557544a5a616c6c36546e7072656b35555458684f616b6b79576b525a4d453536617a4a4e616b3136546c525a4d303555566d684f52474d78546d70616155354854544a6152453078546d314e4d6b35455558684e4d6c4636576b453950513d3d','armor','current','innerHTML','black','computeEntities','112929NzlMpu','papers','2kiSxpy','onclick','PLAY','deltaTime','fps','1LLVgog','berthaBombRecord','left','bombRecord','duration','cronometer','play','search','height','tilesHeight','loading','734569IcJcAD','Unable\x20to\x20save\x20on\x20your\x20current\x20browser','546b644e4d6c7045576d704e656b45785431524e65553571597a4e4f56466b78546d3152656b3955597a464f563055785456524f613030795554303d','fillStyle','amountY','stroke','levels','compare','bulletTime','strokeStyle','gotAllPapers','stringify','546b64524d5535455554564e656b3077575870616145354552544e4f56464a72546b524e656b3545597a513d','drawImage','lineWidth','loadingText','width','imageSmoothingEnabled','none','timeRecord','berthaTimeRecord','removed','renderBg','factor','levelImage','renderFront','respawn','amountX','gaveGrog','berthaDeathRecord','location','onBertha','renderTiles','hostname','1uKgQBd','image','1iitoCX','compute','1376447pCnLsP','style','perfectFrameTime','546b644e4d6c70455754524e656b30785431524e6555355553544e4f56464a71546d3152656b3555576d704f616c45775456524f613030795554303d','ratio','bombCounter','renderEntities','505599ORugCn','hasGrog','deathCounter'];var _0x5f3a19=_0x1b31;(function(_0x15290b,_0x72c462){var _0x2200e2=_0x1b31;while(!![]){try{var _0x570b13=parseInt(_0x2200e2(0x1d8))+-parseInt(_0x2200e2(0x1ac))*parseInt(_0x2200e2(0x21a))+-parseInt(_0x2200e2(0x1bd))*parseInt(_0x2200e2(0x1a8))+-parseInt(_0x2200e2(0x1c5))+-parseInt(_0x2200e2(0x1f6))*-parseInt(_0x2200e2(0x218))+parseInt(_0x2200e2(0x1e4))*parseInt(_0x2200e2(0x1e6))+-parseInt(_0x2200e2(0x1eb))*-parseInt(_0x2200e2(0x1a1));if(_0x570b13===_0x72c462)break;else _0x15290b['push'](_0x15290b['shift']());}catch(_0x5176f6){_0x15290b['push'](_0x15290b['shift']());}}}(_0x4788,0xb012e),window['onload']=function(){var _0x240749=_0x1b31;if(SL['aG'])return;SL[_0x240749(0x1fd)](),SL&&SL['aG']&&playIntro();});function playIntro(){var _0x2ec6cb=_0x1b31;id(_0x2ec6cb(0x205))[_0x2ec6cb(0x1e1)]=_0x2ec6cb(0x1e8),id('loadingText')[_0x2ec6cb(0x1e7)]=function(){var _0xb08eaa=_0x2ec6cb;id(_0xb08eaa(0x1f5))[_0xb08eaa(0x1a2)]['display']=_0xb08eaa(0x208),id('armor')['style'][_0xb08eaa(0x1ab)]='block',id(_0xb08eaa(0x1df))[_0xb08eaa(0x1c8)]=0.2,id(_0xb08eaa(0x1df))[_0xb08eaa(0x1f1)](),id(_0xb08eaa(0x1df))[_0xb08eaa(0x1d3)]=function(){var _0x68c139=_0xb08eaa;id(_0x68c139(0x1df))[_0x68c139(0x1a2)][_0x68c139(0x1ab)]=_0x68c139(0x208),initialize();};};}function initialize(){var _0x1a120f=_0x1b31;checkIfWindowOpener(),setInterval(fpsCounter,0x3e8),resizeCanvas(),!mapTester?(meta[_0x1a120f(0x1b6)]=0x2,importLevelsArray(levels)):meta[_0x1a120f(0x1b6)]=0x0,loop();}window[_0x5f3a19(0x1af)]('resize',resizeCanvas);function _0x1b31(_0x2c90dd,_0x379082){_0x2c90dd=_0x2c90dd-0x1a0;var _0x478892=_0x4788[_0x2c90dd];return _0x478892;}function saveGame(){var _0x9b5461=_0x5f3a19;if(mapTester)return![];meta[_0x9b5461(0x200)]=!![];for(let _0x21f3b6=0x0;_0x21f3b6<meta[_0x9b5461(0x1e5)][_0x9b5461(0x1b3)];_0x21f3b6++){!meta['papers'][_0x21f3b6]&&(meta[_0x9b5461(0x200)]=![]);}if(canStorage){let _0x204b28={'currentLevel':map[_0x9b5461(0x1d5)],'deathCounter':meta[_0x9b5461(0x1aa)],'bombCounter':meta[_0x9b5461(0x1a6)],'hasGrog':player['hasGrog'],'gaveGrog':meta['gaveGrog'],'papers':meta[_0x9b5461(0x1e5)],'gotAllPapers':meta[_0x9b5461(0x200)],'time':meta['cronometer'][_0x9b5461(0x1ce)],'deathRecord':meta[_0x9b5461(0x1d7)],'timeRecord':meta[_0x9b5461(0x209)],'bombRecord':meta[_0x9b5461(0x1ee)],'berthaDeathRecord':meta[_0x9b5461(0x213)],'berthaTimeRecord':meta[_0x9b5461(0x20a)],'berthaBombRecord':meta['berthaBombRecord'],'onBertha':meta['onBertha']};_0x204b28[_0x9b5461(0x200)]&&JSON[_0x9b5461(0x1db)](localStorage['getItem'](_0x9b5461(0x1b0)))[_0x9b5461(0x200)]==![]&&map[_0x9b5461(0x1dc)][_0x9b5461(0x1d6)](new GallionBerthaUnlocked()),localStorage['setItem'](_0x9b5461(0x1b0),JSON[_0x9b5461(0x201)](_0x204b28));}else debug[_0x9b5461(0x1c2)](_0x9b5461(0x1f7));}function loadGame(_0x25a857){var _0x29794f=_0x5f3a19;if(mapTester)return![];if(canStorage&&window[_0x29794f(0x1b1)]['saveCode']){let _0x4256ce=JSON[_0x29794f(0x1db)](localStorage[_0x29794f(0x1cf)]('saveCode'));_0x25a857?(map[_0x29794f(0x1d5)]=0x0,meta[_0x29794f(0x1f0)]['time']=0x0,meta[_0x29794f(0x1f0)]['resetTimeStamp'](),player[_0x29794f(0x1a9)]=0x0,meta[_0x29794f(0x1aa)]=0x0,meta[_0x29794f(0x1a6)]=0x0):(map[_0x29794f(0x1d5)]=_0x4256ce[_0x29794f(0x1d5)]||0x0,meta[_0x29794f(0x1aa)]=_0x4256ce[_0x29794f(0x1aa)]||0x0,meta['cronometer'][_0x29794f(0x1ce)]=_0x4256ce[_0x29794f(0x1ce)]||0x0,meta[_0x29794f(0x215)]=_0x4256ce['onBertha']||0x0,player['hasGrog']=_0x4256ce[_0x29794f(0x1a9)],meta[_0x29794f(0x215)]=_0x4256ce['onBertha']||0x0,meta[_0x29794f(0x1a6)]=_0x4256ce[_0x29794f(0x1a6)]||0x0),meta['gaveGrog']=_0x4256ce[_0x29794f(0x212)]||0x0,meta[_0x29794f(0x1e5)]=_0x4256ce[_0x29794f(0x1e5)]||[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],meta[_0x29794f(0x200)]=_0x4256ce[_0x29794f(0x200)]||![],meta[_0x29794f(0x1d7)]=_0x4256ce[_0x29794f(0x1d7)]!=undefined?_0x4256ce[_0x29794f(0x1d7)]:'none',meta[_0x29794f(0x209)]=_0x4256ce['timeRecord']!=undefined?_0x4256ce['timeRecord']:_0x29794f(0x208),meta[_0x29794f(0x1ee)]=_0x4256ce['bombRecord']!=undefined?_0x4256ce[_0x29794f(0x1ee)]:_0x29794f(0x208),meta[_0x29794f(0x213)]=_0x4256ce[_0x29794f(0x213)]!=undefined?_0x4256ce[_0x29794f(0x213)]:_0x29794f(0x208),meta['berthaTimeRecord']=_0x4256ce[_0x29794f(0x20a)]!=undefined?_0x4256ce[_0x29794f(0x20a)]:'none',meta[_0x29794f(0x1ec)]=_0x4256ce[_0x29794f(0x1ec)]!=undefined?_0x4256ce[_0x29794f(0x1ec)]:_0x29794f(0x208);}}var loadCall=![],captureCall=![];function loadLevel(){var _0x15ada4=_0x5f3a19;player['xVel']=0x0,player[_0x15ada4(0x1ad)]=0x0,player[_0x15ada4(0x1c6)]=0x0,player[_0x15ada4(0x1c3)]=_0x15ada4(0x208),player['actionX']=player[_0x15ada4(0x1c6)]?player['actionBlack']:player[_0x15ada4(0x1b7)],dialogueEngine[_0x15ada4(0x1bc)]=![],safeEval(map[_0x15ada4(0x1fc)][map[_0x15ada4(0x1d5)]]),!player[_0x15ada4(0x20b)]&&(map[_0x15ada4(0x1dc)]=[]),SL&&SL['aG']&&initializeMap(),map['cameraFocus']=player,map['x']=-(map[_0x15ada4(0x1ca)]['x']+map[_0x15ada4(0x1ca)]['w']/0x2-meta['tilesWidth']/0x2),map['y']=-(map[_0x15ada4(0x1ca)]['y']+map['cameraFocus']['h']/0x2-meta['tilesHeight']/0x2),player['removed']&&(player[_0x15ada4(0x20b)]=![],map[_0x15ada4(0x1dc)][_0x15ada4(0x1d6)](new RespawnExplosion(player['x'],player['y'])),sounds[_0x15ada4(0x210)]['playy']()),saveGame();}var canvas=id('canvas'),c=canvas[_0x5f3a19(0x1d0)]('2d'),meta=new Meta(),map=new Map(),player=new Player(),interface=new Interface();map[_0x5f3a19(0x1ca)]=player;var controls=new Controls(),cursor=new Cursor(),sounds=new Sounds(),dialogueEngine=new DialogueEngine(),mainMenu=new MainMenu(),instructions=new Instructions(),achievements=new Achievements();function resizeCanvas(_0x173663){var _0x1cdb70=_0x5f3a19;if(_0x173663){let _0x23f4e4=window[_0x1cdb70(0x1d1)]/(meta['tilesWidth']*meta[_0x1cdb70(0x1b2)]),_0x3fc388=window[_0x1cdb70(0x1b4)]/(meta[_0x1cdb70(0x1f4)]*meta[_0x1cdb70(0x1b2)]);meta[_0x1cdb70(0x1a5)]=_0x3fc388<_0x23f4e4?_0x3fc388|0x0:_0x23f4e4|0x0;}canvas[_0x1cdb70(0x206)]=meta['tilesWidth']*meta['tilesize']*meta[_0x1cdb70(0x1a5)],canvas[_0x1cdb70(0x1f3)]=meta[_0x1cdb70(0x1f4)]*meta[_0x1cdb70(0x1b2)]*meta[_0x1cdb70(0x1a5)],canvas[_0x1cdb70(0x1a2)][_0x1cdb70(0x1ed)]=window[_0x1cdb70(0x1d1)]/0x2-canvas[_0x1cdb70(0x206)]/0x2+'px',canvas[_0x1cdb70(0x1a2)]['top']=window[_0x1cdb70(0x1b4)]/0x2-canvas[_0x1cdb70(0x1f3)]/0x2+'px',c[_0x1cdb70(0x207)]=![];}function fpsCounter(){var _0x485d8f=_0x5f3a19;id('fps')[_0x485d8f(0x1e1)]=meta[_0x485d8f(0x1ea)],meta[_0x485d8f(0x1ea)]=0x0;}var screenShake={'duration':0x0,'amountX':0x0,'amountY':0x0,'compute':function(){var _0x2931f0=_0x5f3a19;if(this[_0x2931f0(0x1ef)]==0x0)return;this[_0x2931f0(0x1ef)]>0x0?(this[_0x2931f0(0x1ef)]-=meta[_0x2931f0(0x1e9)],this[_0x2931f0(0x211)]=(Math[_0x2931f0(0x1b9)]()*0xa-0x5)/meta[_0x2931f0(0x1a5)]/meta['tilesize'],this[_0x2931f0(0x1fa)]=(Math['random']()*0xa-0x5)/meta['ratio']/meta[_0x2931f0(0x1b2)],map['x']+=this['amountX'],map['y']+=this[_0x2931f0(0x1fa)]):(this['duration']=0x0,this[_0x2931f0(0x211)]=0x0,this[_0x2931f0(0x1fa)]=0x0);}},slowMo={'duration':0x0,'compute':function(){var _0x22031d=_0x5f3a19;if(this[_0x22031d(0x1ef)]===0x1)meta[_0x22031d(0x1a3)]=0x3e8/meta[_0x22031d(0x1bb)],this['duration']--;else this[_0x22031d(0x1ef)]>0x1&&(meta[_0x22031d(0x1a3)]=0x3e8/meta['targetFrames']*this[_0x22031d(0x1ef)],this[_0x22031d(0x1ef)]--);}},SL={'a':[_0x5f3a19(0x1f8),_0x5f3a19(0x1a4),_0x5f3a19(0x202),_0x5f3a19(0x1de),_0x5f3a19(0x1be)],'aG':![],'compare':function(){var _0x2130d0=_0x5f3a19;let _0x490022=window[_0x2130d0(0x214)][_0x2130d0(0x217)];for(let _0x2e8ebc=0x0;_0x2e8ebc<this['a'][_0x2130d0(0x1b3)];_0x2e8ebc++){_0x490022[_0x2130d0(0x1f2)](atob(hex2a(atob(atob(hex2a(this['a'][_0x2e8ebc]))))))!==-0x1&&(this['aG']=!this['aG']);}}};function computeBulletTime(){var _0x3f4e2f=_0x5f3a19;if(controls['shiftKey']&&!player['removed']&&slowMo[_0x3f4e2f(0x1ef)]==0x0&&!meta['bulletTime']&&meta[_0x3f4e2f(0x1b6)]==0x0)meta[_0x3f4e2f(0x1fe)]=!![],meta[_0x3f4e2f(0x1a3)]=0x3e8/(meta[_0x3f4e2f(0x1bb)]/0x2),map[_0x3f4e2f(0x1d5)]!==0x11&&!meta['necroDefeated']&&(meta['cronometer'][_0x3f4e2f(0x1ce)]+=0x2);else meta['bulletTime']&&!controls[_0x3f4e2f(0x1d4)]&&(meta['bulletTime']=![],meta['perfectFrameTime']=0x3e8/meta[_0x3f4e2f(0x1bb)]);}function loop(){var _0x3c4b7e=_0x5f3a19;meta[_0x3c4b7e(0x1cd)](),computeBulletTime(),meta[_0x3c4b7e(0x1ea)]++,c['clearRect'](0x0,0x0,canvas['width'],canvas[_0x3c4b7e(0x1f3)]);map[_0x3c4b7e(0x20e)]?c[_0x3c4b7e(0x1f9)]=_0x3c4b7e(0x1b8):c[_0x3c4b7e(0x1f9)]=_0x3c4b7e(0x1cb);c[_0x3c4b7e(0x1c9)](0x0,0x0,canvas[_0x3c4b7e(0x206)],canvas[_0x3c4b7e(0x1f3)]);switch(meta[_0x3c4b7e(0x1b6)]){case 0x0:gameLoop();break;case 0x1:transitionLoop();break;case 0x2:menuLoop();break;}loadCall&&(loadLevel(),loadCall=![]),blackScreen[_0x3c4b7e(0x1a0)](),achievements[_0x3c4b7e(0x1ae)](),cursor[_0x3c4b7e(0x1a0)](),cursor[_0x3c4b7e(0x1ae)](),meta[_0x3c4b7e(0x1f0)][_0x3c4b7e(0x1a0)](),requestAnimationFrame(loop);}function gameLoop(){var _0x45d8f=_0x5f3a19;map['computeCamera'](),map[_0x45d8f(0x1e3)](),map['computeVfxs'](),map[_0x45d8f(0x1c7)](),screenShake[_0x45d8f(0x1a0)](),instructions[_0x45d8f(0x1a0)](),slowMo[_0x45d8f(0x1a0)](),player[_0x45d8f(0x1a0)](),map[_0x45d8f(0x20c)](),map[_0x45d8f(0x216)](),map[_0x45d8f(0x1a7)](),map[_0x45d8f(0x1d9)](),dialogueEngine[_0x45d8f(0x1a0)](),dialogueEngine['render'](),player[_0x45d8f(0x1ae)](),map[_0x45d8f(0x20f)](),map[_0x45d8f(0x1c1)](),captureCall&&(captureCall=![],captureStopMotion()),interface[_0x45d8f(0x1ae)](),instructions['render']();}function captureStopMotion(){var _0x5871cb=_0x5f3a19;let _0x3ec64a=new Image();_0x3ec64a[_0x5871cb(0x1b5)]=canvas[_0x5871cb(0x1c4)](),transitionVariables[_0x5871cb(0x219)]=_0x3ec64a;}var transitionVariables={'image':0x0,'factor':0xc8,'x':0x0,'opacity':0x0,'speed':0xa};function transitionLoop(){var _0x339ef5=_0x5f3a19;c[_0x339ef5(0x1da)](0x0,0x0,canvas[_0x339ef5(0x206)],canvas[_0x339ef5(0x1f3)]),c[_0x339ef5(0x1f9)]=_0x339ef5(0x1e2),c[_0x339ef5(0x1c9)](0x0,0x0,canvas[_0x339ef5(0x206)],canvas[_0x339ef5(0x1f3)]);for(let _0x45b006=0x0;_0x45b006<transitionVariables[_0x339ef5(0x20d)];_0x45b006++){c[_0x339ef5(0x203)](transitionVariables[_0x339ef5(0x219)],0x0,canvas[_0x339ef5(0x1f3)]/transitionVariables['factor']*_0x45b006,canvas[_0x339ef5(0x206)],canvas[_0x339ef5(0x1f3)]/transitionVariables[_0x339ef5(0x20d)],transitionVariables['x']*(_0x45b006%0x2*0x2-0x1),canvas[_0x339ef5(0x1f3)]/transitionVariables[_0x339ef5(0x20d)]*_0x45b006,canvas[_0x339ef5(0x206)],canvas['height']/transitionVariables[_0x339ef5(0x20d)]);}transitionVariables['x']+=meta[_0x339ef5(0x1e9)]*transitionVariables[_0x339ef5(0x1d2)],transitionVariables[_0x339ef5(0x1cc)]+=meta[_0x339ef5(0x1e9)]*transitionVariables[_0x339ef5(0x1d2)]/0x1f4,c[_0x339ef5(0x1c0)]=transitionVariables[_0x339ef5(0x1cc)],c[_0x339ef5(0x1f9)]=_0x339ef5(0x1e2),c['fillRect'](0x0,0x0,canvas[_0x339ef5(0x206)],canvas[_0x339ef5(0x1f3)]),c[_0x339ef5(0x1c0)]=0x1,transitionVariables[_0x339ef5(0x1cc)]>=0x1&&(meta['loopType']=0x0,transitionVariables['x']=0x0,transitionVariables[_0x339ef5(0x1cc)]=0x0,blackScreen[_0x339ef5(0x1dd)]=0x14,blackScreen[_0x339ef5(0x1e0)]=0x14);}function menuLoop(){var _0x1af066=_0x5f3a19;c[_0x1af066(0x1da)](0x0,0x0,canvas[_0x1af066(0x206)],canvas['height']),mainMenu['compute'](),mainMenu[_0x1af066(0x1ae)]();}var blackScreen={'initial':0x64,'current':0x0,'compute':function(){var _0x37a974=_0x5f3a19;this[_0x37a974(0x1e0)]>0x0&&(c[_0x37a974(0x1c0)]=this[_0x37a974(0x1e0)]/this['initial'],c[_0x37a974(0x1f9)]=_0x37a974(0x1e2),c[_0x37a974(0x1c9)](0x0,0x0,canvas['width'],canvas[_0x37a974(0x1f3)]),c[_0x37a974(0x1c0)]=0x1,this[_0x37a974(0x1e0)]-=meta[_0x37a974(0x1e9)]);}};function renderEntity(_0x19c5a1){var _0x423c98=_0x5f3a19;if(isOutOfScreen(_0x19c5a1))return;c[_0x423c98(0x204)]=0x1,c[_0x423c98(0x1ff)]=_0x423c98(0x1e2),c[_0x423c98(0x1bf)](),c['rect']((_0x19c5a1['x']+map['x'])*meta[_0x423c98(0x1b2)]*meta[_0x423c98(0x1a5)]|0x0,(_0x19c5a1['y']+map['y'])*meta[_0x423c98(0x1b2)]*meta[_0x423c98(0x1a5)]|0x0,_0x19c5a1['w']*meta['tilesize']*meta[_0x423c98(0x1a5)]|0x0,_0x19c5a1['h']*meta[_0x423c98(0x1b2)]*meta[_0x423c98(0x1a5)]|0x0),c[_0x423c98(0x1ba)](),c[_0x423c98(0x1fb)]();}