function checkHand(){var r="",e=0;switch(convertHand(),console.log(duplicateCards()),duplicateCards()){case"2":var a=0;for(k=0;k<4;k++){if(2==occurrencesOf(a)){r="Pair (Jacks or better)",e=300;break}a=10+k}300!=e&&(r="Pair",e=200);break;case"22":r="2 Pairs",e=400;break;case"3":r="3 of a Kind",e=800;break;case"23":case"32":r="Full House",e=2300;break;case"4":r="4 of a Kind",e=4444,livesLeft+=1;break;default:isStraight()&&(r="Straight",e+=1e3),isAceStraight()&&(r="Ace Straight",e+=1200)}isFlush()&&(r?(r+=" and Flush",e+=5e3,livesLeft+=1):(r="Flush",e=1500)),r||(getMax()>9?(r="Jack or better high card",e=100):r="No bonus for this hand"),result+=e,info.innerHTML=r,key=keyboard.querySelector("[data-blanko]"),key.textContent="+"+e+" points bonus"}function convertHand(){for(var r=0;r<5;r++)valuesArray[r]=sortedDeck.indexOf(deck[r])%13,suitsArray[r]=Math.floor(sortedDeck.indexOf(deck[r])/13)}function isFlush(){for(var r=0;r<4;r++)if(suitsArray[r]!=suitsArray[r+1])return!1;return!0}function isStraight(){for(var r=getLowest(),e=1;e<5;e++)if(1!=occurrencesOf(r+e))return!1;return!0}function isAceStraight(){for(var r=9,e=0;e<4;e++)if(1!=occurrencesOf(r+e))return!1;return 1==occurrencesOf(0)}function getLowest(){for(var r=12,e=0;e<valuesArray.length;e++)r=Math.min(r,valuesArray[e]);return r}function getMax(){for(var r=9,e=0;e<valuesArray.length;e++)r=Math.max(r,valuesArray[e],Math.floor(13/(valuesArray[e]+1)));return r}function duplicateCards(){for(var r=[],e="",a=0;a<valuesArray.length;a++){var t=occurrencesOf(valuesArray[a]);t>1&&-1==r.indexOf(valuesArray[a])&&(e+=t,r.push(valuesArray[a]))}return e}function occurrencesOf(r){var e=0,a=0;do{if(a=valuesArray.indexOf(r,a)+1,0==a)break;e++}while(a<valuesArray.length);return e}const sortedDeck=["A♠ ","2♠ ","3♠ ","4♠ ","5♠ ","6♠ ","7♠ ","8♠ ","9♠ ","10♠","J♠ ","Q♠ ","K♠ ","A♣ ","2♣ ","3♣ ","4♣ ","5♣ ","6♣ ","7♣ ","8♣ ","9♣ ","10♣","J♣ ","Q♣ ","K♣ ","A♥ ","2♥ ","3♥ ","4♥ ","5♥ ","6♥ ","7♥ ","8♥ ","9♥ ","10♥","J♥ ","Q♥ ","K♥ ","A♦ ","2♦ ","3♦ ","4♦ ","5♦ ","6♦ ","7♦ ","8♦ ","9♦ ","10♦","J♦ ","Q♦ ","K♦ "],cardSymbols=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],suitSymbols=["♠","♣","♥","♦"];var valuesArray=[],suitsArray=[];checkHand();